2009-08-04  Darren Kenny  <darren.kenny@sun.com>

	* configure.in:
	  Update to 0.99.4, and enable the building on a non-BFU-ed system.
	  This is currently done using actual binaries, but this should become
	  unnecessary post-integration.
	* Makefile.am:
	  Update EXTRA_DIST for libnwam binaries and header changes.
	* SUNWnwam-manager.spec, nwam-manager.spec:
	  Update versions of specs here to match those used for building in a
	  normal desktop build environment - good the check them in somewhere
	  for now.
	* common/libnwamui.c, common/nwamui_ncu.c, common/nwamui_ncu.h,
	  common/nwamui_wifi_net.c, daemon/notify.c,
	  daemon/nwam-tooltip-widget.c, daemon/status_icon.c, tests/main.c: 
	  Update these for the removal of the references to the NWAM tunnels,
	  at the moment it's all #ifdef-ed out rather than total removal since
	  it's likely to be required quite soon after integration.
	* nwam_core/copy_onnv_headers.sh, nwam_core/lib/i386/libnwam.so,
	  nwam_core/lib/i386/libnwam.so.1, nwam_core/lib/sparc/libnwam.so,
	  nwam_core/lib/sparc/libnwam.so.1, nwam_core/usr/include/sys/dl.h,
	  nwam_core/usr/include/sys/dld_ioc.h,
	  nwam_core/usr/include/sys/dlpi.h:
	  Update headers being used, removing some that we no longer require
	  for building. Also added binaries for i386 and sparc to allow
	  building of nwam-manager on non-BFU'ed system.

2009-08-04  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c (main):
	* capplet/nwam_conn_stat_panel.c (nwam_conn_status_panel_init):
	* capplet/nwam_location_dialog.c (nwam_location_dialog_init),
	(location_lock_location_cb_toggled),
	(location_activate_best_location_btn_clicked),
	(prof_lock_current_loc):
	* capplet/nwam_net_conf_panel.c:
	* common/nwamui_prof.c (nwamui_prof_class_init),
	(nwamui_prof_init), (nwamui_prof_set_property),
	(nwamui_prof_get_property), (nwamui_prof_finalize),
	(gconf_notify_cb), (nwamui_prof_get_instance),
	(nwamui_prof_notify_begin):
	* daemon/main.c (join_wifi_not_in_fav), (join_any_fav_wifi),
	(add_any_new_wifi_to_fav), (action_on_no_fav_networks), (main):
	* daemon/notify.c (on_prof_notification_default_timeout),
	(get_notification):
	* daemon/nwam-menu.c:
	* daemon/nwam-tooltip-widget.c (connect_object):
	* daemon/status_icon.c (prof_lock_current_loc),
	(connect_nwam_object_signals), (nwam_status_icon_run),
	(on_activate_static_menuitems),
	(nwam_menu_create_static_menuitems):
	Basic code for lock current location for panel icon and
	location dialog. Fixed nwamui_prof ref/unref problem, removed
	all prof signals and uses notify signals instead.

2009-08-03  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/status_icon.c (connect_nwam_object_signals),
	(nwam_menu_item_delete): Fixed removing fav wifi crashes.
	Fixed a wrong signal name.

2009-07-31  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_vpn_pref_dialog.c: 
	  Fix defect#10335, where start/stop buttons were seen to be active to
	  conditionally activated ENMs. Also fixed a validation error when
	  doing update_obj.
	* tests/main.c: 
	  Add scan results to tests.

2009-07-30  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.ui:
	  Re-merge some missing elements like NwamTreeViews and response
	  codes.
	* capplet/nwam_conn_conf_ip_panel.c:
	  Fix bug#10302 where incorrect validation was being applied for IPv6
	  entries. Also fixed looping notifications when changing some ipv6
	  elements.
	  Fix bug#10296 where multiple entries didn't correctly set DHCP or
	  not flag causing the setting of an address to fail.
	* common/nwamui_object.h, common/nwamui_object.c: 
	  Add some state caching - at lot of the time we get the updates from
	  nwamd, so we don't need to immediately seek them again, but there is
	  a timeout to try refresh the state if called again after 60 seconds.
	  Added nwamui_object_set_nwam_state() to allow NwamuiDaemon to set it
	  when it sees the events and updated nwamui_object_get_nwam_state()
	  to use the cached information if available.
	  Fixes defect#9848.
	* common/nwamui_ncp.h, common/nwamui_ncp.c: 
	  Add caching of the priority group, and adding a function 
	  nwamui_ncp_set_current_prio_group() to enable setting on receipt of
	  an event. Updated nwamui_ncp_get_current_prio_group() to use cached
	  value, if it's not been too long since updated.
	* common/nwamui_daemon.c: 
	  When we get object state changes, set this information in the
	  NwamuiObject. Also update the active_ncp's priority group when we
	  see such an event.
	* common/nwamui_ncu.c: 
	  Add to nwamui_ncu_get_connection_state_string to set the wifi_info
	  object if it sees that it's NULL yet we're connected.
	* daemon/status_icon.c: 
	  Don't generate an event on wireless connect, only when finally have
	  address.

2009-07-30  Calum Benson <calum.benson@sun.com>

	* capplet/nwam-manager-properties.ui:
	  Add Lock to Location and Activate Best Location controls,
	  per d.o.o bug #9561.

2009-07-29  Darren Kenny  <darren.kenny@sun.com>

	* capplet/capplet-utils.h, capplet/capplet-utils.c: 
	  Add a function to raise a dialog in the stack
	* capplet/main.c: 
	  Make the UI handle a UniqueApp message to show itself if a 2nd
	  instance is run.
	* common/nwam_pref_iface.h, common/nwam_pref_iface.c,
	  capplet/nwam_env_pref_dialog.c, capplet/nwam_location_dialog.c,
	  capplet/nwam_pref_dialog.c, capplet/nwam_vpn_pref_dialog.c,
	  capplet/nwam_wireless_chooser.c, capplet/nwam_wireless_dialog.c: 
	  Add nwam_pref_dialog_get_window() function to obtain a GtkWindow
	  pointer for the various capplet dialogs, and implement in each
	  variant.
	* common/nwamui_wifi_net.c: 
	  Update for API changes w.r.t. sec_mode property and
	  nwam_wlan_select().
	* daemon/main.c: 
	  Use a message box rather than a printf for unique instance message.
	* capplet/nwam_condition_vbox.c:
	  Fix some issues for rules, specifically fixed handling of No
	  Conditions, add/remove button errors, and some filtering issues for
	  the operand, but still needs a little more work.
	* nwam_core/usr/include/libnwam.h:
	  Update to latest header file to get nwam_wlan_select() and sec_mode
	  property API change.

2009-07-29  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_util_object_notify_cb):
	Better debug info.
	* capplet/nwam-manager-properties.ui:
	In vpn_dialog, smf_rb and cli_rb should in a group.
	* capplet/nwam_conn_stat_panel.c (on_nwam_enm_notify_cb):
	Fixed a crash when multiple enms are running.
	* capplet/nwam_vpn_pref_dialog.c (nwam_vpn_pref_dialog_init),
	(capplet_tree_model_row_changed_func), (vpn_pref_clicked_cb),
	(nwam_vpn_pre_selection_validate), (nwam_vpn_selection_changed),
	(on_rules_button_clicked):
	Update/commit enm before start/stop will losing cli commands info.
	smf_rb and cli_rb don't work correctly.

2009-07-29  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/status_icon.h:
	* daemon/status_icon.c (on_activate_static_menuitems),
	(notification_listwireless), (nwam_exec):
	* capplet/nwam_pref_dialog.c (refresh):
	* capplet/nwam_pref_dialog.h:
	* capplet/main.c (main):
	Fix doo#9522 show network profile view dialog.
	* capplet/nwam_conn_conf_ip_panel.c (nwam_conf_ip_panel_init),
	(populate_panel), (ipv6_manual_addresses_cb_toggled):
	Fixed doo#10301 static ipv6 checkbox.
	* capplet/nwam_net_conf_panel.c (foreach_set_group_mode):
	Update ncu pri group uses set_enabled function rather than
	set_active.
	* capplet/nwam_vpn_pref_dialog.c (nwam_compose_tree_view),
	(vpn_pref_clicked_cb), (nwam_vpn_state_cell_cb):
	Commit enm before start/stop it.
	* daemon/notify.c (nwam_notification_show_ncu_connected),
	(nwam_notification_show_ncu_disconnected),
	(nwam_notification_show_ncu_wifi_connect_failed),
	(nwam_notification_show_ncu_wifi_selection_needed),
	(nwam_notification_show_ncu_wifi_key_needed):
	Seems use ncu state icons is better than env state icons
	when update ncu state.

2009-07-28  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_stat_panel.c (refresh),
	(conn_view_filter_visible_cb),
	(nwam_conn_status_conn_view_row_activated_cb), (repair_clicked_cb):
	Fixed doo#9767 nwam-manager-properties show connections lists 
	disabled interface. Filter by get_active. 
	* common/libnwamui.c:
	* common/libnwamui.h:
	* daemon/nwam-wifi-item.c (wifi_net_notify):
	* capplet/nwam_wireless_chooser.c (nwam_wifi_chooser_cell_cb):
	* capplet/nwam_conn_conf_ip_panel.c (nwam_conn_wifi_fav_cell_cb):
	Remove until_get_strenght_icon to use _by_size function.
	* common/nwamui_ncp.c (nwamui_ncp_class_init),
	(nwamui_ncp_get_nwam_state): Add get_state function.

2009-07-27  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (nwamui_util_get_env_status_icon),
	(nwamui_util_get_network_status_icon),
	(nwamui_util_get_ncu_status_icon):
	Do not compose transparent status icon. Fixed the forgot
	duplicate wireless strength icon so it is composed by
	different status icons multiple times. Get ncu status
	accept icon size parameter. 
	* common/libnwamui.h:
	* common/nwamui_env.h:
	* common/nwamui_wifi_net.h:
	Simply mark some unions start from zero.
	* daemon/notify.c:
	Change notify icon size to 32.
	* daemon/nwam-tooltip-widget.c (connect_object),
	(nwam_object_notify), (nwam_ncu_notify):
	Fixed ncu status is out-of-sync.
	* daemon/status_icon.c (daemon_status_changed), (daemon_info),
	(daemon_wifi_selection_needed), (daemon_ncu_up), (daemon_ncu_down),
	(nwam_status_icon_set_status), (status_icon_size_changed),
	(update_wifi_timer_func):
	* daemon/status_icon.h:
	nwam_status_icon_set_status need the overall network status.
	Removed its env status parameter since it is overwriten inside
	the function.

2009-07-27  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_model_1_level_foreach):
	* capplet/capplet-utils.h:
	* capplet/nwam_net_conf_panel.c (apply), (ncu_find_gt_name),
	(foreach_set_group_mode), (set_group_object_group_mode),
	(update_widgets), (ncu_pri_group_find_iter_gt),
	(connection_activation_combo_changed_cb): Change the pri group of ncu
	do things.

2009-07-24  Darren Kenny  <darren.kenny@sun.com>

	* data/Makefile.am, data/nwam-manager.desktop.in.in:
	  Fix issue where nwam-manager.dekstop file wasn't being merged
	  properly, resulting in it not @LIBEXECDIR@/@PROGRAM@ being left in
	  installed file.

2009-07-24  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  As part of fix for defect#9853, where the ncu specified in the
	  condition was unqualified, I'm adding a function to get the
	  qualified name - nwamui_ncu_get_nwam_qualified_name().
	* capplet/nwam_condition_vbox.c: 
	  Use the qualified name.
	* common/nwamui_ncp.c: 
	  Fix a possible issue where we would be seeing devices not on the
	  system since we don't check the dladm flags for the active flag
	  being set.
	* tests/main.c: 
	  As test to show qualified name.

2009-07-23  Darren Kenny  <darren.kenny@sun.com>

	* configure.in:
	  Bump to 0.99.3
	* common/libnwamui.h, common/libnwamui.c: 
	  Change nwamui_util_show_message() to not take a boolean for whether
	  the showm message should block rest of events or not while showing,
	  i.e. use gtk_dialog_run or gtk_widget_show.
	  Add nwamui_util_validate_ip_address() function to validate ip
	  addresses, can optionally show a message if invalid.
	  Add pair of functions to allow easy set/unset of IP validation on a
	  GtkEntry field - nwamui_util_set_entry_ip_address_only() and 
	  nwamui_util_unset_entry_ip_address_only().
	* capplet/nwam_condition_vbox.c: 
	  Fix defect#10032 - add validation to entry field if IP address in
	  use.
	* capplet/nwam_conn_conf_ip_panel.c: 
	  Add validation to input areas for IP addresses.
	* capplet/nwam_env_pref_dialog.c, capplet/nwam_location_dialog.c,
	  capplet/nwam_pref_dialog.c, capplet/nwam_vpn_pref_dialog.c,
	  capplet/nwam_wireless_dialog.c:
	  Update for added param to nwamui_util_show_message().

2009-07-22  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_wireless_dialog.c:
	  Fix bug#9823 where the show passwords toggle was being made
	  insensitive when it should  be sensitive.
	* common/nwamui_ncu.c: 
	  Fix a double free issue.
	* common/nwamui_wifi_net.c: 
	  Add some code to try get security information about favourits from
	  dladm to nwamui_wifi_net_update_with_handle(), but unfortunately it
	  cannot work without more privs. Logged NWAM bug for aliternative in
	  the API.

2009-07-22  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c:
	  If an User NCP doesn't exist, then create one. This is a fix for
	  bug#9705. Since there isn't an nwam_ncp_commit function, creating
	  this has immediate effect so will always be saved, but it's felt
	  that the negative effect is negligible. 
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Add an nwam_ncp_clone() function.

2009-07-22  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c:
	  Fix defect#10100 where things got out of sync when NWAM was
	  restarted. The fix was to handle events better, noting that if a new
	  event occurred when we thought the connection was broken then
	  obviously it isn't any more...
	* daemon/status_icon.c: 
	  Move start/stop of wifi timer back to when NCP changes since it's
	  more correct in the long run than on ncu_up/down events, especially
	  if you've more than one wireless device.

2009-07-21  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c:
	  Handle validation of IP Address fields.
	* common/libnwamui.h, common/libnwamui.c: 
	  Added several functions to handle GtkEntry and ip address
	  validations : nwamui_util_validate_ip_address(),
	  nwamui_util_set_entry_ip_address_only(),
	  nwamui_util_split_address_prefix(),
	  nwamui_util_join_address_prefix().
	* common/nwamui_ncu.c: 
	  Fix handling of x.x.x.x/N format addresses on loading of
	  configuration. 

2009-07-21  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncp.c: 
	  Change some warnings to be debug statements.
	* daemon/status_icon.c: 
	  Fix bug in daemon_status_changed which was blanking the menus when
	  the daemon state changed.
	  Added handlers for the new daemon enm and env list notifications.

2009-07-20  Darren Kenny  <darren.kenny@sun.com>

	* capplet/capplet-utils.c, capplet/nwam_location_dialog.c: 
	  Use the ENV enabled property as the transient state, which will
	  later be acted upon on commit to enable the location.
	* capplet/nwam-manager-properties.ui, common/libnwamui.h,
	  common/libnwamui.c: 
	  Make the rename dialog ok turn on/off based on length of string.
	  Also add a function to convert netmask str to prefixlen.
	* capplet/nwam_conn_conf_ip_panel.c: 
	  Fis bug#10060 to enable configuring of manual addresses.
	* capplet/nwam_tree_view.c: 
	  Fix possible crash on NULL de-ref.
	* common/nwamui_daemon.c: 
	  Change functions to append/remove env/enm/ncp to first check for
	  existance, and also to fire notify events on change.
	* common/nwamui_env.c: 
	  Fix bug#10030 to allow cloning of locations.
	* common/nwamui_ip.c: 
	  Change DHCP/STATIC to be mutually exclusive, changing one changes
	  the other.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Fix an issue w.r.t. guint64 being cast to array of enums - they
	  sizes differ, so was picking up wrong values of v6 enabled or not.
	  Also handle the committing of IP address changes, by populating the
	  handle before commit.
	  Also add a ipv4_active flag, since it's possible to have a just v6
	  configuration.

2009-07-17  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: 
	  Fix some bugs in how the active_env was being tracked, resulting in
	  the wrong value. 
	* daemon/status_icon.c: 
	  Change how daemon_status_changed calls callbacks for changes in
	  location and ncp, it generates a lot of these when punching in/out.

2009-07-17  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c, daemon/main.c:
	  Disable Unique app when using debug mode.
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Another part of the fix for defect#9766 which should be taking more
	  notice of the object action and state events.
	  Also fixed an issue where all location events were being processed
	  as if they were the active location, causing an incorrect panel icon
	  state to be shown.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Change nwamui_ncu_get_connection_state to use state information from
	  NWAM rather then dladm - there is more useful information here. As a
	  consequence also added some extra useful states and matching
	  strings - e.g. DHCP Timed out, Waiting for Address, etc.
	* common/libnwamui.c: 
	  Update for new NCU states.
	* daemon/notify.c: 
	  Remove unused last_message and similar functions. Added a debug
	  statement to output messages so we can see them in debug logs.

2009-07-17  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_wireless_dialog.c (nwam_pref_init), (help):
	Fixed doo#9499 help does not launch from the
	"Add wireless Network" dialog.
	* data/Makefile.am: Forget this file.

2009-07-17  Lin Ma  <Lin.Ma@Sun.COM>

	* Makefile.am:
	* capplet/main.c (main):
	* configure.in:
	* daemon/Makefile.am:
	* daemon/main.c (main):
	* daemon/nwam-manager.desktop.in:
	* daemon/nwam-manager.schemas.in:
	* data/nwam-manager.desktop.in:
	* data/nwam-manager.schemas.in:
	Use libunique. Add a very simple code to fix doo#9771.
	Remove old singleton code.
	* data/nwam-manager-properties.desktop.in:
	Add a panel menuitem for network locations, doo#9494
	* daemon/status_icon.c (daemon_ncu_up), (daemon_ncu_down):
	Add two comments.
	* capplet/nwam_location_dialog.c (apply):
	Fix doo#10028 nwam-manager-properties -l ok button does not
	close dialog - sparc 
	
2009-07-16  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_model_find_max_name_suffix),
	(capplet_get_increasable_name), (capplet_get_max_name_num),
	(capplet_get_original_name):
	* capplet/capplet-utils.h:
	Fixed duplicated name bug.
	* capplet/nwam_location_dialog.c (nwam_compose_tree_view),
	(refresh), (on_button_clicked):
	Commit immediately after create or dup one, otherwise the second
	dup will fail.
	* capplet/nwam_vpn_pref_dialog.c (refresh):
	Updated due to dup name functions changes.
	* common/nwamui_ncp.c (nwamui_ncp_commit):
	Fixed a nit.
	* common/nwamui_object.c (object_notify_cb):
	Reenable object notify message.

2009-07-14  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c,
	  capplet/nwam_wireless_dialog.c, common/libnwamui.c: 
	  Make the use of a separate WEP HEX and ASCII optional since right
	  now NWAM and dladm doesn't differentiate, so we can't really
	  differentiate in the UI either. Also fix issue where key index
	  wasn't being shown for all WEP types, but it was for WPA, when WPA
	  doesn't support it.
	* common/nwamui_env.c, common/nwamui_env.h:
	  Fix new function to use const char, and also replace an assertion
	  with a warning.  Also on reload, generate some notify messages if
	  the name or enabled has changed.
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Add nwamui_ncp_reload function.
	* common/nwamui_daemon.c: 
	  Add an NCP_LIST property, so UI elements can listen for changes in
	  the ncp_list. 
	  Part of the fix for defect#9766 so that we should now be noticing
	  all the most events w.r.t. objects in the system.

2009-07-14  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_env_pref_dialog.c (apply):
	* capplet/nwam_env_svc.c (object_notify_cb):
	Fixed doo#9642 cannot remove last service listed in Network services
	* common/nwamui_daemon.c (nwamui_daemon_set_property),
	(object_notify_cb), (default_active_env_changed_signal_handler),
	(default_active_ncp_changed_signal_handler),
	(default_ncu_up_signal_handler), (default_ncu_down_signal_handler):
	* common/nwamui_env.c (nwamui_env_set_svcs_enable),
	(nwamui_env_set_svcs_disable), (object_notify_cb):
	Fixed location change signal can't be sent anymore.
	* daemon/nwam-env-item.c (on_nwam_env_toggled):
	Uses nwamui_env_activate instead of daemon set active env.
	* common/nwamui_cond.c (object_notify_cb):
	* common/nwamui_enm.c (object_notify_cb):
	* common/nwamui_ip.c (object_notify_cb):
	* common/nwamui_ncp.c (object_notify_cb):
	* common/nwamui_ncu.c (object_notify_cb):
	* common/nwamui_object.c (nwamui_object_init), (object_notify_cb):
	* common/nwamui_prof.c (object_notify_cb):
	* common/nwamui_wifi_net.c (object_notify_cb):
	* daemon/nwam-menu.c (nwam_menu_real_remove),
	(nwam_menu_real_insert), (menu_section_get_children):
	Temporary disable object notifications. To enable them again enable
	object notify of NwamuiObject.
	* daemon/status_icon.c (daemon_status_changed), (daemon_ncu_up),
	(daemon_ncu_down), (daemon_active_ncp_changed),
	(nwam_menu_item_create), (nwam_menu_item_delete):
	Poll wifi info only any nic are enabled.

2009-07-13  Darren Kenny  <darren.kenny@sun.com>

	* configure.in:
	  Bump to 0.99.2

2009-07-13  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_condition_vbox.c
	(table_get_condition_subject_model): Fixed bug#9651
	* capplet/nwam_conn_conf_ip_panel.c
	(nwam_conf_ip_panel_class_init), (nwam_compose_multi_ip_tree_view),
	(nwam_conf_ip_panel_init), (nwam_conf_ip_panel_finalize),
	(nwam_conn_multi_ipv4_cell_edited_cb),
	(nwam_conn_multi_ipv6_cell_edited_cb):
	* capplet/nwam_location_dialog.c (on_button_clicked):
	* capplet/nwam_tree_view.c (nwam_tree_view_init),
	(object_tree_model_notify), (nwam_tree_view_row_inserted),
	(nwam_tree_view_row_changed),
	(nwam_tree_view_get_cached_object_path), (connect_model_signals):
	* capplet/nwam_tree_view.h:
	* capplet/nwam_vpn_pref_dialog.c (vpn_pref_clicked_cb):
	Fixed bug#9869 mutiply ipv6 addresses, update nwam tree view and
	all references.
	* common/nwamui_ncp.c (nwamui_ncp_get_current_prio_group):
	* daemon/status_icon.c (nwam_menu_create_static_menuitems):
	Fixed bug#9498
	
2009-07-10  Darren Kenny  <darren.kenny@sun.com>

	* nwam_core/usr/include/libnwam.h:
	  Update to latest version of header.

2009-07-09  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: 
	  Change nwamd_event_handler, and how it's handles object_action
	  events, via the function nwamui_daemon_handle_object_action_event(),
	  which was re-layed out by object - really needs some more work to
	  update objects correctly!.
	
2009-07-09  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.ui:
	* capplet/nwam_wireless_dialog.c (nwam_wireless_dialog_class_init),
	(nwam_wireless_dialog_init), (nwam_wireless_dialog_set_property),
	(nwam_wireless_dialog_get_property),
	(nwam_wireless_dialog_set_wifi_net),
	(nwam_wireless_dialog_set_key_index),
	(nwam_wireless_dialog_get_key_index), (dialog_run),
	(nwam_wireless_dialog_finalize), (security_selection_cb):
	* capplet/nwam_wireless_dialog.h:
	* common/nwamui_wifi_net.h: Fixed doo#9802

2009-07-08  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.ui:
	* capplet/nwam_conn_conf_ip_panel.c (show_changed_cb): doo:9870

2009-07-08  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwamui_ncu.c (get_nwam_ncu_handle), (nwamui_ncu_clone):
	Fixed doo:9709
	* daemon/status_icon.c (daemon_info), (daemon_active_ncp_changed),
	(daemon_active_env_changed):
	Reset change notify.
	
2009-07-07  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_wifi_net.c: 
	  Update to handle the wep key index/slot and pass when setting the
	  wep key.
	* daemon/status_icon.c: 
	  Fixed a stupid error where ncu could be NULL due to use of local
	  scope variable masking outer.
	* nwam_core/usr/include/libnwam.h:
	  Update to latest header to get API changes.

2009-07-06  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_util_object_notify_cb):
	* capplet/capplet-utils.h: Update for tree store.
	* capplet/nwam_location_dialog.c
	(nwam_location_connection_enabled_toggled_cb), (on_button_clicked),
	(tree_model_foreach_find_enabled_env): Removed manual row changed
	call since it has used capplet_util_object_notify_cb.
	* capplet/nwam_vpn_pref_dialog.c
	(capplet_tree_model_row_changed_func), (nwam_compose_tree_view),
	(refresh), (nwam_vpn_selection_changed), (on_nwam_enm_notify_cb):
	Update gui widgets once enm changes.
	* common/nwamui_enm.c (nwamui_enm_set_active): Add notify for active.

2009-07-06  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_vpn_pref_dialog.c (nwam_compose_tree_view),
	(vpn_pref_clicked_cb), (enm_name_cell_edited):
	* common/nwamui_enm.c (nwamui_enm_class_init),
	(nwamui_enm_destroy): Fixed doo:9847. And update start/stop rules label
	after enm name changes.

2009-07-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_wireless_chooser.c (nwam_compose_wifi_chooser_view),
	(nwam_wireless_chooser_init), (nwam_wifi_scan_start): Fixed runtime
	critical warnings and dup wlan items.
	* common/nwamui_daemon.h:
	* common/nwamui_daemon.c (nwamui_daemon_class_init),
	(nwamui_daemon_set_property), (find_compare_wifi_net_with_name),
	(dispatch_scan_results_if_wireless): Remove daemon status signal, uses
	status notify instead.
	* common/nwamui_ncp.c (nwamui_ncp_new_with_handle):
	* common/nwamui_ncu.c (populate_ip_ncu_data),
	(nwamui_ncu_wifi_hash_insert_or_update_from_handle):
	* common/nwamui_wifi_net.c (nwamui_wifi_net_update_with_handle):
	Fixed some mem leak.
	* daemon/status_icon.c (daemon_status_changed),
	(nwam_menu_scan_started), (daemon_active_ncp_changed),
	(daemon_active_env_changed), (connect_nwam_object_signals),
	(nwam_status_icon_run), (status_icon_popup),
	(activate_test_menuitems), (enable_sync_wifi_signals_func),
	(nwam_menu_enable_sync_wifi_signals_timer): Delay sync wifi menuitems
	when pop menu is visible.

2009-07-02  Lin Ma  <Lin.Ma@Sun.COM>

	* common/Makefile.am: Clean code for 'make dist'.

2009-07-01  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: 
	  Changed dispatch_scan_results_from_wlan_array to first sort the list
	  of wlans by signal strength before dispatching, this ensures that
	  the strongest signal is shown in the menus.
	  Modified nwamui_daemon_populate_wifi_fav_list
	  and events to ensure that  they are using cached WifiNet objects
	  rather than creating their own - removes the chances of duplicate
	  entries occuring.
	* common/nwamui_env.c: 
	  In nwamui_env_update_with_handle() ensure that the nwam_loc handle
	  is NULL if failed to read from the system.
	* common/nwamui_ncp.h, common/nwamui_ncp.c: 
	  Add function nwamui_ncp_get_wireless_ncus() to enable easy fetching
	  of the wireless ncus in a given NCP.
	* common/nwamui_ncu.h, common/nwamui_ncu.c:
	  Add function nwamui_ncu_wifi_hash_insert_or_update_from_handle to
	  support insert/update with a known_wlan_handle too.
	* daemon/nwam-wifi-item.c: 
	  Change comparision to use signal strength instead of speed, sorting
	  in descending order.

2009-06-30  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.ui:
	  Fix issue where the wifi dialog didn't show on taskbar.
	* common/nwamui_ncp.c: 
	  Fix crash in error using format string, only seen when nwam
	  restarted.
	* common/nwamui_ncu.c: 
	  Fix logic error in determining if a wifi connection is active.
	  Should also take into account the activation mode and the active
	  priority.
	* common/nwamui_wifi_net.c: 
	  Fix logic error in nwamui_wifi_net_store_key which caused it to do
	  nothing.
	  Fix assumptions in nwamui_wifi_net_validate_favourite and
	  nwamui_wifi_net_commit_favourite where they always assumed the
	  known_wlan handle was set, but it's not for non-favourite objects.
	  This fixes defect#9737
	* daemon/status_icon.c: 
	  On getting a key, we should also cause a connect attempt to be made.

2009-06-29  Darren Kenny  <darren.kenny@sun.com>

	* configure.in:
	  Bump to 0.99.1.
	* common/nwamui_ncp.h, common/nwamui_ncp.c: 
	  Add nwamui_ncp_new() function allow for creation of an empty User
	  NCP.
	  Add functions to allow for add/remove of an ncu, which are tracked
	  for when it comes to time to commit or rollback.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Fix issue in nwamui_ncu_update_with_handle() where if the object
	  wasn't yet committed it would forget it's information.
	  Add nwamui_ncu_clone() and nwamui_ncu_destroy() functions.
	* capplet/nwam_net_conf_panel.c: 
	  Fix defect#9709 where changes to the network preferences were being
	  ignored.
	* capplet/nwam_conn_conf_ip_panel.c: 
	  Fix defect#9763 where changes to the entry fields were triggering a
	  refresh thus preventing a user for entering any text!.
	* capplet/nwam_pref_dialog.c: 
	  Call nwam_pref_cancel() when Cancel button is clicked.
	* capplet/nwam_conn_stat_panel.c, capplet/nwam_vpn_pref_dialog.c,
	  capplet/nwam_wireless_chooser.c: 
	  Add empty cancel() functions to avoid NULL pointer problem.
	* common/libnwamui.c:
	  Add ref to returned pixmaps.

2009-06-29  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_net_conf_panel.c:
	  Make the connections dialog actually do something. Also fixed some
	  warnings.
	* common/nwamui_ncp.h, common/nwamui_ncp.c: 
	  Add nwamui_ncp_add_ncu() function to add to the NCP.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Add function to clone an NCU.

2009-06-26  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: 
	  If activation of an env doesn't work, then don't change the stored
	  value of the active_env.
	* common/nwamui_env.c: 
	  Print debug information about nwam error status.
	* daemon/status_icon.c: 
	  When recreating LOC and ENM section, clear out existing entries
	  otherwise we get multiple entries. Fixes defect#9560.
	* daemon/status_icon_tooltip.c: 
	  Ref the newly created env/ncp_widget since we are storing it as well
	  as passing to container, which (appears to) claims ownership. (was
	  causing an assertion if didn't do this)
	  Add some comments to explain the handling of updated ncp and fix
	  some minor warnings.

2009-06-26  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_pref_dialog.c, common/nwamui_ncp.c: 
	  Fix defect#9707 where the activation of the NCP wasn't being done.
	  The call to apply changes in the panel was only being done if the
	  selected_ncu was non-NULL - which it isn't if an NCU is not selected
	  in the combo box. Also, found then that activating the Automatic NCP
	  fired an exception.

2009-06-26  Darren Kenny  <darren.kenny@sun.com>

	* capplet/capplet-utils.h, capplet/capplet-utils.c: 
	  Add notification to handler to added objects so that we can track
	  changes and send a row-changed event.
	* common/libnwamui.h, common/libnwamui.c: 
	  Create functions to get/set debug_mode (rather than using global
	  vars) and centralize the function to init the default log handler
	  too.
	* capplet/main.c, daemon/main.c, tests/main.c, daemon/nwam-menu.c,
	  daemon/status_icon.c: 
	  Change use of debug variable to use of nwamui_util_* debug
	  functions.
	* capplet/nwam-manager-properties.ui:
	  Fix defect#9627 where because the names of the buttons in the
	  refresh dialog weren't unique GtkBuilder wasn't "linking" them to
	  the response callback.
	* capplet/nwam_condition_vbox.c: 
	  Add cancel function to nwam_pref interface.
	* capplet/nwam_env_pref_dialog.c: 
	  Implement a cancel() function and add it to nwam_pref interface,
	  then ensure that it's being called in there response callback.
	* capplet/nwam_location_dialog.c: 
	  Implement a cancel() function and add it to nwam_pref interface,
	  then ensure that it's being called in there response callback.
	  Ensure that settign the activation mode was applied to the correct
	  object - it was being applied to all objects!
	  Fixes defect#9603.
	  Add destroy function call to destroy an Env object when remove is
	  called. Fixes defect#9604.
	* capplet/nwam_net_conf_panel.c:
	  Change code to only show the value of the priority group if
	  debug_mode is enabled.
	* capplet/nwam_rules_dialog.c: 
	  Call refresh function not cancel when Revert button is pressed.
	* common/nwamui_env.h, common/nwamui_env.c: 
	  Add destroy function - to allow for object removal from system.
	  Also fix when the nwam_loc_disable function is called, it was being
	  called at improper times.
	* common/nwamui_object.c, common/nwamui_object.h:
	  Add common object destroy function (currently only used with Env,
	  but should be added to others too).

2009-06-25  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_env_pref_dialog.c: (populate_panels_from_env),
	  In on_ns_selection_toggled() I fixed how the NS selection was
	  handled, making sure there is always 1 selected. Also incremented
	  the count of nwam_nameservices for a new item, which was missed.
	  This is part of the fix for defect#9559.
	* common/nwamui_env.c:
	  Fix a logic error where we were checking the GList data pointer for
	  a NULL value when it's not a pointer but a guint64. This is another
	  part of the fix for defect#9559.
	* capplet/nwam_location_dialog.c: 
	  Fix how the button sensitivity is being handled for SYSTEM
	  activation mode objects. These objects cannot be renamed or
	  destroyed, so we shouldn't enable the buttons for these.
	  This fixes defect#9644.
	  Also fixed an issue where a warning was being generated when you
	  selected a location and clicked on Rename. This meant that you
	  couldn't rename that itme.
	  Also fixed some minor compilation warnings due to missing casts.

2009-06-25  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncp.h, common/nwamui_ncp.c: 
	  Update nwamui_ncp_all_ncus_online() to return a reference to the ncu
	  and wifi objects that require action when a wifi selection or key is
	  needed. 
	  Update ncu_notify_cb() to also send row-changed events for the
	  GtkListStore - Fixes defect#9532.
	* common/nwamui_ncu.c: 
	  For PROP_ACTIVE, a wireless link should be seen as active if it's in
	  the state OFFLINE_TO_ONLINE and waiting for selection or key or is
	  connecting to a wifi network. Fixes defect#9531.
	  Also sent an notification message if active changes.
	* common/nwamui_daemon.c: 
	  Update usage of nwamui_ncp_all_ncus_online and dispatch wifi events
	  if needed.
	* common/nwamui_wifi_net.c: 
	  Remove use of BSSID in nwamui_wifi_net_get_unique_name() since we
	  see the ESSID as unique now since the BSSID is a list and will be
	  merged if the same ESSID is seen.
	* daemon/notify.c: 
	  Fix notification functions to not unref the icon since it was never
	  ref-ed in the first place - was causing a crash after showing some
	  notifications.

2009-06-24  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_stat_panel.c:
	  Update wireless icon on status panel to show signal strength.
	  Fixes defect#9527.
	* common/nwamui_ncp.c: 
	  Fix counting of wireless i/f, it was being reset to 0, resulting in
	  an incorrect icon in the panel since this cause the icon to not be
	  updated. Fixes defect#9527.

2009-06-23  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Remove find_active_prio w/around and use libnwam function to get
	  active priority group, also make function to get this group extern
	  rather than static.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Change nwamui_ncu_get_connection_state_detail_string() to take extra
	  param to decide whether to use newline or comma-space as separator
	  in the detail strings.
	  Also added translation markers for the NWAM auxillary states.
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Add new property "num_scanned_wifi" to allow for discovery of the
	  last number of wlan's scanned - if 0 then we might show a message.
	  Removed old Phase 0.5 cause strings.
	* common/nwamui_wifi_net.c: 
	  Update nwamui_wifi_net_update_from_wlan_t() to also extract the wlan
	  speed from the wlan_t.
	* capplet/nwam_conn_stat_panel.c, tests/main.c,
	  daemon/status_icon_tooltip.c: 
	  Update with extra param for connection detail string.
	* daemon/notify.h, daemon/notify.c: 
	  Centralize the notification message generation to notify.c file and
	  use more strict API - this is to allow for better handling of when
	  and where to show them (TBD), new functions are:
	  - nwam_notification_show_nwam_unavailable
	  - nwam_notification_show_ncu_connected
	  - nwam_notification_show_ncu_disconnected
	  - nwam_notification_show_ncu_wifi_connect_failed
	  - nwam_notification_show_ncu_wifi_selection_needed
	  - nwam_notification_show_ncu_wifi_key_needed
	  - nwam_notification_show_no_wifi_networks
	  - nwam_notification_show_ncp_changed
	  - nwam_notification_show_location_changed
	  Also make the original functions static to avoid their unintentional
	  use.
	* daemon/status_icon.c: 
	  Updates to use new notify functions.
	* nwam_core/usr/include/libnwam.h:
	  Update to latest version, to get speed wlan_t field.

2009-06-18  Darren Kenny  <darren.kenny@sun.com>

	* configure.in:
	  Change the version to 0.99.0 to more correctly reflect the state of
	  things - will bump dot-dot for each build to QA.
	* common/Makefile.am:
	  Add help_refs.h to EXTRA_DIST 
	* capplet/nwam_wireless_dialog.h, capplet/nwam_wireless_dialog.c: 
	  Add functon nwam_wireless_dialog_set_title() to set the title for
	  the wireless dialog to be Add/Join/Edit using an enum.
	* capplet/nwam_conn_conf_ip_panel.c:
	  Use the new nwam_wireless_dialog title functionality.
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Add wifi_scan_started message to allow the UI to know when a scan
	  has been started. 
	  Fix issue where scan events (from nwamd) were not taking the same
	  code path as for events from the cache, meaning that the wifi
	  caching wasn't working and this resulted in multiple items in the
	  menus. Did a code refactor to fix this. Also removed some old code.
	* daemon/nwam-menu.c: 
	  Minor nit.
	* daemon/nwam-wifi-item.c: 
	  Fixed a bug in nwam_wifi_item_init() where daemon pointer wasn't
	  being set, and this caused a crash later.
	* daemon/status_icon.c: 
	  Add handler for new daemon wifi_scan_started signal to clear all the
	  wifi menu items - may need some improvement to maybe leave connected
	  network and/or add a "Scanning..." entry while scan still happening.
	  Make join_wireless() use the new title mechanism for the wireless
	  dialog.
	* nwam_core/usr/include/libdladm.h,
	  nwam_core/usr/include/libdladm_impl.h,
	  nwam_core/usr/include/sys/dld_ioc.h,
	  nwam_core/usr/include/sys/dls_mgmt.h:
	  Bump to latest from snv117.

2009-06-16  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (nwamui_object_active_toggle_cell),
	(nwamui_object_active_mode_pixbuf_cell):
	* capplet/capplet-utils.h:
	* capplet/nwam_location_dialog.c (nwam_compose_tree_view):
	Location dialog doesn't show active env.

2009-06-15  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c: 
	  Handle add/remove of favourite networks, and updates once a
	  commit/destroy is done.
	* common/nwamui_daemon.c: 
	  Add wifi_fav as a property, so that notify messages can be sent on
	  changes to the list. Also dispatch the wifi_fav_add/remove signals.
	  Ensure that wifi_fav list is sorted by priority, and catch
	  OBJECT_REFRESH/REMOVE messages for each wifi_net object in
	  favourites list.
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c: 
	  Add nwamui_object_reload support to NwamuiWifiNet. Don't free a nwam
	  handle after a destroy, since it's already freed.

2009-06-15  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_net_conf_panel.c (nwam_compose_tree_view),
	(condition_view_drag_data_get), (condition_view_drag_motion),
	(condition_view_drag_data_received),
	(capplet_tree_store_move_children), (handle_ncu_group_node),
	(on_button_clicked): DnD

2009-06-12  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c: 
	  Fix use of options to launch correct thing.
	* capplet/nwam_wireless_dialog.h, capplet/nwam_wireless_dialog.c:
	  Change NCU to be an actual NwamuiNcu rather than string.
	  Change Transient property, to more correct name of "Persistant"
	  Add do_connect property, if TRUE, then on OK, it will call the
	  wifi_net_connect function.
	* common/libnwamui.c: 
	  Add error messages when get_gtk_builder() fails to load files.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Add nwamui_ncu_wifi_hash_* functions for managing the cache of wifi
	  objects which are allocated on a per-NCU basis.
	* common/nwamui_daemon.c: 
	  Change dispatch_scan_results_if_wireless() to use the per-NCU wifi
	  cache - avoids the multiple events for a network by combining them
	  in to one object.
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Remove unused SELECTION_MODE references.
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c: 
	  Fix minor bug with the channel provided by wlan_t.
	  Add functions nwamui_wifi_net_store_key() and
	  nwamui_wifi_net_security_map_to_nwam().
	  Make nwamui_wifi_net_connect() actually do a connect!
	* daemon/main.c: 
	  Fix options, hiding debug option from user.
	* daemon/nwam-ncu-item.c: 
	  Call nwamui_ncu_set_active to (de)activate a manual NCU on selection.
	* daemon/nwam-wifi-item.c: 
	  Update for new param to nwamui_wifi_net_connect, w.r.t persistance.
	* capplet/Makefile.am, daemon/Makefile.am, daemon/status_icon.c: 
	  Don't force a real scan all the time - really should just ask for
	  dispatch from the cache in most cases, added boolean param to 
	  nwam_menu_recreate_wifi_menuitems() for this.
	  Do similar to Phase 0.5 where the join_wireless didn't do a call out
	  to another process - just seems like extra overhead for such a
	  simple function.

2009-06-11  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.h:
	  Add nwamui_debug/warning/error() macros that will pre-pend function
	  being called from to message. Not currently used, but just being
	  added now as a place-holder.

2009-06-11  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c, capplet/nwam_conn_conf_ip_panel.c,
	  capplet/nwam_conn_stat_panel.c, capplet/nwam_env_pref_dialog.c,
	  capplet/nwam_env_svc.c, capplet/nwam_location_dialog.c,
	  capplet/nwam_net_conf_panel.c, capplet/nwam_pref_dialog.c,
	  capplet/nwam_proxy_password_dialog.c,
	  capplet/nwam_vpn_pref_dialog.c, capplet/nwam_wireless_chooser.c,
	  capplet/nwam_wireless_dialog.c, common/nwamui_cond.c,
	  common/nwamui_daemon.c, common/nwamui_enm.c, common/nwamui_env.c,
	  common/nwamui_ip.c, common/nwamui_ncp.c, common/nwamui_ncu.c,
	  common/nwamui_prof.c, common/nwamui_svc.c, common/nwamui_wifi_net.c,
	  daemon/main.c, daemon/notify.c, daemon/nwam-ncu-item.c,
	  daemon/nwam-wifi-item.c, daemon/status_icon.c:
	  Remove trailing \n in all g_debug calls.

2009-06-11  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: 
	  Handle PRIORITY_GROUP event (doesn't currently do anything except
	  log it).  Fix a bug in
	  nwamui_daemon_update_status_from_object_state_event() where it was
	  causing the wrong state to be generated when an event occurred on an
	  NCU that isn't in the current priority group.
	* common/nwamui_ncp.c: 
	  Update nwamui_ncp_get_current_prio_group() to use new function in
	  libnwam to get active priority level.
	* daemon/status_icon.c: 
	  Should be ref-ing a self object passed to the g_timeout_add when
	  g_object_unref is passed as function to free it (was causing a
	  crash).

2009-06-10  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c: 
	  If an NCU is not modifiable, then don't try to apply settings, also,
	  if it's not modifiable, make widgits insensitive.
	* common/libnwamui.c: 
	  Fix issue where connected/connecting state for wireless wasn't being
	  handled correctly.
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Add some functions nwamui_daemon_get_env_by_name() and 
	  nwamui_daemon_get_enm_by_name(). 
	  Handle OBJECT_STATE events, using them to update the active ncp/env
	  and also then using it to determine new state of the daemon.
	  Fix check_enm_online() to first check that the ENM is enabled before
	  checking it's state.
	* common/nwamui_ncu.c: 
	  Remove hack assuming that NCU is online if the IP NCU is online.

2009-06-10  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_net_conf_panel.c (on_button_clicked),
	(update_widgets): Enable move up/down.

2009-06-09  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.h:
	* capplet/nwam_net_conf_panel.c (nwam_compose_tree_view),
	(nwam_net_conf_panel_init), (nwam_net_conf_update_status_cell_cb),
	(static_group_handle_fake_node), (condition_view_drop_motion),
	(condition_view_drop_data_received), (ncu_find_gt_name),
	(capplet_tree_store_move_children), (handle_ncu_group_node),
	(on_button_clicked), (update_widgets), (ncu_pri_group_get_path),
	(ncu_pri_group_get_iter), (ncu_pri_treeview_add),
	(ncu_pri_treeview_remove): Update some functions for DnD, though it 
	doesn't work right now.

2009-06-08  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.c: 
	  Don't unref a NULL ncp pointer.
	* common/nwamui_daemon.c: 
	  Add new functions nwamui_daemon_nwam_connect(), 
	  and nwamui_daemon_nwam_disconnect() to handle connection to nwam
	  daemon. The connect function will look at the SMF service state and
	  possibly block until it's on-line (depending on block param).
	* nwam_core/usr/include/libnwam.h, nwam_core/usr/include/sys/mac.h:
	  Update to latest versions.

2009-06-04  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c, common/nwamui_daemon.h:
	  Change nwamui_daemon_status_t enum to allow for generation of useful
	  states for representation in panel icon.
	  Add function nwamui_daemon_get_status_icon_type() to allow for
	  getting of the status icon type (nwamui_env_status_t) that more
	  aptly reflects the state of the daemon. Also add supporting
	  functions to allow for determining that state in a call to
	  nwamui_daemon_update_status().
	* daemon/status_icon.c:
	  Fix references to NWAMUI_DAEMON_STATUS_* enums.
	  In nwam_status_icon_set_status() try getting env_status from daemon
	  rather than based off various callers to the funciton, will clean up
	  function calls to not use the env_status params later.
	* common/libnwamui.c:
	  Change some g_warning calls to g_debug. Fix error in call to
	  nwamui_ncu_get_active when ncu == NULL.
	* common/nwamui_enm.c, common/nwamui_env.c:
	  Implement nwamui_object_get_state() functions.
	* common/nwamui_ncp.h, common/nwamui_ncp.c:
	  Add function nwamui_ncp_get_current_prio_group(), to try determine
	  the currently active priority group - fairly slow, may be fixed by
	  new libnwam API call.
	  Add function nwamui_ncp_all_ncus_online() to check if all the NCU
	  expected to be on-line are - takes into account manual and current
	  priority group.
	* daemon/nwam-env-item.c, daemon/nwam-enm-item.c:
	  Fix to use icons rather than strings for activation modes.
	* common/nwamui_ncu.c:
	  Minor formattting mistake.

2009-06-04  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (get_pixbuf_with_size), (get_pixbuf): Only prt log
	on errro.
	* common/nwamui_daemon.c (nwam_loc_walker_cb): Rename a function.
	* common/nwamui_env.c (nwamui_env_class_init),
	(nwamui_env_get_active):
	* common/nwamui_env.h:
	* daemon/status_icon.c (daemon_info),
	(nwam_status_icon_set_activate_callback),
	(on_activate_static_menuitems), (activate_test_menuitems),
	(nwam_menu_create_static_menuitems):
	Toggle activate loc menuitem. And fix some nits.
	* tests/main.c (process_env): Rename a function.

2009-05-26  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_net_conf_panel.c: 
	  Fix issue where old_ncp could be NULL.
	* common/libnwamui.c: 
	  Change slightly how the status icon is calculated since it's
	  possible that we show connected when not, etc. So we make use of the
	  actual state w.r.t. dladm to be sure we show the correct icon.
	* common/nwamui_daemon.c: 
	  Free up the wlans obtained from the cache.
	* common/nwamui_ncp.c: 
	  When counting the number of Wifi devices, only count if we're
	  creating a new NCU, not if we are updating an already existing NCU.
	* common/nwamui_object.h, common/nwamui_object.c: 
	  Add the function nwamui_object_get_nwam_state which allows us to get
	  the state of an object (providing more detail than simply ACTIVE or
	  not) - specifically useful for getting the auxillary state as in
	  nwam_aux_state_t and a string representation of the same for the UI.
	* common/nwamui_ncu.c: 
	  Provide get_state implementation for NCU.
	  Change nwamui_ncu_get_signal_strength_from_dladm to return NONE
	  rather than LAST if we cannot get a signal from dladm.
	* daemon/nwam-tooltip-widget.c: 
	  Just add a comment.
	* daemon/status_icon.c: 
	  Validate that wifi_net and the signal_strength are valid.

2009-05-26  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_model_find_object),
	(capplet_model_find_object_with_parent):
	* capplet/capplet-utils.h:
	Add a new Function.
	* capplet/nwam_net_conf_panel.c (refresh), (on_button_clicked),
	(ncp_add_ncu), (ncp_remove_ncu), (ncu_pri_group_find_iter_by_obj),
	(ncu_pri_treeview_remove):
	Handling adding/removing Ncu from a Ncp. And fix gtktreerowref leak.
	* common/libnwamui.c (get_pixbuf_with_size):
	Print stock id on failing to locate the icon.
	* common/libnwamui.h:
	Fix icon names.
	* common/nwamui_daemon.c (nwamui_daemon_class_init):
	* common/nwamui_daemon.h:
	* common/nwamui_ncp.c (nwamui_ncp_class_init),
	(nwamui_ncp_remove_ncu), (nwam_ncu_walker_cb),
	(default_add_ncu_signal_handler),
	(default_remove_ncu_signal_handler):
	* common/nwamui_ncp.h:
	Move add/remove ncu from daemon to ncp.
	* daemon/nwam-tooltip-widget.c
	(nwam_object_tooltip_widget_finalize):
	Remove assertion.
	* daemon/status_icon.c (nwam_menu_create_wifi_menuitems),
	(ncp_add_ncu), (ncp_remove_ncu), (connect_nwam_object_signals):
	Handling adding/removing Ncu from a Ncp.

2009-05-25  Darren Kenny  <darren.kenny@sun.com>

	* nwam_core/usr/include/libnwam.h:
	  Update header to latest from hg. This explains some unexpected
	  crashes due to an extra param to the nwam_*get_state functions.
	* common/nwamui_daemon.c: 
	  Handle NWAM_ACTION_REFRESH, for now do nothing, but we may need to
	  consider that it's useful to update NWAMUI objects.
	* common/nwamui_enm.c, common/nwamui_env.c, common/nwamui_ncp.c: 
	  Update for API changes.
	* common/nwamui_ncu.c: 
	  Update for API changes and add handlers to pass on changed in the
	  wifi_info object as notifications on the ncu too, to allow tooltip
	  to notice a change (e.g. in signal, ESSID, etc).
	* common/libnwamui.c: 
	  Change slightly the mapping between signal and the radar icon since
	  even with a good signal it looked like you had a weak signal.
	  Update nwamui_util_get_network_status_icon() to also cache the
	  based on signal strength too - it was ignoring this and only
	  generating the icon once, with the wrong signal strength over time.
	* daemon/nwam-tooltip-widget.c: 
	  Connect to ncu to catch wifi_info notification changes too to update
	  icon correctly.
	* common/nwamui_cond.c:
	  Include stdlib.h to clean up warning about call to free();

2009-05-22  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c:
	  Fix some compile warnings.
	* common/libnwamui.c, common/libnwamui.h:
	  Change NWAM_ICON_NETWORK_WIRELESS to be "nwam-wireless-nosignal" to
	  avoid picking up the wrong icon from hicolor theme. Looks poor, but
	  will be better when Nimbus theme is updated.
	  Fix logic error w.r.t. use of wireless_ncu. Also then ensure we
	  always get a status icon based off the NCU if we have an NCU...
	* common/nwamui_daemon.c: 
	  If we find a wifi network that's marked as connected, ensure we
	  update the NCU with it.
	* common/nwamui_ncu.c:
	  XXXX Assume active if IP NCU is active - should be undone when
	  state machine is fixed XXXX
	* daemon/main.c:
	* daemon/nwam-tooltip-widget.c:
	  Put in a g_assert_not_reached in the finalize method, it seems that
	  sometimes - if tooltip is up and menu is popped up then this get's
	  called - try catch it.
	* daemon/status_icon.c, daemon/status_icon.h:
	  Add wireless_ncu argument to nwam_status_icon_set_status() so that
	  we can get a wireless icon if it's correct to do so.

2009-05-22  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.c, common/libnwamui.h:
	  Change wireless strength icon functions to support the selection of
	  either RADAR (for the panel) or BARS (for menus and favourites
	  editor). 
	* capplet/nwam_wireless_chooser.c, daemon/nwam-wifi-item.c:
	  Update for above changes.

2009-05-21  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncu.c: 
	  Allow setting of the WIFI_INFO property on read-only NCUs - doesn't
	  effect modified flag.
	* daemon/status_icon.c:
	  Fix crash if ncu is NULL.

2009-05-21  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/main.c (init_wait_for_embedding_idle),
	(init_wait_for_embedding):
	Another way to wait for embedding status icon
	* daemon/notify.c (notify_notification_adjust_nth),
	(notify_notification_adjust_first),
	(nwam_notification_show_message),
	(nwam_notification_show_message_with_action):
	Do not show notifications when the status_icon is hiding.
	* daemon/nwam-menu.c (nwam_menu_section_set_visible),
	(nwam_menu_section_set_sensitive):
	* daemon/nwam-menu.h:
	set sensitive function for menu section.
	* daemon/status_icon.c (daemon_status_changed),
	(nwam_menu_create_wifi_menuitems), (daemon_active_env_changed),
	(on_ncp_notify_many_wireless), (nwam_menu_create_static_menuitems):
	Set sensitive of scan/join wifi menuitems according to the available
	wireless links.

2009-05-21  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.h: Fixed wireless secure/insecure icons.
	* daemon/nwam-menu.c (nwam_menu_real_insert): Fixed start_pos isn't zero
	in a middle menu section.
	* daemon/nwam-menuitem.c (nwam_menu_item_set_widget),
	(nwam_menu_item_size_allocate):
	Fixed request resize when a valid widget is added. Fixed allocate widget
	space with considering submenu arrow space.
	* daemon/status_icon.c (nwam_menu_recreate_wifi_menuitems):
	Simply comment out delete all wlan menuitems, because currently I'm  a
	little confused how to invoke wlan scan functions.

2009-05-20  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Add nwamui_daemon_find_fav_wifi_net_by_name() to allow for re-use of
	  a favourite network. Update scans and other areas where a WifiNet is
	  created to first check for the favourite before creating a new
	  object.

2009-05-20  Darren Kenny  <darren.kenny@sun.com>

	* capplet/Makefile.am:
	  Don't install .glade file any more.
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Dispatch Wifi Events from cached data when daemon is made active,
	  add function nwamui_daemon_dispatch_wifi_scan_events_from_cache() to
	  allow for the status menu initialisation to cause events to fire
	  after setting up signal handlers.
	* common/nwamui_wifi_net.c: 
	  Add abilty to store ESSID, Priority and BSSID List in internal
	  structures if the object is created without an associated
	  known_wlan_t handle.
	* daemon/status_icon.c: 
	  Remove scan request when popping up menu, only cause a scan when
	  specifically requested from menu.
	  Call function to generate scan results from cache when finished
	  setting up event handlers.
	* daemon/nwam-menu.c: 
	  Initalise start_pos, but still didn't figure out why the assertion
	  is firing here when attempting to add network - TODO

2009-05-20  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_net_conf_panel.c (nwam_compose_tree_view),
	(nwam_net_conf_panel_init), (nwam_connection_cell_func),
	(nwam_connection_cell_toggled), (on_button_clicked),
	(profile_edit_btn_clicked): Show Edit Connections Dialog. TODO save back

2009-05-19  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.ui: Added a new dialog for edit
	connections dialog.

2009-05-19  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_net_conf_panel.c (refresh), (ref_ncu_group_node),
	(handle_ncu_group_node), (on_button_clicked): Added new functions.
	ref_ncu_group_node is to get the reference of the parent of a row or
	itself. handle_ncu_group_node is for handling the parent reference after
	moving its children, e.g. deleting or inserting (none) node.

	Enable/disalbe ncu is done. Rename has been there, not tested. Set
	sensitive for tree view and profile edit button according that if
	selected ncp is modifiable.

2009-05-19  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_net_conf_panel.c (capplet_tree_store_move_children),
	(on_button_clicked), (selection_func): New/delete group is done.

2009-05-18  Darren Kenny  <darren.kenny@sun.com>

	* common/help_refs.h:
	  Header file containing a generated list of all HELP document
	  references.
	* scripts/extract_help_tags.pl:
	  Script to generate the help_refs.h file from a help file.
	* capplet/nwam-manager-properties.glade:
	* capplet/nwam-manager-properties.ui:
	  Add Help button to the Location dialog.
	* capplet/nwam_conn_conf_ip_panel.c, capplet/nwam_conn_stat_panel.c,
	  capplet/nwam_env_pref_dialog.c, capplet/nwam_location_dialog.c,
	  capplet/nwam_net_conf_panel.c, capplet/nwam_vpn_pref_dialog.c: 
	  Make sure that Help buttons link to appropriate locations is Help
	  document.
	* common/libnwamui.c, common/libnwamui.h:
	  Make help function handle a NULL location, and add help_refs to
	  libnwamui.h header file.

2009-05-18  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_net_conf_panel.c (nwam_compose_tree_view),
	(refresh), (nwam_net_conf_update_status_cell_cb),
	(on_button_clicked), (selection_func), (update_widgets),
	(ncu_pri_group_get_hash), (ncu_pri_group_get_path),
	(ncu_pri_group_get_iter), (ncu_pri_group_update):
	Fixed group id is increasing infinitely by using ncu_pri_group_update
	to collapse group id.

2009-05-18  Darren Kenny  <darren.kenny@sun.com>

	* Makefile.am, autogen.sh, configure.in, help/Makefile.am,
	  help/nwam-manager.omf.in, help/nwam-manager.xml,
	  help/C/graphics/condition-location.png,
	  help/C/graphics/connection-properties-ipv4.png,
	  help/C/graphics/connection-properties-wireless.png,
	  help/C/graphics/connection-status.png,
	  help/C/graphics/locationprefs-dialog.png,
	  help/C/graphics/manual-location.png,
	  help/C/graphics/nwprofile-auto.png,
	  help/C/graphics/nwprofile-user.png,
	  help/C/graphics/nwstatus-context-menu.png,
	  help/C/graphics/panel-all-disconnect.png,
	  help/C/graphics/panel-some-disconnect.png,
	  help/C/graphics/panel-wired-connect.png,
	  help/C/graphics/panel-wireless-connect.png,
	  help/C/graphics/system-location.png, help/C/graphics/vpn-dialog.png,
	  help/C/graphics/wireless-chooser.png, help/C/nwam-manager.xml:
	  Integrate final OLH document, still needs to be linked to UI.

2009-05-18  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c:
	* capplet/capplet-utils.h:
	* capplet/nwam_net_conf_panel.c (refresh),
	(nwam_net_conf_update_status_cell_cb),
	(capplet_tree_store_cp_children), (on_button_clicked),
	(ncu_pri_group_get_path), (ncu_pri_group_get_iter),
	(ncu_pri_treeview_add):
	New group is partially done.
	TODO, group id is increasing infinitely.

2009-05-18  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_tree_store_move_children):
	* capplet/capplet-utils.h:
	* capplet/nwam_net_conf_panel.c (nwam_compose_tree_view),
	(nwam_net_conf_panel_init), (refresh),
	(nwam_net_conf_panel_finalize),
	(nwam_net_conf_update_status_cell_cb), (on_button_clicked),
	(selection_func), (update_widgets), (create_group_object),
	(update_ncu_like_group), (ncu_pri_group_get_index),
	(ncu_pri_group_find_iter_gt), (ncu_pri_group_get_iter),
	(ncu_pri_treeview_add):
	* common/nwamui_ip.c (nwamui_ip_get_property):
	Merged, correct update_widgets, but not sure if move up/down could 
	allows mixed grup/ncus.

2009-05-17  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_net_conf_panel.c: 
	  Added initial enable buttons elements, but not handled by event
	  callback yet.
	  Added create_group_object() and update_ncu_like_group() to handle
	  creation of a group object, and for when moving an ncu, allowing you
	  to update an NCU to match the values stored in the group object.
	  Haven't used them yet though... 

2009-05-15  Darren Kenny  <darren.kenny@sun.com>

	* nwam_core/usr/include/libnwam.h, nwam_core/usr/include/sys/mac.h:
	  Update to most recent headers.
	* common/nwamui_wifi_net.c, common/nwamui_wifi_net.h:
	  Fix rename of nwam_event_wlan_t to nwam_wlan_t

2009-05-15  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/nwam-menuitem.c (nwam_menu_item_forall):
	Fixed forall always include internal widgets.
	* capplet/capplet-utils.c (capplet_model_foreach_find_object),
	(capplet_list_foreach_merge_to_list_store),
	(capplet_list_foreach_merge_to_tree_store),
	(capplet_model_find_object), (capplet_model_1_level_foreach),
	(capplet_update_model_from_daemon),
	(capplet_combo_set_active_object):
	* capplet/capplet-utils.h:
	Removed dup functions. Change some small functions to Macros.
	* capplet/nwam_conn_stat_panel.c (nwam_pref_init),
	(nwam_conn_status_panel_finalize), (apply):
	* capplet/nwam_location_dialog.c (nwam_compose_tree_view),
	(on_button_clicked):
	* capplet/nwam_vpn_pref_dialog.c (nwam_compose_tree_view),
	(vpn_pref_clicked_cb):
	Updated due to capplet-utils changes.
	* capplet/nwam_net_conf_panel.c (nwam_compose_tree_view),
	(nwam_net_conf_panel_init), (refresh), (apply),
	(nwam_net_conf_update_status_cell_cb), (update_widgets),
	(ncp_build_group_index), (ncp_build_group),
	(ncu_pri_group_get_index), (ncu_pri_group_find_iter_gt),
	(ncu_pri_group_get_iter), (ncu_pri_treeview_add):
	Do not use the ncu tree store of a ncp anymore, update tree mode each
	time ncp changes.
	Showing ncu condition view is merged. Update buttons function is 
	partially done.
	TODO: Update buttons; update buttons behavior; and save back.

2009-05-14  Darren Kenny  <darren.kenny@sun.com>

	* capplet/capplet-utils.h, capplet/capplet-utils.c: 
	  Render pixbuf for activation_mode, not text string.
	* capplet/nwam_location_dialog.c: 
	  Render pixmap for activation mode.
	* capplet/nwam_vpn_pref_dialog.c: 
	  Render pixmap for activation mode.
	* common/nwamui_daemon.c, common/nwamui_ncp.c: 
	  Handle NULL or non-NCU objects.
	* capplet/nwam_net_conf_panel.c: 
	  Fix several casting warnings.
	  Re-arrange view of NCUs to match UI Spec. Still need to implement
	  the events, etc.

2009-05-12  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.ui: User NwamTreeView for some widgets
	* common/libnwamui.c (nwamui_util_glade_get_widget),
	(nwamui_util_get_env_status_icon),
	(nwamui_util_get_network_status_icon),
	(nwamui_util_get_wireless_strength_icon),
	(nwamui_util_get_wireless_strength_icon_with_size):
	* common/libnwamui.h:
	Update macros. Add new function to cache common icon size like 16,32.
	* common/nwamui_ncp.c (nwamui_ncp_class_init), (nwamui_ncp_init),
	(nwamui_ncp_get_property), (nwamui_ncp_remove_ncu),
	(nwamui_ncp_populate_ncu_list), (nwamui_ncp_get_wireless_link_num):
	* common/nwamui_ncp.h:
	Change many_wireless to wireless_link_num.
	* common/nwamui_ncu.c (nwamui_ncu_get_signal_strength_from_dladm),
	(nwamui_ncu_get_signal_strength_string):
	* common/nwamui_ncu.h:
	Update to get signal from dladm.
	* daemon/nwam-menuitem.c (nwam_menu_item_class_init),
	(nwam_menu_item_set_property), (nwam_menu_item_get_property),
	(nwam_menu_item_parent_set), (default_sync_object),
	(nwam_menu_item_refresh), (nwam_menu_item_toggle_size_request),
	(nwam_menu_item_size_request), (nwam_menu_item_size_allocate),
	(nwam_menu_item_draw_indicator):
	* daemon/nwam-menuitem.h:
	Added new property to show indicator. Update refresh function.
	* daemon/nwam-enm-item.c (nwam_enm_item_new), (sync_enm):
	Use show-indicator property to fix the wrong icon position on pop menu.
	* daemon/nwam-env-item.c (sync_env):
	* daemon/nwam-ncu-item.c (sync_ncu):
	* daemon/nwam-obj-proxy-iface.c (nwam_obj_proxy_refresh):
	* daemon/nwam-obj-proxy-iface.h:
	* daemon/nwam-tooltip-widget.c (sync_object), (nwam_ncu_notify):
	* daemon/nwam-wifi-item.c (sync_wifi_net), (wifi_net_notify):
	Update refresh function, allows a user data.
	* daemon/status_icon.c (daemon_status_changed), (daemon_info),
	(daemon_wifi_key_needed), (daemon_ncu_up),
	(daemon_active_ncp_changed), (ncp_deactivate_ncu),
	(update_wifi_timer_func), (nwam_status_icon_finalize):
	Enable updating the signal icon of active wireless links.

2009-05-11  Darren Kenny  <darren.kenny@sun.com>

	* capplet/Makefile.am:
	  Add missing update to also install the .ui file.

2009-05-11  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.ui:
	  Convert glade file to GtkBuilder format.
	  All Custom widgets were made GtkTreeView.
	* common/libnwamui.c: j
	  Add functions to use GtkBuilder instead of glade file.
	  Currently default is to use Glade, this is based on the #define of
	  USE_GLADE in this file, the reason being that NwamTreeView doesn't
	  seem to correctly inherit from GtkTreeView, causing a SEGV.

2009-05-08  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: 
	  Handle events for object enable/disable (NCP and NCU).
	  Add nwamui_daemon_get_ncp_by_name() function.
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Remove references to an Active NCU - there is no single item like
	  this any more for Phase 1.
	* daemon/nwam-enm-item.c, daemon/nwam-env-item.c,
	  daemon/nwam-ncu-item.c, daemon/nwam-wifi-item.c,
	  daemon/status_icon.c:
	  Remove references to active_ncu
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c: 
	  Change nwamui_wifi_net_bss_type_map() to take a dladm type rather
	  than a string and then convert the value passed in the
	  nwam_wlan_info_t structure to get the bsstype.
	* common/nwamui_ncu.c: 
	  Set the modified flags using a function, to allow easier tracking
	  down of issues set_modified_flag()
	* nwam_core/usr/include/libnwam.h:
	  Update to latest libnwam.h to get bsstype.

2009-05-07  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c:
	  Handle the wifi selection and key events.

2009-05-07  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Add names to some labels so we can set sensitivity.
	* capplet/nwam_env_pref_dialog.c:
	  Fix some issues on Nameservices tab.
	* common/nwamui_daemon.c: 
	  Handle some basic events - still a few more to to.
	* common/nwamui_env.c: 
	  Update for nameservices.
	* common/nwamui_ncp.c: 
	  Fix a bug in nwam_ncu_walker_cb where it was not removing found NCUs
	  from the removal tempoary list.
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c: 
	  Add functions to populate a NwamuiWifiNet from a nwam_wifi_info_t -
	  nwamui_wifi_net_update_from_wlan_t and nwamui_wifi_net_new_from_wlan_t.
	* nwam_core/usr/include/libdlflow.h,  nwam_core/usr/include/libnwam.h,
	  nwam_core/usr/include/sys/mac.h:
	  Update headers from latest NWAM Core sources.

2009-05-06  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_compose_nwamui_obj_combo),
	(nwam_pref_iface_combo_changed_cb), (capplet_column_new),
	(tree_model_find_object_cb), (capplet_model_get_iter),
	(capplet_combo_get_active_object),
	(capplet_combo_set_active_object), (capplet_get_max_name_num):
	* capplet/capplet-utils.h:
	Rename some function name, fix build warnings.
	* capplet/nwam_conn_stat_panel.c:
	Remove dup function declarations.
	* capplet/nwam_net_conf_panel.c (nwam_pref_init),
	(nwam_net_conf_panel_init), (refresh), (apply):
	Net Pref: Add active profile combo.
	* capplet/nwam_pref_dialog.c (nwam_capplet_dialog_class_init),
	(nwam_capplet_dialog_init), (nwam_capplet_dialog_finalize),
	(refresh), (show_changed_cb):
	Pass the active ncp to net conf panel when selecting in show combo.

2009-05-05  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c (capplet_compose_nwamui_obj_combo),
	(capplet_model_foreach_find_object), (capplet_model_find_object),
	(capplet_model_remove_object), (capplet_compose_combo),
	(capplet_tree_store_move_object),
	(capplet_tree_store_merge_children),
	(capplet_tree_store_exclude_children):
	* capplet/capplet-utils.h:
	* capplet/nwam_location_dialog.c (nwam_location_dialog_init):
	* capplet/nwam_net_conf_panel.c (nwam_net_conf_panel_init):
	* capplet/nwam_pref_dialog.c (nwam_capplet_dialog_init), (refresh),
	(show_combo_cell_cb), (show_comob_add), (show_comob_remove),
	(update_show_combo_from_ncp):
	Net Pref: show-combo shows all NCPs and NCUs.
	* daemon/nwam-tooltip-widget.c (nwam_object_notify):
	Fixed to show the correct ncu status.
	* daemon/status_icon.c (update_wifi_timer_func):
	Notification - Wifi Signal Monitor/Poll for updates (partial)

2009-05-05  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (nwamui_util_get_ncu_status_icon):
	* daemon/notify.c (nwam_notification_set_default_icon):
	* daemon/nwam-menuitem.c (nwam_menu_item_class_init),
	(nwam_menu_item_init), (nwam_menu_item_forall),
	(nwam_menu_item_add), (nwam_menu_item_remove),
	(nwam_menu_item_parent_set), (default_sync_object),
	(nwam_menu_item_set_widget), (nwam_menu_item_toggle_size_request),
	(nwam_menu_item_size_request), (nwam_menu_item_size_allocate),
	(nwam_menu_item_activate):
	* daemon/nwam-tooltip-widget.c (connect_object), (nwam_ncu_notify):
	Fixed nwam-menu-item requests/allocates child widgets both in menu
	and tooltip.
	Cleaned some debug messages.

2009-05-04  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (nwamui_util_get_env_status_icon):
	* common/libnwamui.h:
	* daemon/notify.c (nwam_notification_msg_new),
	(nwam_notification_msg_free), (get_notification),
	(nwam_notification_show_nth_message),
	(nwam_notification_show_message),
	(nwam_notification_show_message_with_action),
	(nwam_notification_set_default_icon):
	nwam_notification_set_default_icon could be used to set default
	notification icon, set it before show notification then you needn't
	pass an icon to it.
	* daemon/notify.h:
	* daemon/status_icon.c (daemon_status_changed), (daemon_info),
	(daemon_wifi_selection_needed), (daemon_ncu_up), (daemon_ncu_down),
	(animation_panel_icon_timeout), (trigger_animation_panel_icon),
	(nwam_status_icon_set_status), (status_icon_size_changed),
	(ncp_activate_ncu):
	* daemon/status_icon.h:
	Update icon related code due to icons changes and their name changes.
	* pixmaps/Makefile.am: Re-add network-idle.png which used by dialog.

2009-05-04  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/Makefile.am: New file for tooltip widget which represent nwamui
	object.
	* daemon/nwam-enm-item.c (nwam_enm_item_class_init),
	(nwam_enm_item_new), (nwam_enm_item_set_property),
	(nwam_enm_item_get_property), (on_nwam_enm_notify),
	(nwam_enm_item_get_enm), (nwam_enm_item_set_enm):
	* daemon/nwam-env-item.c (nwam_env_item_class_init),
	(nwam_env_item_new), (nwam_env_item_set_property),
	(nwam_env_item_get_property), (on_nwam_env_notify),
	(nwam_env_item_get_env), (nwam_env_item_set_env):
	* daemon/nwam-ncu-item.c (nwam_ncu_item_class_init),
	(nwam_ncu_item_new), (nwam_ncu_item_set_property),
	(nwam_ncu_item_get_property), (menu_ncu_item_compare),
	(connect_ncu_signals), (sync_ncu), (on_nwam_ncu_toggled),
	(on_nwam_ncu_notify), (nwam_ncu_item_get_ncu),
	(nwam_ncu_item_set_ncu):
	Set sensitive according to its property.
	* daemon/nwam-wifi-item.c (nwam_wifi_item_class_init),
	(nwam_wifi_item_new), (nwam_wifi_item_set_property),
	(nwam_wifi_item_get_property), (nwam_wifi_item_get_wifi),
	(nwam_wifi_item_set_wifi), (menu_wifi_item_compare):
	* daemon/nwam-menuitem.c (nwam_obj_proxy_init),
	(nwam_menu_item_class_init), (nwam_menu_item_set_property),
	(default_connect_object), (default_disconnect_object),
	(default_sync_object), (default_compare),
	(nwam_menu_item_get_proxy), (nwam_menu_item_refresh),
	(nwam_menu_item_new_with_object), (nwam_menu_item_compare):
	* daemon/nwam-menuitem.h:
	Refactor nwam-menu-item, implement nwam-obj-proxy-iface there, and
	update all its descendants. Add compare virtual function in order to
	support sorting. And cleaned code.
	* daemon/nwam-menu.c (nwam_menu_finalize), (nwam_menu_real_remove),
	(nwam_menu_real_insert), (menu_item_compare),
	(nwam_menu_section_sort):
	Support sort menu items, e.g. ncu, wifi items. Fix a nit that any object
	finilizing will destroy the global section data.
	* daemon/nwam-obj-proxy-iface.c (nwam_obj_proxy_iface_class_init):
	Add lines for default interfaces are NULL.
	* daemon/nwam-tooltip-widget.c
	(nwam_object_tooltip_widget_class_init),
	(nwam_object_tooltip_widget_init),
	(nwam_object_tooltip_widget_new),
	(nwam_object_tooltip_widget_finalize),
	(nwam_object_tooltip_widget_set_property),
	(nwam_object_tooltip_widget_get_property), (connect_object),
	(disconnect_object), (sync_object), (nwam_object_notify):
	* daemon/nwam-tooltip-widget.h:
	New object which inherits nwam-menu-item, can't be activated, could be
	show in a tooltip. Could supports icons.
	* daemon/status_icon.c (nwam_status_icon_set_status),
	(nwam_menu_item_create), (nwam_menu_item_delete),
	(nwam_menu_get_section_index): Clean code.
	* daemon/status_icon_tooltip.c (nwam_tooltip_widget_init),
	(nwam_tooltip_widget_finalize), (nwam_tooltip_widget_update_env),
	(nwam_tooltip_widget_update_ncp), (nwam_tooltip_widget_add_ncu),
	(nwam_tooltip_widget_remove_ncu): Use the new tooltip widget.

2009-04-30  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwamui_ncu.c (get_kstat_uint64):
	* daemon/Makefile.am:
	* daemon/nwam-enm-item.c (nwam_enm_item_class_init),
	(nwam_enm_item_new), (nwam_enm_item_finalize),
	(nwam_enm_item_set_property), (nwam_enm_item_get_property),
	(connect_enm_signals), (disconnect_enm_signals), (sync_enm),
	(on_nwam_enm_toggled), (nwam_enm_item_get_enm),
	(nwam_enm_item_set_enm):
	* daemon/nwam-env-item.c (nwam_env_item_class_init),
	(nwam_env_item_new), (nwam_env_item_finalize),
	(nwam_env_item_set_property), (nwam_env_item_get_property),
	(connect_env_signals), (disconnect_env_signals), (sync_env),
	(on_nwam_env_toggled), (nwam_env_item_get_env),
	(nwam_env_item_set_env):
	* daemon/nwam-menu.c:
	* daemon/nwam-menuitem.c (nwam_obj_proxy_init),
	(nwam_menu_item_class_init), (nwam_menu_item_init),
	(nwam_menu_item_set_property), (nwam_menu_item_get_property),
	(nwam_menu_item_forall), (nwam_menu_item_remove),
	(nwam_menu_item_connect_object),
	(nwam_menu_item_disconnect_object), (nwam_menu_item_sync_object),
	(get_proxy), (refresh), (nwam_menu_item_new_with_object),
	(nwam_menu_item_set_widget), (nwam_menu_item_get_widget),
	(nwam_menu_item_finalize), (nwam_menu_item_toggle_size_request),
	(nwam_menu_item_size_request), (nwam_menu_item_size_allocate),
	(nwam_menu_item_draw_indicator), (menu_item_set_label),
	(menu_item_set_markup):
	* daemon/nwam-menuitem.h:
	* daemon/nwam-ncu-item.c (nwam_ncu_item_class_init),
	(nwam_ncu_item_new), (nwam_ncu_item_finalize),
	(nwam_ncu_item_set_property), (nwam_ncu_item_get_property),
	(sync_ncu), (nwam_ncu_item_get_ncu), (nwam_ncu_item_set_ncu):
	* daemon/nwam-ncu-item.h:
	* daemon/nwam-wifi-item.c (nwam_wifi_item_class_init),
	(nwam_wifi_item_new), (nwam_wifi_item_finalize),
	(nwam_wifi_item_set_property), (nwam_wifi_item_get_property),
	(on_nwam_wifi_toggled), (nwam_wifi_item_get_wifi),
	(nwam_wifi_item_set_wifi), (sync_wifi_net):
	* daemon/status_icon.c (daemon_status_changed),
	(daemon_wifi_key_needed), (daemon_ncu_up), (daemon_ncu_down),
	(daemon_ncu_create), (daemon_ncu_destroy),
	(daemon_active_ncp_changed), (daemon_active_env_changed),
	(nwam_status_icon_run), (nwam_status_icon_set_status),
	(nwam_status_icon_show_menu), (status_icon_popup),
	(status_icon_size_changed), (status_icon_query_tooltip),
	(tooltip_treeview_cell), (on_activate_static_menuitems),
	(nwam_status_icon_init), (nwam_status_icon_finalize):
	* daemon/status_icon_tooltip.c (nwam_tooltip_widget_class_init),
	(nwam_tooltip_widget_init), (nwam_tooltip_widget_finalize),
	(tooltip_treeview_cell), (nwam_compose_tree_view),
	(nwam_tooltip_widget_update_env), (nwam_tooltip_widget_update_ncp),
	(nwam_tooltip_widget_add_ncu), (nwam_tooltip_widget_remove_ncu),
	(env_notify_tooltip), (ncp_notify_tooltip), (ncu_notify_tooltip),
	(nwam_tooltip_widget_new):
	* daemon/status_icon_tooltip.h:
	Refactor nwam_menu_item, so it could be used in status icon tooltip.
	bugzilla#576091 will cause segfault for custom tooltip, should fix it.

2009-04-27  Darren Kenny  <darren.kenny@sun.com>

	* pixmaps/32x32/status/activation-mode-manual.png,
	  pixmaps/32x32/status/activation-mode-manual.png
	  pixmaps/32x32/status/activation-mode-system.png
	  pixmaps/32x32/status/activation-mode-conditional.png
	  pixmaps/16x16/status/activation-mode-manual.png
	  pixmaps/16x16/status/activation-mode-system.png
	  pixmaps/16x16/status/activation-mode-conditional.png
	  pixmaps/48x48/status/activation-mode-manual.png
	  pixmaps/48x48/status/activation-mode-conditional.png
	  pixmaps/48x48/status/activation-mode-system.png:
	  Update icons to newest versions.
	* nwam_core/usr/include/libnwam.h:
	  Update to latest version
	* common/nwamui_ncu.c:
	  Fix ip_version handling to look for array since it's now an array
	  and not simply a flag.
	* common/nwamui_env.c, common/nwamui_env.h, common/libnwamui.h,
	  tests/main.c:
	  Remove references to hosts file in locations.

2009-04-16  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (nwamui_util_get_ncu_group_icon),
	(nwamui_util_get_active_mode_icon):
	* common/libnwamui.h:
	* pixmaps/16x16/status/Makefile.am:
	* pixmaps/16x16/status/activation-mode-conditional.png:
	* pixmaps/16x16/status/activation-mode-manual.png:
	* pixmaps/16x16/status/activation-mode-system.png:
	* pixmaps/16x16/status/priority-group-1.png:
	* pixmaps/16x16/status/priority-group-2.png:
	* pixmaps/16x16/status/priority-group-3.png:
	* pixmaps/32x32/status/Makefile.am:
	* pixmaps/32x32/status/activation-mode-conditional.png:
	* pixmaps/32x32/status/activation-mode-manual.png:
	* pixmaps/32x32/status/activation-mode-system.png:
	* pixmaps/32x32/status/priority-group-1.png:
	* pixmaps/32x32/status/priority-group-2.png:
	* pixmaps/32x32/status/priority-group-3.png:
	* pixmaps/48x48/status/Makefile.am:
	* pixmaps/48x48/status/activation-mode-conditional.png:
	* pixmaps/48x48/status/activation-mode-manual.png:
	* pixmaps/48x48/status/activation-mode-system.png:
	* pixmaps/48x48/status/priority-group-1.png:
	* pixmaps/48x48/status/priority-group-2.png:
	* pixmaps/48x48/status/priority-group-3.png: Use new icons.

2009-04-07  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/nwam-obj-proxy-iface.c (nwam_obj_proxy_refresh):
	* daemon/nwam-obj-proxy-iface.h:
	Added a new interface for refreshing menuitem by nwamui object.
	* daemon/nwam-enm-item.c (nwam_obj_proxy_init),
	(nwam_enm_item_set_property), (refresh):
	* daemon/nwam-env-item.c (nwam_obj_proxy_init),
	(nwam_env_item_set_property), (refresh):
	* daemon/nwam-ncu-item.c (nwam_obj_proxy_init),
	(nwam_ncu_item_set_property), (refresh):
	* daemon/nwam-wifi-item.c (nwam_obj_proxy_init),
	(nwam_wifi_item_set_property), (on_nwam_wifi_toggled), (refresh):
	Update nwam menu item according to the new interface. Fixed a nit of
	nwam-wifi-item around block/unblock 'toggled' signal.
	* daemon/nwam-menu.c (nwam_menu_section_set_visible),
	(nwam_menu_section_foreach):
	* daemon/nwam-menu.h:
	New function for foreach menuitem section.
	* daemon/status_icon.c (daemon_status_changed),
	(nwam_menu_create_wifi_menuitems), (daemon_active_ncp_changed),
	(connect_nwam_object_signals), (nwam_status_icon_run),
	(on_ncp_notify), (on_ncp_notify_many_wireless),
	(nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_create_static_menuitems), (nwam_menu_get_section_index):
	Fixed refresh wifi menu items according to ncp 'many_wireless' signal.
	Add a menuitem for no ncu case. Disable nwam menu when daemon is
	inactive.

2009-04-03  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.h:
	  Add functions in .c file but not in header to handle conversion
	  between GList of str and comma separated list, and vice versa.
	* capplet/nwam_env_pref_dialog.c: 
	  Make the Name Services Tab work...
	* common/nwamui_env.h:
	  Fix issue where nameservices were out of sync with libnwam.

2009-04-02  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Fix icon reference.
	* capplet/nwam_conn_stat_panel.c:
	  Make it look more like it should - only one icon, and use real
	  system connection status rather than NWAM's apparent one (which says
	  on-line when it's not).
	* common/libnwamui.c: 
	  Remove code that was making all ncu_types be wireless causing an
	  incorrect icon to be generated for wireless icons, if wired was seen
	  first.
	* pixmaps/Makefile.am:
	  Add call to update icon cache for hicolor theme too.

2009-04-01  Darren Kenny  <darren.kenny@sun.com>

	* nwam_core/usr/include/libdladm.h, nwam_core/usr/include/libnwam.h,
	  nwam_core/usr/include/sys/dld.h, nwam_core/usr/include/sys/dlpi.h,
	  nwam_core/usr/include/sys/mac.h:
	  Update headers to latest from NWAM repo.
	* capplet/nwam_env_pref_dialog.c: 
	  Clean up code a little and remove some warnings.
	* common/nwamui_daemon.c: 
	  Gather active state of objects from their active property.
	* common/nwamui_enm.c: 
	  Determine active state from NWAM.
	* common/nwamui_env.c, common/nwamui_env.h:
	  Get active state from NWAM, and use enable/disable functions to
	  immediately activate/deactivate the obj when setting the active
	  property.
	* common/nwamui_ncu.c, common/nwamui_ncu.h:
	  Get active state from NWAM, and use enable/disable functions to
	  immediately activate/deactivate the obj when setting the active
	  property.
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Get active state from NWAM, and use enable function to immediately
	  activate the obj when setting the active property.
	* tests/main.c: 
	  Update to print the active state, and also handle NCU correctly when
	  printing conditions (since it doesn't have any).

2009-03-31  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (marshal_VOID__OBJECT_POINTER):
	* common/libnwamui.h:
	New marshal for NwamMenu class.
	* daemon/nwam-enm-item.c (on_nwam_enm_notify):
	* daemon/nwam-env-item.c (on_nwam_env_notify):
	* daemon/nwam-ncu-item.c (on_nwam_ncu_notify):
	* daemon/nwam-wifi-item.c (wifi_net_notify):
	Fixed those menu item show as separator menuitems.
	* daemon/nwam-menu.c (nwam_menu_class_init), (nwam_menu_finalize),
	(nwam_menu_set_property), (nwam_menu_get_property),
	(nwam_menu_real_add), (nwam_menu_real_remove),
	(nwam_menu_real_insert), (default_get_section_index),
	(nwam_menu_item_compare), (nwam_menu_new),
	(menu_section_get_menu_widget), (menu_section_get_left_widget),
	(menu_section_set_left_widget), (menu_section_get_right_widget),
	(menu_section_set_right_widget), (menu_section_new),
	(menu_section_delete), (menu_section_get_children_num),
	(menu_section_has_child), (menu_section_get_children),
	(menu_section_get_positions), (menu_section_increase_children),
	(menu_section_decrease_children), (nwam_menu_section_set_left),
	(nwam_menu_section_set_right), (nwam_menu_section_set_visible),
	(nwam_menu_section_sort), (nwam_menu_get_section_positions),
	(nwam_menu_section_delete), (nwam_menu_section_get_item_by_proxy):
	* daemon/nwam-menu.h:
	Totally hide structure NwamSection, show/hide section automatically.
	It still isn't good since all nwammenus share global nwamsections.
	* daemon/status_icon.c (daemon_status_changed),
	(nwam_status_icon_run), (nwam_status_icon_refresh_tooltip),
	(status_icon_popup_cb), (on_activate_static_menuitems),
	(nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_create_static_menuitems), (nwam_menu_item_create),
	(nwam_menu_item_delete), (nwam_menu_get_section_index):
	Only use NwamMenu and update accordingly. Fix show/hide menu.

2009-03-27  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.h:
	Added a missing declaration.
	* daemon/notify.c (notify_notification_adjust_first):
	Do not show notifications if status icon is invisible.
	* daemon/nwam-enm-item.c (nwam_enm_item_init),
	(on_nwam_enm_notify), (get_proxy):
	* daemon/nwam-env-item.c (nwam_env_item_init),
	(on_nwam_env_notify), (get_proxy):
	* daemon/nwam-menuitem.c (nwam_menu_item_set_property),
	(nwam_menu_item_set_widget):
	* daemon/nwam-menuitem.h:
	* daemon/nwam-ncu-item.c (on_nwam_ncu_notify), (get_proxy):
	* daemon/nwam-wifi-item.c (get_proxy), (wifi_net_notify):
	Show menuitems correctly according to spec1.8.2. Fixed some build
	warnings.
	* daemon/status_icon.c (daemon_status_changed),
	(daemon_wifi_key_needed), (daemon_ncu_up), (daemon_ncu_down),
	(daemon_active_ncp_changed), (nwam_status_icon_run),
	(nwam_status_icon_set_status), (nwam_status_icon_refresh_tooltip),
	(on_ncp_notify_cb), (nwam_status_icon_init),
	(nwam_status_icon_finalize), (nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_recreate_env_menuitems),
	(nwam_menu_recreate_enm_menuitems),
	(nwam_menu_create_static_menuitems):
	Code for the tooltip of the status icon. Cache static menuitems for
	convenience. Added missed g_object_unref.

2009-03-26  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_stat_panel.c
	(nwam_conn_status_update_status_cell_cb):
	* common/libnwamui.c (nwamui_util_get_env_status_icon),
	(nwamui_util_get_network_status_icon),
	(nwamui_util_get_ncu_status_icon),
	(nwamui_util_get_wireless_strength_icon):
	* common/libnwamui.h:
	get_ncu_network_status_icon becomes a base function. Fixed a typo.
	Cache icons by size (currently only 24 and 48 pixels).

2009-03-26  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (nwamui_util_get_env_status_icon),
	(nwamui_util_get_wireless_strength_icon):
	Use correct icons. Cache icons. Remove a debug code.
	* common/libnwamui.h:
	* daemon/notify.c:
	Correct icons.

2009-03-26  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (nwamui_util_get_env_status_icon),
	(nwamui_util_get_wireless_strength_icon): Code for composing icons.

2009-03-25  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c (main):
	Refactor. Move those code elsewhere.
	* common/libnwamui.c (nwamui_util_get_env_status_icon):
	Part code for composing pixbufs, but it doens't work. So commentted out.
	* common/libnwamui.h:
	Update icons.
	* configure.in:
	Add Makefile.am for new icons.
	* daemon/main.c:
	Refactor. Move those code elsewhere.
	* daemon/status_icon.c (daemon_status_changed), (daemon_info),
	(daemon_wifi_selection_needed), (daemon_ncu_down), (join_wireless),
	(update_tooltip), (nwam_status_icon_set_status),
	(ncp_activate_ncu), (on_activate_static_menuitems),
	(on_ncp_notify_cb):
	Refactor, move some code from main.c to here.
	* pixmaps/24x24/Makefile.am:
	* pixmaps/24x24/emblems/Makefile.am:
	* pixmaps/24x24/emblems/network-connected.png:
	* pixmaps/24x24/emblems/network-error.png:
	* pixmaps/24x24/emblems/network-warning.png:
	* pixmaps/24x24/status/Makefile.am:
	* pixmaps/24x24/status/network-location-connected.png:
	* pixmaps/24x24/status/network-location-error.png:
	* pixmaps/24x24/status/network-location-warning.png:
	* pixmaps/24x24/status/network-wireless-0-24.png:
	* pixmaps/24x24/status/network-wireless-25-49.png:
	* pixmaps/24x24/status/network-wireless-50-74.png:
	* pixmaps/24x24/status/network-wireless-75-100.png:
	* pixmaps/24x24/status/network-wireless-nosignal.png:
	* pixmaps/32x32/Makefile.am:
	* pixmaps/32x32/emblems/Makefile.am:
	* pixmaps/32x32/emblems/network-connected.png:
	* pixmaps/32x32/emblems/network-error.png:
	* pixmaps/32x32/emblems/network-warning.png:
	* pixmaps/32x32/status/Makefile.am:
	* pixmaps/32x32/status/network-location-connected.png:
	* pixmaps/32x32/status/network-location-error.png:
	* pixmaps/32x32/status/network-location-warning.png:
	* pixmaps/32x32/status/network-wireless-0-24.png:
	* pixmaps/32x32/status/network-wireless-25-49.png:
	* pixmaps/32x32/status/network-wireless-50-74.png:
	* pixmaps/32x32/status/network-wireless-75-100.png:
	* pixmaps/32x32/status/network-wireless-nosignal.png:
	* pixmaps/48x48/status/Makefile.am:
	* pixmaps/48x48/status/network-location-connected.png:
	* pixmaps/48x48/status/network-location-error.png:
	* pixmaps/48x48/status/network-location-warning.png:
	Add new icons and makefiles.

2009-03-23  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libnwamui.c (nwamui_util_get_env_status_icon),
	(nwamui_util_get_network_status_icon):
	Part code for panel icons, trying to draw different icon for average
	wireless strength.
	* common/libnwamui.h:
	Fixed some wrong stock id.
	* daemon/main.c (join_wifi_not_in_fav), (join_any_fav_wifi),
	(add_any_new_wifi_to_fav), (action_on_no_fav_networks), (main):
	* daemon/nwam-menu.c (nwam_menu_class_init), (nwam_menu_init),
	(nwam_menu_finalize), (nwam_menu_set_property),
	(nwam_menu_get_property), (nwam_menu_item_compare),
	(nwam_menu_new), (nwam_menu_section_remove_item),
	(nwam_menu_section_set), (nwam_menu_section_delete):
	* daemon/nwam-menu.h:
	Refactor. Get rid of code for notify and nwamui object and move them to
	status icon.
	* daemon/nwam-menuitem.c (nwam_menu_item_new),
	(nwam_menu_item_new_with_label), (menu_item_set_label):
	Fixed some build warnings.
	* daemon/status_icon.c (status_icon_wifi_key_needed),
	(daemon_status_changed), (daemon_info), (daemon_wifi_key_needed),
	(daemon_wifi_selection_needed), (daemon_ncu_up), (daemon_ncu_down),
	(nwam_menu_create_wifi_menuitems), (daemon_ncu_create),
	(daemon_ncu_destroy), (daemon_add_wifi_fav),
	(daemon_remove_wifi_fav), (daemon_active_ncp_changed),
	(daemon_active_env_changed), (connect_nwam_object_signals),
	(disconnect_nwam_object_signals), (animation_panel_icon_timeout),
	(trigger_animation_panel_icon), (nwam_status_icon_new),
	(nwam_status_icon_run), (nwam_status_icon_set_activate_callback),
	(nwam_status_icon_set_status), (nwam_status_icon_refresh_tooltip),
	(nwam_status_icon_show_menu), (status_icon_popup_cb),
	(status_icon_size_changed_cb), (ncp_deactivate_ncu),
	(on_activate_static_menuitems), (update_wifi_timer_func),
	(on_ncp_notify_cb), (notifyaction_wifi_key_need),
	(notifyaction_popup_menus), (notification_listwireless),
	(nwam_status_icon_class_init), (nwam_status_icon_init),
	(nwam_status_icon_finalize), (nwam_menu_recreate_wifi_menuitems),
	(nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_recreate_env_menuitems),
	(nwam_menu_recreate_enm_menuitems),
	(nwam_menu_start_update_wifi_timer),
	(nwam_menu_stop_update_wifi_timer),
	(nwam_menu_create_static_menuitems), (nwam_menu_item_create),
	(nwam_menu_item_delete), (nwam_exec):
	* daemon/status_icon.h:
	Refactor. Manage menu logic here, centralizing nwamui object signals.

2009-03-20  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/nwam-menu.c (nwam_menu_init), (nwam_menu_finalize),
	(nwam_menu_recreate_wifi_menuitems),
	(nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_recreate_env_menuitems),
	(nwam_menu_recreate_enm_menuitems),
	(nwam_menu_create_static_menuitems),
	(on_activate_static_menuitems), (daemon_ncu_down),
	(daemon_ncu_create), (daemon_ncu_destroy),
	(daemon_active_ncp_changed), (daemon_active_env_changed),
	(daemon_add_wifi_fav), (daemon_remove_wifi_fav),
	(connect_daemon_signals), (daemon_status_changed), (daemon_info),
	(nwam_menu_create_wifi_menuitems), (nwam_menu_item_create),
	(nwam_menu_item_delete), (nwam_menu_section_get_item_by_proxy):
	Added code for adding/removing ncu/wifi menuitem. Fixed some build
	warnings. Removed ununsed code. Renamed some functions.
	
	* daemon/status_icon.c (nwam_status_icon_run),
	(nwam_status_icon_finalize): Fixed menu has only sink ref.

2009-03-19  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_env_pref_dialog.c: Comment out old menu group code.
	* daemon/Makefile.am: Added missed *-item files.
	* daemon/nwam-enm-item.c (nwam_enm_item_class_init),
	(nwam_enm_item_new), (on_nwam_enm_toggled), (on_nwam_enm_notify),
	(get_proxy):
	* daemon/nwam-enm-item.h:
	* daemon/nwam-env-item.c (nwam_env_item_class_init),
	(nwam_env_item_new), (on_nwam_env_toggled), (on_nwam_env_notify),
	(get_proxy):
	* daemon/nwam-env-item.h:
	Fixed bugs in switching to gtkmenuitem.
	* daemon/nwam-menu.c (nwam_menu_class_init), (nwam_menu_init),
	(nwam_menu_finalize), (nwam_menu_item_compare),
	(nwam_menu_recreate_wifi_menuitems),
	(nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_recreate_env_menuitems),
	(nwam_menu_recreate_enm_menuitems),
	(nwam_menu_create_static_menuitems), (nwam_menu_connect),
	(on_activate_static_menuitems), (event_active_env_changed),
	(event_daemon_status_changed), (event_daemon_info),
	(nwam_menu_create_wifi_menuitems),
	(nwam_menu_create_dynamic_menuitems), (nwam_menu_item_creator),
	(nwam_menu_new), (nwam_menu_start_update_wifi_timer),
	(nwam_menu_section_prepend), (nwam_menu_section_append),
	(nwam_menu_section_insert_sort), (nwam_menu_section_sort),
	(nwam_menu_section_delete), (menu_section_get_children),
	(menu_foreach_by_name), (menu_foreach_by_proxy),
	(menu_get_item_by_name), (menu_get_item_by_proxy):
	Rework.
	* daemon/nwam-menu.h:
	* daemon/nwam-menuitem.c (nwam_menu_item_init),
	(nwam_menu_item_activate), (menu_item_set_label):
	* daemon/nwam-menuitem.h:
	* daemon/nwam-ncu-item.c (nwam_ncu_item_class_init),
	(nwam_ncu_item_new), (on_nwam_ncu_toggled), (on_nwam_ncu_notify),
	(get_proxy):
	* daemon/nwam-ncu-item.h:
	* daemon/nwam-wifi-item.c (nwam_wifi_item_class_init),
	(nwam_wifi_item_init), (nwam_wifi_item_new),
	(on_nwam_wifi_toggled), (get_proxy), (wifi_net_notify):
	* daemon/nwam-wifi-item.h:
	* daemon/status_icon.c (status_icon_popup_cb):
	Fixed bugs in switching to gtkmenuitem.
	* daemon/nwam-*-action.[hc]: Rename to *-item.[hc] since we do not use
	Action based widgets anymore.
	* daemon/Makefile.am: Updated.

2009-03-18  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Tweak layout of Connection Status view to accommodate hidden
	'Advanced' section.

2009-03-16  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Fix typo in the name of the nis_services_cb widget.
	* capplet/nwam_env_pref_dialog.c:
	  Start changes for nameservices, creating widget pointers, etc.
	* capplet/nwam_location_dialog.c: 
	  Add hostname to title.
	* capplet/nwam_net_conf_panel.c: 
	  Updates for latest glade file (widget rename and removal of rules
	  button).
	* capplet/nwam_pref_dialog.c: 
	  Add hostname to title.
	* capplet/nwam_vpn_pref_dialog.c: 
	  Add hostname to title.
	* common/libnwamui.c, common/libnwamui.h:
	  Create function nwamui_util_window_title_append_hostname() to add
	  hostname to window titles.  Functions to handle conversion between
	  comma separated string to glist of strings and vice versa -
	  nwamui_util_parse_string_to_glist(),
	  nwamui_util_glist_to_comma_string().
	* common/nwamui_env.h, common/nwamui_env.c:
	  #ifdef out all the PROXY related code.
	* help/nwam-manager.xml:
	  Add outline help document from 2009-03-11.

2009-03-16  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Add LDAP Servers text entry

2009-03-16  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Fix some minor issue add title for Network Locations dialog.

2009-03-11  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Changes to network profile view to match latest draft of UI spec.

2009-03-11  Darren Kenny  <darren.kenny@sun.com>

	* nwam_core/usr/include/libnwam.h:
	  Update to latest headers.
	* common/nwamui_object.h:
	  Add typedefs for the objects functions, so that we can do casts to
	  these in subclasses (e.g. get_name).
	* common/nwamui_env.c:
	  (nwamui_env_set_default_domainname),
	  (nwamui_env_get_default_domainname),
	  (nwamui_env_set_dns_nameservice_domain),
	  (nwamui_env_get_dns_nameservice_domain),
	  (nwamui_env_set_dns_nameservice_config_source),
	  (nwamui_env_get_dns_nameservice_config_source),
	  (nwamui_env_set_nis_nameservice_config_source),
	  (nwamui_env_get_nis_nameservice_config_source),
	  (nwamui_env_set_ldap_nameservice_config_source),
	  (nwamui_env_get_ldap_nameservice_config_source),
	  (nwam_nameservices_enum_to_string):
	  Update to match current libnwam LOC properties, mainly changes for
	  the nameservices.
	* capplet/main.c, capplet/nwam_condition_vbox.c,
	  capplet/nwam_env_pref_dialog.c, capplet/nwam_wireless_dialog.c,
	  common/libnwamui.c, common/nwamui_cond.c, common/nwamui_cond.h,
	  common/nwamui_enm.c, common/nwamui_env.h, common/nwamui_ncp.c,
	  common/nwamui_ncu.c, common/nwamui_wifi_net.c, tests/main.c: 
	  Updates to make things build again, and clean up some warnings.
		

2009-03-09  Darren Kenny  <darren.kenny@sun.com>

	* AUTHORS:
	  Add Calum
	* capplet/main.c:
	  Sanitize CLI arguments
	* daemon/nwam-menu.c: 
	  Update for sanitized arg names.
	* common/libnwamui.c: 
 	  Fix some minor warnings.
	* common/nwamui_daemon.c: 
	  Fix some compile issues, still needs work for events.
	* common/nwamui_ncu.c: 
	  Fix some compile issues.

	* capplet/capplet-utils.c, capplet/capplet-utils.h,
	  capplet/nwam_condition_vbox.c, capplet/nwam_condition_vbox.h,
	  capplet/nwam_conn_conf_ip_panel.c,
	  capplet/nwam_conn_conf_ip_panel.h, capplet/nwam_conn_stat_panel.c,
	  capplet/nwam_conn_stat_panel.h, capplet/nwam_env_pref_dialog.c,
	  capplet/nwam_env_pref_dialog.h, capplet/nwam_env_svc.c,
	  capplet/nwam_env_svc.h, capplet/nwam_location_dialog.c,
	  capplet/nwam_location_dialog.h, capplet/nwam_net_conf_panel.c,
	  capplet/nwam_net_conf_panel.h, capplet/nwam_pref_dialog.c,
	  capplet/nwam_pref_dialog.h, capplet/nwam_proxy_password_dialog.c,
	  capplet/nwam_proxy_password_dialog.h, capplet/nwam_rules_dialog.c,
	  capplet/nwam_rules_dialog.h, capplet/nwam_tree_view.c,
	  capplet/nwam_tree_view.h, capplet/nwam_vpn_pref_dialog.c,
	  capplet/nwam_vpn_pref_dialog.h, capplet/nwam_wireless_chooser.c,
	  capplet/nwam_wireless_chooser.h, capplet/nwam_wireless_dialog.c,
	  capplet/nwam_wireless_dialog.h, common/libnwamui.h,
	  common/nwam-menu-action-group.c, common/nwam-menu-action-group.h,
	  common/nwam-menu-group.c, common/nwam-menu-group.h,
	  common/nwam-menu-radio-action-group.c,
	  common/nwam-menu-radio-action-group.h, common/nwam_pref_iface.c,
	  common/nwam_pref_iface.h, common/nwamui_cond.c,
	  common/nwamui_cond.h, common/nwamui_daemon.h, common/nwamui_enm.c,
	  common/nwamui_enm.h, common/nwamui_env.c, common/nwamui_env.h,
	  common/nwamui_ip.c, common/nwamui_ip.h, common/nwamui_ncp.c,
	  common/nwamui_ncp.h, common/nwamui_ncu.h, common/nwamui_object.c,
	  common/nwamui_object.h, common/nwamui_prof.c, common/nwamui_prof.h,
	  common/nwamui_svc.c, common/nwamui_svc.h, common/nwamui_wifi_net.c,
	  common/nwamui_wifi_net.h, daemon/main.c, daemon/notify.c,
	  daemon/notify.h, daemon/nwam-enm-action.c, daemon/nwam-enm-action.h,
	  daemon/nwam-enm-group.c, daemon/nwam-enm-group.h,
	  daemon/nwam-env-action.c, daemon/nwam-env-action.h,
	  daemon/nwam-env-group.c, daemon/nwam-env-group.h,
	  daemon/nwam-menu.h, daemon/nwam-menuitem.c, daemon/nwam-menuitem.h,
	  daemon/nwam-obj-proxy-iface.c, daemon/nwam-obj-proxy-iface.h,
	  daemon/nwam-wifi-action.c, daemon/nwam-wifi-action.h,
	  daemon/nwam-wifi-group.c, daemon/nwam-wifi-group.h,
	  daemon/status_icon.c, daemon/status_icon.h, help/nwam-manager.xml,
	  nwam_core/usr/include/inetcfg.h, nwam_core/usr/include/libnwam.h,
	  nwam_core/usr/include/sys/mac.h, tests/main.c:
	  Fix Copyright and CDDL Header issues.

2009-03-06  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Modify Network Profile view to match latest UI spec.

2009-03-05  Calum Benson <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:
	Redesigned Name Services tab in Location Prefs dialog.
	Still needs some layout love, but should be good enough
	to allow implementation to commence...	

2009-03-02  Darren Kenny  <darren.kenny@sun.com>

	* Makefile.am:
	  Include nwam_core headers in EXTRA_DIST (for now).
	* capplet/Makefile.am,  daemon/Makefile.am,  common/Makefile.am:
	  Add Missing header files into EXTRA_DIST, and sort them.
	* common/nwamui_enm.c,  common/nwamui_enm.c: 
	  Fix references to NWAM_NCU_PROP variables.
	* configure.in:
	  Set version number to 1.0
	* daemon/nwam-manager-daemon.glade:
	  Remove unused glade file.
	* nwam_core/usr/include/libdlflow.h,  nwam_core/usr/include/libnwam.h,
	  nwam_core/usr/include/sys/dld.h,  nwam_core/usr/include/sys/dlpi.h,
	  nwam_core/usr/include/sys/mac.h,
	  nwam_core/usr/include/sys/mac_flow.h:
	  Update nwam_core header files from latest NWAM sources.
	  NOTE: This breaks the build - we need to work on fixing this since
	  many references have changed w.r.t. events and NCU_PROP_CONDITIONS
	  to name a few.

2009-02-26  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/nwam-enm-action.c (nwam_enm_action_init),
	(nwam_enm_action_new), (nwam_enm_action_set_property),
	(on_nwam_enm_toggled):
	* daemon/nwam-enm-action.h:
	* daemon/nwam-env-action.c (nwam_env_action_init),
	(nwam_env_action_new), (nwam_env_action_set_property),
	(on_nwam_env_toggled):
	* daemon/nwam-env-action.h:
	* daemon/nwam-env-group.c:
	* daemon/nwam-env-group.h:
	* daemon/nwam-menu.c (event_daemon_info):
	* daemon/nwam-wifi-action.c (nwam_wifi_action_init),
	(nwam_wifi_action_new), (nwam_wifi_action_set_property),
	(on_nwam_wifi_toggled):
	* daemon/nwam-wifi-action.h:
	* daemon/nwam-wifi-group.c:
	* daemon/nwam-wifi-group.h:
	Merge Nwam0.5 defect 6044.

2009-02-17  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:
	Replace the Add+Remove buttons in the NCP dialog with an
	Edit button instead.

2009-02-17  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Add Add+Remove buttons to NCP dialog, tidy up layout/wording
	  in a couple of other dialogs.

2009-02-13  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_condition_vbox.c: 
	  Put in place-holder code for validation of the text value according
	  to the type of the field.

2009-02-13  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c: 
	  Remove wrong code, and return a value in apply().
	* capplet/nwam_pref_dialog.c:
	  Attempt to handle switch away from a modified NCU which doesn't
	  validate.
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c: 
	  Add function to nwamui_wifi_net_has_modifications(). Also #if 0 out
	  any references to ENTERPRISE security since it's not supported by
	  the drivers yet, so we shouldn't allow configuration of it.
	* capplet/nwam_wireless_dialog.c:
	  Change nwam_wifi_net_new() to take less arguments, most of which are
	  not needed at this point. Change the properties which are get/set
	  in a wifi_net object based on the selected security type.
	  Set sensible defaults if no wifi_net object is associated with the
	  dialog when dialog_run() is called.
	  Also update for disabled ENTERPRISE security type.
	* common/libnwamui.h, common/libnwamui.c: 
	  Update nwamui_util_wifi_sec_to_string(),
	  nwamui_util_wifi_sec_to_short_string(), and
	  nwamui_util_get_network_security_icon() for disabled ENTERPRISE
	  security type.
	  Add utility function nwamui_util_set_entry_smf_fmri_completion() to
	  add autocompletion support to GtkEntry widgets which allow entry of
	  an FMRI.
	  Fix bug in nwamui_util_copy_obj_list() where it wasn't returning the
	  new list!.
	* capplet/nwam_env_pref_dialog.c:
	  Add completion to FMRI entry field.
	  Slightly change how the entry of an FMRI is validated - we allow any
	  FMRI, even if it doesn't exist, just as long as it's valid (i.e. can
	  be decoded). Changed the function to get the name to work cleaner.
	  If no name is found (which unfortunately some don't have) then we
	  don't use it in the tree view.  (Maybe this needs a "No Name Found"
	  string, not sure).
	* capplet/nwam_vpn_pref_dialog.c: 
	  Add completion to FMRI entry field.
	* common/nwamui_ncp.c: 
	  Fix bug in nwamui_ncp_is_modifiable() where the name is "Automatic"
	  not "automatic" now. Also added accessor for the ncu_list GList.
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Add function nwamui_daemon_commit_changed_objects() which will loop
	  through NCPs and NCUs committing modified NCUs.
	  Update for change in nwamui_wifi_net_new(). Fix issue in merging of
	  wifi_fav_list where it's possible for an entry in the existing list
	  to be in-memory only, and so needs committing.

2009-02-12  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwam-obj-proxy-iface.c, common/nwam-obj-proxy-iface.h:
	Removed those files which are added by mistake.

2009-02-12  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init),
	(nwam_env_pref_dialog_finalize), (dialog_run),
	(nwam_compose_tree_view), (populate_panels_from_env),
	(nameservices_button_clicked), (nameservices_status_cb),
	(on_activate_static_menuitems), (vanity_name_edited),
	(vanity_name_editing_started), (menu_pos_func),
	(action_menu_group_set_visible), (ns_menu_action_activate):
	Pop up menu on nameservices table. Fixed dialog run always set selected
	env to NULL.
	* common/Makefile.am:
	Menu group classes are moved here.
	* common/nwam-menu-action-group.c:
	(nwam_menu_action_group_class_init),
	(nwam_menu_action_group_get_item_by_name),
	(nwam_menu_action_group_add_item),
	(nwam_menu_action_group_remove_item),
	(nwam_menu_action_group_attach), (nwam_menu_action_group_detach),
	(nwam_menu_action_group_get_items),
	(nwam_menu_action_group_get_menu), (nwam_menu_action_group_new):
	Fixed some warnings. If there is no root menu or popup, create a temp
	one, so we can get a completed menu to show.
	* common/nwam-menu-action-group.h:
	* common/nwam-menu-group.c: (nwam_menu_group_get_items),
	(nwam_menu_group_get_menu):
	* common/nwam-menu-group.h:
	Added new virtual function to get menu and menu items.
	* common/nwam-menu-radio-action-group.c:
	(nwam_menu_radio_action_group_add_item):
	* common/nwamui_env.c: (nwam_nameservices_enum_to_string):
	* daemon/Makefile.am:
	Moved menu group classes to common lib.
	* daemon/nwam-enm-group.c: (nwam_enm_group_class_init):
	* daemon/nwam-env-group.c: (nwam_env_group_class_init):
	* daemon/nwam-menu-action-group.c:
	* daemon/nwam-menu-action-group.h:
	* daemon/nwam-menu-group.c:
	* daemon/nwam-menu-group.h:
	* daemon/nwam-menu-radio-action-group.c:
	* daemon/nwam-menu-radio-action-group.h:
	* daemon/nwam-menu.c: (nwam_menu_group_get_item_by_proxy):
	Removed some useless code.

2009-02-05  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_conf_ip_panel.c: (nwam_conn_wifi_fav_cell_cb):
	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init),
	(nwam_compose_tree_view), (populate_panels_from_env),
	(nameservices_status_cb):
	Only finish show nameservice table.
	* common/nwamui_env.c: (nwam_nameservices_enum_to_string):
	* common/nwamui_env.h:
	Added a function to translate nameservice type enum to string.

2009-02-06  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_rules_dialog.c: 
	  Update the object's conditional All/Any activation mode.
	* capplet/nwam_vpn_pref_dialog.c: 
	  Update to provide some better validation, and also handle validation
	  just before selection changes.
	* common/nwamui_enm.c: 
	  Change set_nwam_enm_string_array_prop() to allow you to delete the
	  property if a NULL array is passed.
	  Changed start/stop/fmri set functions to allow you to pass a NULL
	  value.
	* common/nwamui_object.c: 
	  Allow nwamui_object_set_conditions to take NULL to clear the list.

2009-02-05  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (capplet_dialog_run):
	* capplet/capplet-utils.h:
	Fixed a top widget detect nit.
	* capplet/nwam-manager-properties.glade:
	Romved ipsec key related widgets.
	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init),
	(nwam_env_pref_dialog_finalize), (dialog_run),
	(nwam_compose_tree_view), (populate_panels_from_env),
	(svc_button_clicked), (default_svc_status_cb), (apply),
	(combo_cell_strings_value), (combo_changed_strings_value),
	(on_button_toggled), (svc_list_merge_to_model), (populate_svc),
	(fmri_dialog_response_cb):
	Remove unused code. Make OK do things.

2009-02-05  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_env_pref_dialog.c,  capplet/nwam_location_dialog.c,
	  common/nwamui_daemon.c,  common/nwamui_enm.c,  common/nwamui_env.c,
	  common/nwamui_env.h,  common/nwamui_ncp.c,  common/nwamui_ncp.h,
	  common/nwamui_ncu.c,  common/nwamui_ncu.h,  tests/main.c: 
	  Change all read-only methods / properties to use "is_modifiable" and
	  directly pull the information from the nwam_*handle since it's not
	  possible to set it.

2009-02-05  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_condition_vbox.c: 
	  Update rules dialog to match the UI spec w.r.t. the possiblity to
	  select NCU/ENM/LOC/WIFI_NET from a drop-down list or editable combo
	  when the field is selected.
	* capplet/nwam_rules_dialog.c: 
	  Change from hide_all to hide to prevent a blank window being shown
	  on subsequent dialog runs. Also set a size request on the dialog
	  after a refresh to resize it to match the contents.
	* common/nwamui_cond.h, common/nwamui_cond.c: 
	  Handle null values better, and map include to is and don't include
	  to is not for NWAM library.

2009-02-04  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_vpn_pref_dialog.c: (nwam_vpn_pref_dialog_init),
	(nwam_update_obj), (nwam_vpn_selection_changed),
	(on_radio_button_toggled):
	Updated due to 'Add radio buttons for swapping between CLI and SMF for
	VPN apps'.

2009-02-04  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (capplet_model_find_max_name_suffix),
	(capplet_get_increasable_name), (capplet_get_max_name_num),
	(capplet_get_original_name):
	* capplet/capplet-utils.h:
	Updated to deal with 'Copy of Copy of ..' things.
	* capplet/nwam_location_dialog.c: (nwam_pref_init),
	(nwam_update_obj), (apply),
	(nwam_location_connection_enabled_toggled_cb), (on_button_clicked),
	(response_cb), (tree_model_foreach_find_enabled_env):
	* common/nwamui_object.c: (nwamui_object_set_activation_mode):
	OK really does things.

2009-02-04  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_env.h, common/nwamui_env.c: 
	  Add ACTIVE property to get the state of the loc object when read
	  from libnwam. ENABLED can now be used to reflect the "desired" state
	  which will be acted upon on a call to commit.

2009-02-04  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Fix response id and icon path.

2009-02-04  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Add radio buttons for swapping between CLI and SMF for VPN apps.

2009-02-04  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	* capplet/nwam_condition_vbox.c:
	  Add support for combo selection of NCU/LOC/ENM based on field
	  selected.
	* common/nwamui_cond.c, common/nwamui_cond.h:
	  Add INCLUDE/DOES_NOT_INCLUDE conditions operators.
	* common/nwamui_env.c:
	  Remove obsolete functions.
	* common/nwamui_wifi_net.c, common/nwamui_wifi_net.h:
	  Add channel property.
	* capplet/nwam_conn_conf_ip_panel.c: 
	  Update to print panel

2009-02-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (tree_model_find_object_cb),
	(capplet_model_find_max_name_suffix),
	(capplet_get_increasable_name), (capplet_reset_increasable_name):
	* capplet/capplet-utils.h:
	Add simply functions to get increased name.
	* capplet/nwam_location_dialog.c: (refresh), (on_button_clicked):
	* capplet/nwam_vpn_pref_dialog.c: (refresh), (vpn_pref_clicked_cb):
	Use the increased name for the new added objects.

2009-02-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c, capplet/capplet-utils.h:
	Add a simple comment and update header file.
	* capplet/nwam_location_dialog.c: (on_button_clicked):
	Select new object after add it
	* capplet/nwam_vpn_pref_dialog.c: (apply), (response_cb),
	(vpn_pref_clicked_cb), (nwam_vpn_selection_changed):
	Add code to sync model and enm list. And select new object after add it.
	* capplet/nwam_tree_view.h:
	Updated header file

2009-02-03  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c: 
	  Change WIFI Fav list to be closer to UI Spec.
	* capplet/nwam_net_conf_panel.c: 
	  Ensure that the rules button correctly reflects the selected
	  NCU's activation mode.
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c:
	  Add nwamui_wifi_net_convert_strength_to_string() to provide ability
	  to get a translated string for the signal strength, in one place.
	  Add nwamui_wifi_net_get_signal_strength_string() as a convenience
	  function to get signal string.
	* common/nwamui_ncu.c: 
	  Make nwamui_ncu_get_signal_strength_string use 
	  nwamui_wifi_net_convert_strength_to_string() to get a string
	  representation for the signal strength (to do in 1 place).

2009-02-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (capplet_list_store_add),
	(tree_model_find_object_cb), (capplet_model_get_iter),
	(capplet_model_foreach_add_to_list), (capplet_model_to_list):
	Added function to get iter from object
	* capplet/nwam_conn_conf_ip_panel.c:
	(nwam_compose_multi_ip_tree_view), (apply):
	Make this panel do things when ok is clicked.
	* capplet/nwam_location_dialog.c:
	(nwam_location_dialog_class_init), (nwam_compose_tree_view),
	(nwam_location_dialog_init), (on_button_clicked):
	Updated due to nwam tree view changes.
	* capplet/nwam_tree_view.c: (nwam_tree_view_class_init),
	(nwam_tree_view_set_property), (nwam_tree_view_get_property),
	(nwam_tree_view_init), (on_button_clicked),
	(nwam_tree_view_key_press), (nwam_tree_view_key_release),
	(default_set_object_func), (object_notify_cb),
	(nwam_tree_view_row_inserted), (nwam_tree_view_row_changed),
	(nwam_tree_view_row_deleted),
	(nwam_tree_view_select_cached_object),
	(nwam_tree_view_get_cached_object), (connect_model_signals),
	(disconnect_model_signals):
	* capplet/nwam_tree_view.h:
	Cache object and make add button a little smart
	* capplet/nwam_vpn_pref_dialog.c: (nwam_pref_init),
	(nwam_vpn_pref_dialog_init), (nwam_compose_tree_view), (apply),
	(help), (object_notify_cb), (response_cb), (vpn_pref_clicked_cb):
	Updated due to nwam tree view changes. Fixed add new object dup other
	object issue.

2009-02-03  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Fix Locations Dialog button response ids.
	  Fix icon paths, again. 
	  Change text for "Process" field to be more correct, since it refers
	  to an SMF FMRI not a process name.
	* capplet/nwam_conn_stat_panel.c: 
	  Change Locations button to launch the Locations dialog, not the
	  properties editor of a location.
	* capplet/nwam_location_dialog.c:
	  Make this dialog do things when cancel/ok clicked.
	* capplet/nwam_vpn_pref_dialog.c: 
	  Fix issues found then using the dialog.
	* common/libnwamui.c:
	  Silly function to get stdio FILE, since it's not possible to do from
	  dbx.
	* common/nwamui_enm.c, common/nwamui_enm.h:
	  Change how some ENM properties are set to allow validation by
	  libnwam.

2009-02-02  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (capplet_compose_nwamui_obj_combo),
	(nwamui_object_name_cell), (nwamui_object_name_cell_edited),
	(nwamui_object_active_mode_text_cell), (capplet_column_new),
	(capplet_column_append_cell), (capplet_tree_view_commit_object):
	* capplet/capplet-utils.h:
	Refactor.
	* capplet/nwam-manager-properties.glade:
	Changed favorite wireless tree view from treeview1 to wireless_treeview 
	* capplet/nwam_conn_conf_ip_panel.c: (nwam_compose_wifi_fav_view),
	(nwam_compose_multi_ip_tree_view):
	* capplet/nwam_location_dialog.c: (nwam_compose_tree_view),
	(vanity_name_editing_started), (vanity_name_edited),
	(on_button_clicked):
	* capplet/nwam_net_conf_panel.c: (nwam_compose_tree_view),
	(vanity_name_editing_started), (vanity_name_edited),
	(on_button_clicked), (update_widgets):
	* capplet/nwam_vpn_pref_dialog.c: (nwam_compose_tree_view):
	* capplet/nwam_wireless_chooser.c:
	(nwam_compose_wifi_chooser_view):
	Refactor due to capplet-utils changes.
	* capplet/nwam_tree_view.c: (nwam_tree_view_set_object_func),
	(on_button_clicked), (nwam_tree_view_key_press),
	(default_set_object_func):
	* capplet/nwam_tree_view.h:
	Make the add button insensitive iff uses nwam tree view to cache the
	new object (to use nwam_tree_view_set_object_func). Add commit call back
	to that function in order to setting add button sensitive.
	* common/nwamui_enm.c: (nwamui_enm_class_init):
	* common/nwamui_env.c: (nwamui_env_class_init):
	* common/nwamui_ncu.c: (nwamui_ncu_class_init):
	* common/nwamui_object.c: (nwamui_object_get_active),
	(nwamui_object_set_active), (nwamui_object_commit),
	(nwamui_object_reload):
	* common/nwamui_object.h:
	Add set/get_active, reload, commit to object.

2009-01-30  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_tree_view.c:
	  Don't make the add button insensitive, it should always work.
	* capplet/nwam_vpn_pref_dialog.c:
	  Make the VPN dialog work better, and actually save information.
	* capplet/nwam_wireless_dialog.c, capplet/nwam_wireless_dialog.h:
	  Handle the addition of known networks, use of the bssid list and
	  validate.
	* common/nwamui_daemon.c: 
	  Temporarily select the first environment to be the active env.
	* common/nwamui_enm.c, common/nwamui_enm.h:
	  Make better use of the enm handle to store values. Add enabled
	  property to match NWAM equivalent, the "active" property is 
	  a run/stop switch
	* common/nwamui_ncp.c: 
	  Don't crash if the name is NULL, and also free the name after we've
	  used it, not before.
	* common/nwamui_ncu.c: 
	  Use nwamui_ncu_update_with_handle() in nwamui_ncu_new_with_handle().
	* common/nwamui_wifi_net.c, common/nwamui_wifi_net.h:
	  Remove the bssid value, using bssid_list instead, store the
	  bssid_list directly in the known_wlan handle.
	* tests/main.c: 
	  Updates for new/removed properties.

2009-01-28  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Update to hide the proxy tab, which is not being used in Phase 1,
	  and fix icon references to use relative path "icons/network-idle.png"
	* capplet/capplet-utils.c: 
	  Add case option for activation mode CONDITIONAL_ALL.
	* capplet/nwam_conn_conf_ip_panel.c: 
	  Block "changed" handlers when setting programmatically. Add code to
	  stop switch if there are un-saved modifications.
	* common/libnwamui.c: 
	  Add case option for activation mode CONDITIONAL_ALL.
	* common/nwamui_cond.h:
	  Correct activation modes to match order in libnwam.h and also
	  include new CONDITIONAL_ANY option.
	* common/nwamui_daemon.c: 
	  Use NwamuiWifiNet compare function, and if an object is found to be
	  the same, then re-read it's configuration to be the latest.
	* common/nwamui_enm.h, common/nwamui_enm.c: 
	  Add functions to commit/validate/reload and check for modifications.
	* common/nwamui_env.h, common/nwamui_env.c: 
	  Add functions to commit/validate/reload and check for modifications.
	* common/nwamui_ncp.c: 
	  Determine NCP read-only/modifiable status based off NCU objects
	  below - this is how nwamcfg does it since an NCP doesn't have this
	  value in itself.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Add code to monitor modification of the NCU object to know when
	  there is something to be saved. Also added commit/verify/reload
	  functions.
	* common/nwamui_wifi_net.c, common/nwamui_wifi_net.h:
	  Add function to compare two NwamuiWifiNet objects, and also store
	  known_wlan handle, and add a function to update the object if
	  provided with this.

2009-01-27  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Change BSSID entry from a text field to a list in the 
	add_wireless_network dialog, per discussion with Darren.

2009-01-22  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_stat_panel.c: (on_nwam_enm_notify_cb):
	* capplet/nwam_net_conf_panel.c: (nwam_net_conf_panel_init),
	(refresh), (update_widgets), (connection_activation_combo_cell_cb),
	(connection_activation_combo_changed_cb),
	(connection_activation_combo_filter):
	Change combo contents according to selected object.

2009-01-22  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/nwam-menu-group.c: (nwam_menu_group_get_item_by_proxy):
	Add some comments.

2009-01-22  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_net_conf_panel.c:
	(nwam_net_pref_connection_view_row_activated_cb):
	Fixed a nit.
	* daemon/main.c: (init_wait_for_embedding), (main):
	Do not connect to any common object signals, until status icon is shown
	* daemon/nwam-env-group.c: (nwam_env_group_finalize),
	(nwam_env_group_new):
	Comment out location 'automatic' since nwam daemon will populate the
	data.
	* daemon/nwam-menu-action-group.c:
	(nwam_menu_action_group_add_item),
	(nwam_menu_action_group_remove_item):
	Add debug code.
	* daemon/nwam-menu.c: (nwam_menu_get_statusicon_menu):
	Fixed a ui manage XML nit
	* daemon/nwam-ui.xml:
	Fixed a nit.
	* daemon/status_icon.c: (event_daemon_info),
	(nwam_status_icon_run), (nwam_status_icon_show_menu),
	(status_icon_popup_cb), (on_notifyaction_popup_menus),
	(nwam_status_icon_init):
	* daemon/status_icon.h:
	Fixed a bug. Now location menuitems will be shown.

2009-01-22  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (capplet_compose_nwamui_obj_combo),
	(capplet_model_foreach_find_object),
	(capplet_list_foreach_merge_to_model),
	(capplet_model_update_from_list), (capplet_model_find_object),
	(capplet_model_remove_object), (capplet_update_model_from_daemon),
	(nwamui_obj_name_cell_cb), (capplet_tree_store_move_object),
	(capplet_tree_store_merge_children),
	(capplet_tree_store_exclude_children),
	(capplet_tree_view_expand_row), (capplet_tree_view_collapse_row):
	* capplet/capplet-utils.h:
	Updated utility functions.
	* capplet/main.c: (customwidgethandler):
	* capplet/nwam-manager-properties.glade:
	Customize tree view of VPN dialog.
	* capplet/nwam_conn_stat_panel.c: (nwam_conn_status_panel_init),
	(refresh), (env_clicked_cb), (on_nwam_env_notify_cb),
	(on_nwam_enm_notify_cb), (filter_ncu):
	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init):
	* capplet/nwam_location_dialog.c: (refresh):
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_init),
	(add_ncu_element):
	* capplet/nwam_vpn_pref_dialog.c: (nwam_compose_tree_view),
	(refresh):
	Updated due to capplet-utils changes
	* capplet/nwam_net_conf_panel.c: (nwam_compose_tree_view),
	(nwam_net_conf_panel_init), (refresh),
	(nwam_net_conf_update_status_cell_cb),
	(nwam_net_pref_connection_enabled_toggled_cb),
	(vanity_name_editing_started), (vanity_name_edited),
	(on_button_clicked), (cursor_changed), (selection_changed),
	(update_widgets), (ncp_build_group_index), (ncp_build_group):
	Group, move up, move down.
	* capplet/nwam_rules_dialog.c: (response_cb):
	Hide dialog on closing
	* capplet/nwam_tree_view.c: (nwam_tree_view_key_press):
	Fixed an assertion
	* common/libnwamui.c: (nwamui_util_get_ncu_group_icon),
	(nwamui_util_get_active_mode_icon):
	* common/libnwamui.h:
	Translate action mode to icon (temporary icons)
	* common/nwamui_env.c: (get_nwam_loc_boolean_prop),
	(set_nwam_loc_boolean_prop):
	Comment out "read-only" properity due to bfu 1-20
	* common/nwamui_ncp.c: (nwamui_ncp_populate_ncu_list),
	(row_deleted_cb), (row_inserted_cb), (rows_reordered_cb):
	* common/nwamui_ncu.c: (nwamui_ncu_class_init):
	Group view need insert NwamuiObject as group rows, so update tree store
	new function. And comment out some lines which will cause warnings.

2009-01-21  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.h:
	  Remove unneeded function declaration.
	* common/nwamui_daemon.c: 
	  Start the nwam event thread, and store thread id, and cancel in
	  finalize.
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Try to catch a removed NCU when re-populating the ncu list. Change
	  nwamui_ncu_remove_ncu to use a ncu param rather than a device_name,
	  and create alternative function to do same with a device name.

2009-01-21  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c:
	  Add icons dir to theme search path.
	* capplet/nwam-manager-properties.glade:
	  Set a size hint of 500x200 for the rules dialog and disable
	  horizontal scrollbar by default.
	  Also add network-idle.png as the icon for most dialogs. 
	  (NOTE: If you edit using glade-3, you may need to replace the
	  instances of "network-idle.png" with "icons/network-idle.png" since
	  it doesn't seem to like such a path when editing in source dir ).
	* capplet/nwam_condition_vbox.c: 
	  Set size of text entry to be 20 chars at least.
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  Use a master GList as the list of NCUs internally, but only provide
	  access to this via a GtkListStore or GtkTreeStore - there is a need
	  for the list store for the status panel, while the configuration
	  panel needs the tree store - it doesn't work if we try represent
	  them using the same store.
	  Updated remove_ncu function to remove from all lists.
	  Notification functions still need to handle events on either tree
	  for consistency of insert/remove/re-order.
	* capplet/nwam_conn_stat_panel.c: 
	  Use NCU ListStore for status panel.
	* capplet/nwam_rules_dialog.c: 
	  Set dialog_run virtual function.
	* daemon/nwam-enm-group.c, daemon/nwam-env-group.c: 
	  Uncomment code to set attach/detach/add_item and remove_item virtual
	  function pointers.
	* daemon/status_icon.c: 
	  Comment out code to set initial state from event since it was
	  causing a circular dependenct on status_icon/notify - needs fixing.

2009-01-19  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.c: 
	  Use inet_ntop() to create user-readable string rather than inet_ntoa
	  which only supports IPv4. 

2009-01-19  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade,
	  capplet/nwam_conn_conf_ip_panel.c:
	  Change "Subnet" text to what it really is, the Subnet Mask.
	* common/libnwamui.h, common/libnwamui.c:
	  Add a function to convert a network prefix to a string for display
	  and a function to read the live address/prefix/dhcp information.
	* common/nwamui_enm.c:
	  Correct the base-class of NwamuiEnm to be an NwamuiObject.
	* common/nwamui_ip.c: 
	  For a NwamuiIp, if it's configured for DHCP, don't store values when
	  set is called, and read live system configuration when get is
	  called.
	* common/nwamui_ncp.c: 
	  After speaking with Alan, it makes sense that that UI doesn't show
	  device that don't have a physical counterpart on the system since it
	  doesn't make sense to configure them in the GUI.
	* common/nwamui_ncu.c: 
	  Fix some minor nits.

2009-01-19  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c: 
	  Change how tables are created (using similar mechanism to that for
	  the status panel) since using the previous mechanism seems to cause
	  an assertion in gtkliststore.
	
2009-01-18  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (capplet_compose_nwamui_obj_combo),
	(nwamui_obj_name_cell_cb), (nwam_pref_iface_combo_changed_cb),
	(capplet_compose_nwamui_obj_treeview),
	(capplet_update_nwamui_obj_treeview), (capplet_dialog_run),
	(nwamui_obj_name_cell_edited_cb),
	(capplet_active_mode_renderer_cell_cb), (capplet_name_column_new),
	(capplet_active_mode_column_new), (tree_model_find_object_cb),
	(capplet_model_get_iter), (capplet_combo_get_active),
	(capplet_combo_set_active):
	Added some basic functions to operate combo, tree view and tree model.
	* capplet/capplet-utils.h:
	* capplet/main.c: (main):
	* capplet/nwam_condition_vbox.c: (nwam_pref_init):
	* capplet/nwam_conn_conf_ip_panel.c: (nwam_pref_init),
	(wireless_tab_add_button_clicked_cb),
	(wireless_tab_edit_button_clicked_cb):
	* capplet/nwam_conn_stat_panel.c: (nwam_pref_init),
	(nwam_compose_tree_view), (env_clicked_cb), (vpn_clicked_cb):
	* capplet/nwam_env_pref_dialog.c: (nwam_pref_init), (dialog_run),
	(refresh):
	* capplet/nwam_env_pref_dialog.h:
	* capplet/nwam_env_svc.c: (nwam_pref_init):
	* capplet/nwam_location_dialog.c: (nwam_pref_init),
	(nwam_compose_tree_view), (nwam_location_dialog_init),
	(dialog_run), (refresh), (vanity_name_editing_started),
	(nwam_treeview_update_widget_cb), (on_button_clicked):
	* capplet/nwam_net_conf_panel.c: (nwam_pref_init),
	(nwam_net_conf_panel_class_init), (nwam_compose_tree_view),
	(nwam_net_conf_panel_init), (refresh),
	(nwam_net_conf_panel_finalize), (update_rules_from_ncu),
	(nwam_net_pref_rule_ncu_enabled_toggled_cb), (on_button_clicked),
	(nwam_treeview_update_widget_cb),
	(conditions_connected_toggled_cb), (conditions_set_status_changed),
	(conditions_connected_changed), (ncu_notify_cb):
	Added missed widgets.
	* capplet/nwam_pref_dialog.c: (nwam_pref_init), (dialog_run):
	* capplet/nwam_pref_dialog.h:
	* capplet/nwam_rules_dialog.c: (refresh):
	* capplet/nwam_tree_view.c: (nwam_tree_view_class_init),
	(on_button_clicked), (nwam_tree_view_update_widget_cb),
	(nwam_tree_view_locate_new_object):
	* capplet/nwam_tree_view.h:
	* capplet/nwam_vpn_pref_dialog.c: (nwam_pref_init),
	(nwam_vpn_pref_dialog_init), (nwam_compose_tree_view),
	(dialog_run), (refresh), (vpn_pref_clicked_cb), (nwam_vpn_cell_cb),
	(nwam_vpn_cell_edited_cb), (nwam_vpn_selection_changed),
	(on_nwam_enm_notify_cb), (on_button_clicked):
	Added missed widgets.
	* capplet/nwam_vpn_pref_dialog.h:
	* capplet/nwam_wireless_chooser.c: (nwam_pref_init), (dialog_run):
	* capplet/nwam_wireless_dialog.c: (nwam_pref_init), (dialog_run):
	* capplet/nwam_wireless_dialog.h:
	All capplet object implemented dialog_run interface. And use new nwamui
	object virtual functions.
	* common/libnwamui.c: (nwamui_util_glade_get_widget):
	* common/nwam_pref_iface.c: (nwam_pref_iface_class_init),
	(nwam_pref_refresh), (nwam_pref_apply), (nwam_pref_cancel),
	(nwam_pref_help), (nwam_pref_dialog_run):
	* common/nwam_pref_iface.h:
	Added dialog_run interface.
	* common/nwamui_enm.c: (nwamui_enm_class_init):
	* common/nwamui_env.c: (nwamui_env_class_init):
	* common/nwamui_ncp.c: (nwamui_ncp_class_init):
	* common/nwamui_ncu.c: (nwamui_ncu_class_init):
	All updated due to new virtual functions.
	* common/nwamui_object.c: (nwamui_object_class_init),
	(nwamui_object_set_name), (nwamui_object_get_name),
	(nwamui_object_set_conditions), (nwamui_object_get_conditions),
	(nwamui_object_get_activation_mode),
	(nwamui_object_set_activation_mode):
	Added above virtual functions.
	* common/nwamui_object.h:
	* common/nwamui_wifi_net.c: (nwamui_wifi_net_class_init):
	* daemon/main.c: (join_wireless):
	Commented out for build issue.

2009-01-16  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c: 
	  Change auto_conf to be dhcp since that is really what we're
	  referring to.
	* common/nwamui_daemon.c: 
	  Handle the Wifi Favourites list.
	* common/nwamui_ncu.c: 
	  Freeze notifications while updating wifi_net list.
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c: 
	  Add functions nwamui_wifi_net_delete_favourite and
	  nwamui_wifi_net_create_favourite to for use when add/delete.
	  Handle the get/set of the known wifi list settings.
	* tests/main.c:
	  Add some code to list the WLANs.

2009-01-15  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (nwamui_obj_get_display_name):
	* capplet/nwam-manager-properties.glade:
	* capplet/nwam_condition_vbox.c:
	* capplet/nwam_conn_conf_ip_panel.c: (refresh), (apply), (help):
	* capplet/nwam_conn_stat_panel.c: (nwam_pref_init), (refresh),
	(help):
	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init),
	(nwam_env_pref_dialog_finalize), (nwam_compose_tree_view),
	(populate_panels_from_env), (populate_dialog),
	(proxy_config_changed_cb), (default_svc_toggled_cb),
	(additional_svc_toggled_cb), (refresh), (apply), (help):
	* capplet/nwam_env_svc.c:
	* capplet/nwam_location_dialog.c: (nwam_location_dialog_init),
	(refresh), (nwam_treeview_activate_btn_cb),
	(nwam_treeview_update_widget_cb), (on_button_clicked):
	* capplet/nwam_net_conf_panel.c: (refresh), (help):
	* capplet/nwam_pref_dialog.c: (refresh), (apply), (help):
	* capplet/nwam_rules_dialog.c: (refresh), (nwam_rules_dialog_run),
	(response_cb):
	* capplet/nwam_rules_dialog.h:
	* capplet/nwam_tree_view.c: (on_button_clicked):
	* capplet/nwam_vpn_pref_dialog.c: (nwam_update_obj), (help):
	* capplet/nwam_wireless_chooser.c: (refresh), (apply), (help):
	Clean some code. Compose condition vbox, env pref dialog and location
	dialog.

2009-01-15  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Add _dhcp functions for DHCP configuration, auto_conf is something
	  else and so should have it's own separate property.
	  Remove gateway property since it's no possible to get/set.
	* capplet/nwam_conn_conf_ip_panel.c: 
	  Update to remove use of gateway.
	* common/libnwamui.c: 
	  Return NULL if the status icon is not embedded when we try to get a
	  suitable icon.
	* common/nwamui_env.c, common/nwamui_env.h:
	  Make Env object use the nwam_loc_handle_t to store settings rather
	  than having own copy.
	  Also remove ipseckey_config_file related functions.
	* common/nwamui_ip.c: 
	  Fix bug where we weren't setting addr_src correctly.
	* common/nwamui_ncp.c:
	  Update to count number of wireless NCUs, so that "has_many_wireless"
	  property will be useful.
	* tests/main.c: 
	  Update for all Env properties and also add functions to pretty print
	  strv and nameservices_t GLists.
	* daemon/nwam-env-action.c: 
	  Handle NULL arg1 in notify callback.
	* daemon/status_icon.c: 
	  Check to see if status_icon is embedded before we try to set it's
	  icon.

2009-01-15  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am:
	* capplet/capplet-utils.c:
	(capplet_remove_gtk_dialog_escape_binding):
	* capplet/capplet-utils.h:
	* capplet/main.c: (customwidgethandler):
	* capplet/nwam-manager-properties.glade:
	* capplet/nwam_condition_vbox.c: (refresh), (apply), (cancel),
	(nwam_condition_vbox_class_init), (nwam_condition_vbox_finalize),
	(_cu_cond_combo_cell_cb), (_cu_cond_combo_filter_visible_cb),
	(_cu_cond_combo_new), (nwam_condition_vbox_new),
	(table_lines_init), (table_add_condition_cb),
	(table_delete_condition_cb),
	(default_condition_add_signal_handler),
	(default_condition_remove_signal_handler):
	* capplet/nwam_location_dialog.c:
	(nwam_location_dialog_class_init), (nwam_compose_tree_view),
	(nwam_location_dialog_init), (nwam_treeview_add_object_cb),
	(nwam_treeview_remove_object_cb), (nwam_treeview_activate_btn_cb),
	(nwam_treeview_update_widget_cb), (on_button_clicked):
	Uses rules dialog.
	* capplet/nwam_rules_dialog.c: (refresh), (apply), (cancel),
	(nwam_pref_init), (nwam_rules_dialog_class_init),
	(nwam_rules_dialog_init), (nwam_rules_dialog_finalize),
	(nwam_rules_dialog_new), (nwam_rules_dialog_run), (response_cb):
	* capplet/nwam_rules_dialog.h:
	Add Rules Dialog.
	* capplet/nwam_tree_view.c: (nwam_tree_view_class_init),
	(nwam_tree_view_init), (nwam_tree_view_set_object_func),
	(on_button_clicked), (nwam_tree_view_key_press),
	(nwam_tree_view_key_release), (default_set_object_func),
	(nwam_tree_view_row_activated_cb),
	(nwam_tree_view_locate_new_object):
	* capplet/nwam_tree_view.h:
	A few work for pressing escape on tree view.
	* common/nwamui_enm.c: (nwamui_enm_class_init):
	* common/nwamui_env.c: (nwamui_env_class_init):
	* common/nwamui_ncu.c: (nwamui_ncu_class_init):
	* common/nwamui_object.c: (nwamui_object_class_init),
	(nwamui_object_set_conditions), (nwamui_object_get_conditions):
	* common/nwamui_object.h:
	Add virtual functions for get/set_conditions.

2009-01-14  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_env_pref_dialog.c:
	  Update for dialog widget name change nwam_environment to
	  nwam_location.
	* common/nwamui_env.h, common/nwamui_env.c: 
	  Add get_conditions, remove add/remove/foreach since it's now just a
	  GList, so use that directly.
	  Update for libnwam change from *_PROP_CONDITION to *_PROP_CONDITIONS.
	* capplet/nwam_condition_vbox.c: 
	  Update for change to nwamui_env conditions API.
	* common/nwamui_enm.c:
	  Update for libnwam change from *_PROP_CONDITION to *_PROP_CONDITIONS.
	* common/nwamui_ncu.c, common/nwamui_ncu.h:
	  Add get_conditions, remove add/remove since it's now just a GList,
	  so use that directly.
	  Update for libnwam change from *_PROP_CONDITION to *_PROP_CONDITIONS.
	* nwam_core/copy_onnv_headers.sh:
	  Update to include libnwam.h header.
	* nwam_core/usr/include/libnwam.h:
	  Update to latest version.
	* tests/main.c: 
	  Update print_conditions function to handle other object types.

2009-01-14  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_conf_ip_panel.c: 
	  Don't cause assertion to fire if NCU is NULL.
	* capplet/nwam_conn_stat_panel.c:
	  Use nwamui_ncu functions to get string for current status rather
	  than creating here.
	* common/libnwamui.c: 
	  Behave nicer if NULL is passed - just do nothing rather than cause
	  assertion.
	* common/nwamui_enm.c, common/nwamui_enm.h:
	  Add conditions and activation_mode properties.
	* common/nwamui_ncu.c:
	  Add missing strdup for string being returned when not connected.
	* tests/main.c: 
	  Add functions to print conditions and test an ENM's condtions.

2009-01-13  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (daemon_compose_ncu_panel_mixed_combo),
	(capplet_compose_nwamui_obj_combo), (capplet_compose_combo):
	* capplet/capplet-utils.h:
	* capplet/nwam_conn_conf_ip_panel.c: (populate_panel),
	(multi_line_add_cb), (multi_line_del_cb), (ncu_changed_notify_cb),
	(wireless_tab_add_button_clicked_cb),
	(wireless_tab_remove_button_clicked_cb):
	* capplet/nwam_location_dialog.c: (nwam_pref_init),
	(location_set_property), (location_get_property),
	(nwam_compose_tree_view), (nwam_location_dialog_init), (refresh),
	(nwam_treeview_add_object_cb), (nwam_treeview_remove_object_cb),
	(nwam_treeview_activate_btn_cb), (nwam_treeview_update_widget_cb),
	(location_add_update_btn_cb), (on_button_clicked),
	(location_activation_combo_cell_cb),
	(location_activation_combo_changed_cb), (object_notify_cb):
	* capplet/nwam_net_conf_panel.c: (nwam_pref_init),
	(net_conf_set_property), (net_conf_get_property),
	(nwam_compose_tree_view), (nwam_net_conf_panel_init), (refresh),
	(nwam_treeview_activate_btn_cb), (nwam_treeview_update_widget_cb):
	* capplet/nwam_tree_view.c: (nwam_tree_view_class_init),
	(nwam_tree_view_finalize), (nwam_tree_view_get_property),
	(nwam_tree_view_add_widget), (nwam_tree_view_remove_widget),
	(on_button_clicked), (default_signal_handler_add_object),
	(default_signal_handler_activate_widget),
	(default_signal_handler_update_widget),
	(nwam_tree_view_selection_changed_cb),
	(nwam_tree_view_update_widget_cb):
	* capplet/nwam_tree_view.h:
	Continue work for location dialog, add-object signal has bug.
	* common/libnwamui.c: (marshal_OBJECT__VOID): Hold obj ref count.

2009-01-13  Darren Kenny  <darren.kenny@sun.com>

	* configure.in:
	  Add nwam_core/usr/include to CFLAGS
	* capplet/main.c:
	  Add support for --debug option to enable/disable g_debug messages.
	* capplet/nwam_net_conf_panel.c: 
	  Handle null acitve_ncp better.
	* common/libnwamui.c, common/libnwamui.h, daemon/status_icon.c: 
	  Copy over code from phase 0.5 to handle resizing of icons better.
	  Also rename _WORNING_ICON to WARNING_ICON
	* common/nwamui_ncu.c: 
	  Update nwam property i/f to handle null ncu_handle_t since it may be
	  null if accessing a tunnel, which doesn't have a LINK NCU associated
	  with it.

2009-01-12  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncu.c:
	  Use nwam handle for more data, and slightly change display string,
	  and allow strv strings for set_ncu_string_array_prop.

2009-01-12  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.h, common/libnwamui.c:
	  Add function to map a GList of NwamuiCond to a list of libnwam
	  condition strings. Also correct a type in the name of the function
	  nwamui_util_glist_to_strv().
	* common/nwamui_cond.h, common/nwamui_cond.c: 
	  Parse the condition string, and also provide function to convert
	  condition to a libnwam condition string.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Add function to allow you to set properties in a nwam_ncu_handle_t.
	  Start move from storing a copy of data in NwamuiNcu to using the
	  handle itself to store the values - this will facilitate an easier
	  revert/resync and commit mechanism using the libnwam handles.
	* common/nwamui_wifi_net.h, common/nwamui_wifi_net.c: 
	  Add two properties - priority and bssid_list - both for use in the
	  favourites list.
	* nwam_core/usr/include/libdlether.h:
	  Add a missing header file from the libdladm collection.

2009-01-12  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am:
	* capplet/capplet-utils.c: (capplet_update_nwamui_obj_treeview):
	* capplet/capplet-utils.h:
	* capplet/main.c: (customwidgethandler), (main):
	* capplet/nwam-manager-properties.glade:
	* capplet/nwam_conn_stat_panel.c: (nwam_compose_tree_view),
	(nwam_conn_status_panel_init), (nwam_conn_status_panel_refresh),
	(nwam_conn_status_update_status_cell_cb), (on_nwam_enm_notify_cb):
	* capplet/nwam_conn_stat_panel.h:
	* capplet/nwam_env_pref_dialog.c: (nwam_compose_tree_view),
	(default_svc_status_cb):
	* capplet/nwam_env_svc.c: (nwam_compose_tree_view):
	* capplet/nwam_location_dialog.c: (nwam_pref_init),
	(nwam_location_dialog_class_init), (location_set_property),
	(location_get_property), (row_deleted_cb), (row_inserted_cb),
	(rows_reordered_cb), (nwam_compose_tree_view),
	(nwam_location_dialog_init), (nwam_location_dialog_new),
	(nwam_location_dialog_run), (nwam_location_dialog_refresh),
	(nwam_location_dialog_finalize),
	(nwam_location_connection_compare_cb),
	(nwam_location_update_status_cell_cb),
	(nwam_location_connection_enabled_toggled_cb),
	(vanity_name_editing_started), (vanity_name_edited),
	(nwam_location_connection_view_row_activated_cb),
	(nwam_location_connection_view_row_selected_cb),
	(nwam_treeview_btn_cb), (location_add_btn_cb),
	(location_remove_btn_cb), (location_rename_btn_cb),
	(active_profile_changed), (object_notify_cb),
	(on_activate_static_menuitems), (location_activation_changed):
	* capplet/nwam_location_dialog.h:
	* capplet/nwam_net_conf_panel.c: (nwam_compose_tree_view),
	(nwam_compose_rules_tree_view), (nwam_net_conf_panel_init),
	(nwam_net_conf_panel_refresh),
	(nwam_net_conf_rules_update_cell_cb),
	(nwam_net_conf_update_status_cell_cb),
	(nwam_net_pref_connection_enabled_toggled_cb),
	(vanity_name_editing_started), (vanity_name_edited),
	(nwam_net_pref_connection_view_row_activated_cb),
	(update_rules_from_ncu), (ncu_notify_cb):
	* capplet/nwam_tree_view.c: (nwam_tree_view_init):
	* capplet/nwam_wireless_dialog.c: (nwam_wireless_dialog_init),
	(nwam_wireless_dialog_set_property),
	(nwam_wireless_dialog_finalize), (validate_information),
	(show_password_cb), (security_selection_cb):
	Fixed tree view column attributes. Replaced some tree view objects of 
	glade file to customized tree view. Basically customized tree view
	works, but need more work. Add new code for location dialog.
	* common/libnwamui.c: (nwamui_util_get_ncu_group_icon):
	* common/libnwamui.h:
	New function for get icon for ncu group mode.
	* common/nwamui_cond.c: (nwamui_cond_new_from_str):
	Work around a compilor warning for debug gui.

2009-01-08  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncu.c:
	  Move code to get essid to correct function. Getting the display name
	  for an ncu will return text in the format Wired/Wireless/Tunnel (dev).
	* tests/main.c:
	  Add test for display_name.

2009-01-08  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncu.c: 
	  Use IFF_DHCPRUNNING to get current DHCP state for an interface.

2009-01-08  Darren Kenny  <darren.kenny@sun.com>

	* configure.in, daemon/Makefile.am, capplet/Makefile.am,
	  tests/Makefile.am:
	  Add tests for libinetcfg and libkstat.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Added code to determine current status of an interface. Made speed a
	  read-only property, obtained directly from the system.  Get current
	  IP address (icfg) and speed (kstat) to show valid status line. 
	* nwam_core/usr/include/libdladm.h,
	  nwam_core/usr/include/libdladm_impl.h,
	  nwam_core/usr/include/libdlaggr.h,
	  nwam_core/usr/include/libdlflow.h,
	  nwam_core/usr/include/libdlflow_impl.h,
	  nwam_core/usr/include/libdllink.h,
	  nwam_core/usr/include/libdlmgmt.h,
	  nwam_core/usr/include/libdlstat.h,
	  nwam_core/usr/include/libdlvlan.h,
	  nwam_core/usr/include/libdlvnic.h,
	  nwam_core/usr/include/libdlwlan.h,
	  nwam_core/usr/include/libdlwlan_impl.h:
	  Update to latest NWAM Phase 1 versions, main change is with libdladm
	  which now requires the passing of a handle to it's functions.

2009-01-08  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (nwamui_obj_combo_cell_cb):
	* capplet/main.c: (customwidgethandler), (main):
	* capplet/nwam-manager-properties.glade:
	Test code for customized Nwam Tree View.
	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init):
	* capplet/nwam_net_conf_panel.c: (nwam_net_conf_panel_init),
	(nwam_treeview_btn_cb):
	* capplet/nwam_tree_view.c: (nwam_tree_view_property_name),
	(nwam_tree_view_class_init), (nwam_tree_view_set_property),
	(nwam_tree_view_get_property), (nwam_tree_view_init),
	(nwam_tree_view_new), (nwam_tree_view_add),
	(nwam_tree_view_remove), (on_button_clicked),
	(nwam_tree_view_key_release), (default_signal_handler_add_object),
	(default_signal_handler_remove_object),
	(default_signal_handler_widget_activate), (delete_selection_cb),
	(nwam_tree_view_row_selected_cb),
	(nwam_tree_view_selection_changed_cb):
	* capplet/nwam_tree_view.h:
	* common/libnwamui.c:
	* common/libnwamui.h:
	* daemon/status_icon.c: (connect_nwam_obj_signals):
	Fixed a few nits.

2009-01-08  Calum Benson <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Update glade file from the branch I was working on, to bring
	up to date with the v1.7 of the UI spec. 

2009-01-07  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.h, common/libnwamui.c:
	  (nwamui_util_map_condition_strings_to_object_list),
	  (nwamui_util_strv_to_glist), (nwamui_util_glist_to_strv):
	  Move some useful utility functions into common location.
	* common/nwamui_ncp.h, common/nwamui_ncp.c: 
	  Add function to get the nwam_ncp_handle_t from an NwamuiNcp. Also
	  update new_with_handle to create it's own private handle since the
	  one passed is likely to be freed making it invalid.
	* common/nwamui_ncu.c:
	  Update new_with_handle to create it's own private handles since the
	  ones passed are likely to be freed making it invalid.
	* common/nwamui_enm.c: 
	  Remove incorrect free of value, and update new_with_handle to create
	  it's own private handle since the one passed is likely to be freed
	  making it invalid.
	* common/nwamui_env.h, common/nwamui_env.c: 
	  (nwamui_env_class_init), (nwamui_env_init),
	  (nwamui_env_set_property), (nwamui_env_get_property),
	  (nwamui_env_new), (nwamui_env_new_with_handle), (nwamui_env_clone),
	  (get_nwam_loc_string_prop), (get_nwam_loc_string_array_prop),
	  (get_nwam_loc_boolean_prop), (get_nwam_loc_uint64_prop),
	  (get_nwam_loc_uint64_array_prop),
	  (convert_name_services_array_to_glist),
	  (convert_name_services_glist_to_array), (populate_env_with_handle),
	  (nwamui_env_set_name), (nwamui_env_get_name),
	  (nwamui_env_set_modifiable), (nwamui_env_is_modifiable),
	  (nwamui_env_set_enabled), (nwamui_env_get_enabled),
	  (nwamui_env_set_nameservice_discover),
	  (nwamui_env_get_nameservice_discover),
	  (nwamui_env_set_nameservices), (nwamui_env_get_nameservices),
	  (nwamui_env_set_nameservices_config_file),
	  (nwamui_env_get_nameservices_config_file),
	  (nwamui_env_set_domainname), (nwamui_env_get_domainname),
	  (nwamui_env_set_dns_nameservice_servers),
	  (nwamui_env_get_dns_nameservice_servers),
	  (nwamui_env_set_dns_nameservice_search),
	  (nwamui_env_get_dns_nameservice_search),
	  (nwamui_env_set_nis_nameservice_servers),
	  (nwamui_env_get_nis_nameservice_servers),
	  (nwamui_env_set_nisplus_nameservice_servers),
	  (nwamui_env_get_nisplus_nameservice_servers),
	  (nwamui_env_set_ldap_nameservice_servers),
	  (nwamui_env_get_ldap_nameservice_servers),
	  (nwamui_env_set_hosts_file), (nwamui_env_get_hosts_file),
	  (nwamui_env_set_nfsv4_domain), (nwamui_env_get_nfsv4_domain),
	  (nwamui_env_set_ipfilter_config_file),
	  (nwamui_env_get_ipfilter_config_file),
	  (nwamui_env_set_ipfilter_v6_config_file),
	  (nwamui_env_get_ipfilter_v6_config_file),
	  (nwamui_env_set_ipnat_config_file),
	  (nwamui_env_get_ipnat_config_file),
	  (nwamui_env_set_ippool_config_file),
	  (nwamui_env_get_ippool_config_file),
	  (nwamui_env_set_ike_config_file), (nwamui_env_get_ike_config_file),
	  (nwamui_env_set_ipseckey_config_file),
	  (nwamui_env_get_ipseckey_config_file),
	  (nwamui_env_set_ipsecpolicy_config_file),
	  (nwamui_env_get_ipsecpolicy_config_file),
	  (nwamui_env_set_svcs_enable), (nwamui_env_get_svcs_enable),
	  (nwamui_env_set_svcs_disable), (nwamui_env_get_svcs_disable),
	  (nwamui_env_set_activation_mode), (nwamui_env_get_activation_mode),
	  (nwamui_env_finalize):
	  Add a lot of new accessors to get & set the above properties stored
	  in a location.

2009-01-05  Darren Kenny  <darren.kenny@sun.com>

	* configure.in, daemon/Makefile.am, capplet/Makefile.am, tests/Makefile.am:
	  Add ability to link libdladm.
	* common/libdladm.h:
	  Remove since it's in nwam_core directory.
	* nwam_core/copy_onnv_headers.sh, nwam_core/usr/include/inetcfg.h,
	  nwam_core/usr/include/libdladm_impl.h,
	  nwam_core/usr/include/sys/dl.h, nwam_core/usr/include/sys/dld.h,
	  nwam_core/usr/include/sys/dld_ioc.h,
	  nwam_core/usr/include/sys/dlpi.h,
	  nwam_core/usr/include/sys/dls_mgmt.h:
	  Update to latest version from NWAM Phase 1 Clone,  and add script to
	  do this easily.
	* nwam_core/usr/lib/libinetcfg.so.1, nwam_core/usr/lib/libnwam.so,
	  nwam_core/usr/lib/libnwam.so.1, nwam_core/usr/sbin/nwamadm,
	  nwam_core/usr/sbin/nwamcfg:
	  Remove binaries since we should be using BFUs and these don't work
	  here.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Add MTU property. Add ability to get strings that provide the
	  current status and secondary status text for the status panel. 
	  Added a "get current state" function, which still needs
	  implementation.
	  Added code to determine whether a link type (wired/wireless) based
	  on information via libdladm.
	* tests/main.c: 
	  Add --debug option to enable/disable debug log messages. Add some
	  indentation to make it more easily read, and use printf() rather
	  than g_debug for normal text. Add output for the status text
	  fields.

2008-12-29  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am:
	* capplet/capplet-utils.c:
	* capplet/nwam_pref_iface.c:
	* capplet/nwam_pref_iface.h:
	* capplet/nwam_tree_view.h, capplet/nwam_tree_view.c:
	Customized new tree view object for NWAM, does not finish.
	* common/Makefile.am:
	* common/libnwamui.c: (nwamui_util_get_network_security_icon),
	(nwamui_util_get_wireless_strength_icon):
	Cleaned Macros for icons.
	* common/libnwamui.h:
	* common/nwam_pref_iface.h:
	Pref iface moved to common.
	* common/nwamui_cond.c:
	* common/nwamui_cond.h:
	* common/nwamui_daemon.c:
	* common/nwamui_daemon.h:
	* common/nwamui_enm.h:
	* common/nwamui_env.c:
	* common/nwamui_env.h:
	* common/nwamui_ip.c:
	* common/nwamui_ip.h:
	* common/nwamui_ncp.c:
	* common/nwamui_ncp.h:
	* common/nwamui_ncu.c:
	* common/nwamui_ncu.h:
	* common/nwamui_prof.c: (nwamui_prof_class_init),
	(gconf_notify_cb):
	* common/nwamui_prof.h:
	* common/nwamui_svc.c:
	* common/nwamui_svc.h:
	* common/nwamui_wifi_net.c:
	* common/nwamui_wifi_net.h:
	Added new NwamuiObject, all other Nwamui objects inherit it.
	* daemon/notify.c:
	* daemon/nwam-menu.c: (nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_connect):

2008-12-28  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/capplet-utils.c: (capplet_compose_nwamui_obj_combo),
	(capplet_update_nwamui_obj_combo), (nwamui_obj_combo_cell_cb),
	(nwamui_obj_get_display_name):
	* capplet/capplet-utils.h:
	* capplet/nwam_condition_vbox.c: (apply), (nwam_pref_init):
	* capplet/nwam_env_pref_dialog.c: (nwam_pref_init),
	(nwam_env_pref_dialog_init), (nwam_env_pref_dialog_finalize),
	(populate_panels_from_env), (default_netservices_vfunc),
	(additional_netservices_vfunc), (refresh):
	* capplet/nwam_net_conf_panel.c: (nwam_net_conf_panel_init):
	* capplet/nwam_pref_dialog.c: (apply), (help):
	* capplet/nwam_pref_iface.c: (nwam_pref_cancel):
	* capplet/nwam_pref_iface.h:
	New interface for panel/dialog objects.
	* common/libnwamui.c: (nwamui_util_encode_menu_label),
	(notification_area_ready):
	* daemon/main.c: (update_tooltip), (init_wait_for_embedding),
	(main):
	* daemon/nwam-enm-group.c: (nwam_enm_group_class_init),
	(nwam_enm_group_init), (nwam_enm_group_add_item),
	(nwam_enm_group_remove_item):
	* daemon/nwam-env-group.c: (nwam_env_group_class_init),
	(nwam_env_group_init), (nwam_env_group_add_item),
	(nwam_env_group_remove_item), (nwam_env_group_new):
	* daemon/nwam-menu-action-group.c:
	(nwam_menu_action_group_class_init),
	(nwam_menu_action_group_set_property),
	(nwam_menu_action_group_get_property),
	(nwam_menu_action_group_finalize),
	(nwam_menu_action_group_add_item),
	(nwam_menu_action_group_remove_item),
	(nwam_menu_action_group_attach), (nwam_menu_action_group_detach):
	* daemon/nwam-menu-group.c: (nwam_menu_group_class_init):
	* daemon/nwam-menu-radio-action-group.c:
	(nwam_menu_radio_action_group_class_init),
	(nwam_menu_radio_action_group_add_item):
	* daemon/nwam-menu.c: (nwam_menu_init), (nwam_menu_finalize),
	(nwam_menu_delete_wifi_menuitems), (on_activate_static_menuitems),
	(nwam_menu_new), (nwam_menu_get_statusicon_menu):
	* daemon/nwam-menu.h:
	* daemon/nwam-ui.xml:
	* daemon/nwam-wifi-group.c: (nwam_wifi_group_class_init),
	(nwam_wifi_group_new):
	* daemon/status_icon.c: (on_status_activate_wifi_key_needed),
	(ncu_is_higher_priority_than_active_ncu),
	(event_daemon_status_changed), (event_daemon_info),
	(event_wifi_key_needed), (event_wifi_selection_needed),
	(event_ncu_up), (event_ncu_down), (connect_nwam_obj_signals),
	(disconnect_nwam_obj_signals), (animation_panel_icon_timeout),
	(trigger_animation_panel_icon), (nwam_status_icon_new),
	(nwam_status_icon_set_activate_callback),
	(nwam_status_icon_set_status), (nwam_status_icon_refresh_tooltip),
	(nwam_status_icon_show_menu), (status_icon_popup_cb),
	(status_icon_activate_cb), (status_icon_size_changed_cb),
	(ncp_activate_ncu), (ncp_deactivate_ncu), (on_ncp_notify_cb),
	(on_notifyaction_wifi_key_need), (on_notifyaction_popup_menus),
	(get_status_icon), (nwam_status_icon_class_init),
	(nwam_status_icon_init), (nwam_status_icon_finalize):
	* daemon/status_icon.h:
	Fixed panel menu and menu group objects. Status icon becomes an object.

2008-12-24  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c: (main):
	  Remove tests, these are in the tests/main.c instead.
	* common/nwamui_ncp.h, common/nwamui_ncp.c:
	  Make NCU list into a GtkTreeStore.
	* capplet/nwam_conn_stat_panel.c, capplet/nwam_conn_stat_panel.h,
	  capplet/nwam_net_conf_panel.c, capplet/nwam_pref_dialog.c,
	  common/nwamui_daemon.c, daemon/nwam-menu.c: 
	  Update these to use tree store now.

2008-12-22  Darren Kenny  <darren.kenny@sun.com>

	* nwam_core/usr/include/libnwam.h:
	  Update to latest header.
	* capplet/nwam_env_pref_dialog.c, common/nwamui_env.c,
	  common/nwamui_env.h, common/nwamui_svc.h, common/nwamui_svc.c: 
	  Fix compile issue (generally commenting out a lot of code) that
	  handles the services in an environment since extensible properties
	  is not being supported in Phase 1 any more and with new header this
	  no longer compiles.
	* common/nwamui_ncp.c,   common/nwamui_ncu.c:
	  Merge duplicate libnwam NCUs into one UI object.
	* configure.in, capplet/Makefile.am, daemon/Makefile.am,
	  common/Makefile.am, tests/Makefile.am:
	  Add libscf to link line.
	* tests/main.c: 
	  Fix iteration function.

2008-12-17  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am:
	* capplet/capplet-utils.c: (daemon_compose_ncu_panel_mixed_combo),
	(daemon_update_ncu_panel_mixed_model),
	(ncu_panel_mixed_combo_cell_cb),
	(ncu_panel_mixed_combo_separator_cb), (daemon_compose_ncp_combo),
	(daemon_update_ncp_combo), (ncp_combo_cell_cb),
	(nwam_pref_iface_combo_changed_cb), (nwamui_obj_get_display_name):
	* capplet/capplet-utils.h:
	* capplet/nwam_condition_vbox.c: (refresh), (nwam_pref_init),
	(nwam_condition_vbox_class_init), (nwam_condition_vbox_init),
	(nwam_condition_vbox_finalize), (_cu_cond_combo_filter_value),
	(_cu_cond_combo_cell_cb), (_cu_cond_combo_filter_visible_cb),
	(_cu_cond_combo_new), (nwam_condition_vbox_new),
	(table_condition_add_row), (table_one_line_state),
	(table_lines_init), (table_lines_free), (table_conditon_new),
	(table_line_cache_all_cb), (table_condition_insert),
	(table_condition_delete), (table_add_condition_cb),
	(table_delete_condition_cb), (condition_field_op_changed_cb),
	(condition_value_changed_cb),
	(default_condition_add_signal_handler),
	(default_condition_remove_signal_handler):
	* capplet/nwam_condition_vbox.h:
	* capplet/nwam_conn_conf_ip_panel.c: (nwam_compose_wifi_fav_view),
	(nwam_compose_multi_ip_tree_view), (refresh), (multi_line_add_cb),
	(multi_line_del_cb), (ncu_changed_notify_cb),
	(wireless_tab_add_button_clicked_cb),
	(wireless_tab_remove_button_clicked_cb), (ipv4_addr_changed_cb),
	(ipv4_subnet_changed_cb):
	* capplet/nwam_conn_conf_ip_panel.h:
	* capplet/nwam_conn_stat_panel.c: (nwam_compose_tree_view),
	(nwam_conn_status_panel_set_ncp), (nwam_conn_status_panel_new),
	(nwam_conn_status_panel_refresh):
	* capplet/nwam_conn_stat_panel.h:
	* capplet/nwam_env_pref_dialog.c:
	(nwam_env_pref_dialog_class_init), (nwam_env_pref_dialog_init),
	(nwam_env_pref_dialog_finalize), (nwam_compose_tree_view),
	(populate_panels_from_env):
	* capplet/nwam_env_pref_dialog.h:
	* capplet/nwam_env_svc.c: (nwam_compose_tree_view):
	* capplet/nwam_net_conf_panel.c: (nwam_compose_tree_view),
	(nwam_compose_rules_tree_view), (nwam_net_conf_panel_set_ncp),
	(nwam_net_conf_panel_init), (nwam_net_conf_panel_new),
	(nwam_net_conf_panel_refresh),
	(nwam_net_conf_rules_update_cell_cb),
	(nwam_net_conf_update_status_cell_cb),
	(nwam_net_pref_connection_enabled_toggled_cb),
	(vanity_name_editing_started), (vanity_name_edited),
	(nwam_net_pref_connection_view_row_activated_cb),
	(update_rules_from_ncu),
	(nwam_net_pref_rule_ncu_enabled_toggled_cb),
	(conditions_connected_toggled_cb), (conditions_set_status_changed),
	(conditions_connected_changed), (on_activate_static_menuitems):
	* capplet/nwam_net_conf_panel.h:
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_init),
	(refresh), (response_cb), (show_changed_cb),
	(show_combo_separator_cb), (show_combo_cell_cb),
	(refresh_clicked_cb), (show_comob_add), (change_show_combo_model),
	(add_ncu_element):
	* capplet/nwam_pref_iface.c: (nwam_pref_refresh),
	(nwam_pref_apply), (nwam_pref_help):
	* capplet/nwam_pref_iface.h:
	* capplet/nwam_vpn_pref_dialog.c: (nwam_compose_vpn_apps_view):
	* capplet/nwam_wireless_chooser.c:
	(nwam_compose_wifi_chooser_view), (nwam_wireless_chooser_init),
	(refresh):
	* common/libnwamui.h:
	split condition vbox out of evn preference dialog.

2008-12-15  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_cond.c: 
	  Read conditions using libnwam.
	* common/nwamui_daemon.c: 
	  Actually use nerr to get errors.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  Fix typos on activation_mode.

2008-12-15  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_cond.h, common/nwamui_cond.c: 
	  Update condition object to match libnwam equivalent, and also
	  support addition of an object for NCU/ENM/LOC field types.
	* common/nwamui_ncu.h, common/nwamui_ncu.c:
	  Update to add API accessors for activation_mode, priority group,
	  priority group mode and use of a list of NwamuiCond objects for
	  conditions.
	* common/nwamui_env.h, common/nwamui_env.h:
	  Update to use new type names for conditions.

2008-12-08  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_conn_stat_panel.c, capplet/nwam_net_conf_panel.c,
	  capplet/nwam_pref_dialog.c, common/nwamui_ncp.c:
	  Don't crash if we can't read the configuration.
	* common/nwamui_ncu.c: 
	  Extract the device name from the NCU name.
	* nwam_core/*:
	  Update to latest build from Alan on Dec 8.
	* nwam_core/example_configurations:
	  Add example configurations storage dir, for reference.

2008-12-04  Calum Benson <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Some changes to Location and VPN dialog for Phase 1; more to
	come...	

2008-11-28  Darren Kenny  <darren.kenny@sun.com>

	* Makefile.am, 
	  capplet/Makefile.am, capplet/nwam_conn_conf_ip_panel.c,
	  capplet/nwam_pref_dialog.c, capplet/nwam_wireless_dialog.c,
	  common/Makefile.am, common/libnwamui.h, common/nwamui_daemon.c,
	  common/nwamui_daemon.h, common/nwamui_enm.c, common/nwamui_enm.h,
	  common/nwamui_env.c, common/nwamui_env.h, common/nwamui_ip.c,
	  common/nwamui_ip.h, common/nwamui_ncp.c, common/nwamui_ncp.h,
	  common/nwamui_ncu.c, common/nwamui_ncu.h, common/nwamui_svc.c,
	  common/nwamui_svc.h, common/nwamui_wifi_net.c,
	  common/nwamui_wifi_net.h, configure.in, daemon/Makefile.am,
	  daemon/main.c, daemon/notify.h, daemon/nwam-enm-action.c,
	  daemon/nwam-env-action.c, daemon/nwam-menu-action-group.c,
	  daemon/nwam-menu-radio-action-group.c, daemon/nwam-menu.c, 
	  daemon/nwam-wifi-action.c:
	  Lots up updates for Phase 1 API - still not complete, but most
	  things run alright.
	* nwam_core/run_nwam.sh:
	  Script that will set LD_LIBRARY_PATH to allow you to run using the
	  Phase 1 libraries.
	* nwam_core/usr/include/inetcfg.h,
	  nwam_core/usr/include/libdladm.h,
	  nwam_core/usr/include/libdladm_impl.h,
	  nwam_core/usr/include/libdlaggr.h,
	  nwam_core/usr/include/libdllink.h,
	  nwam_core/usr/include/libdlmgmt.h,
	  nwam_core/usr/include/libdlvlan.h,
	  nwam_core/usr/include/libdlvnic.h,
	  nwam_core/usr/include/libdlwlan.h,
	  nwam_core/usr/include/libdlwlan_impl.h,
	  nwam_core/usr/include/libnwam.h, nwam_core/usr/lib/libinetcfg.so.1,
	  nwam_core/usr/lib/libnwam.so, nwam_core/usr/lib/libnwam.so.1,
	  nwam_core/usr/sbin/nwamadm, nwam_core/usr/sbin/nwamcfg:
	  Phase 1 binaries and headers, to allow you to develop on non-Phase 1
	  system.
	* tests/Makefile.am, tests/main.c: 
	  API Test program.

2008-10-31  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am:
	* capplet/nwam_conn_conf_ip_panel.c: (nwam_conf_ip_panel_finalize):
	* capplet/nwam_conn_stat_panel.c:
	(nwam_conn_status_panel_finalize):
	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_finalize):
	* capplet/nwam_env_svc.c: (nwam_env_svc_finalize):
	* capplet/nwam_net_conf_panel.c: (nwam_net_conf_panel_finalize):
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_finalize):
	* capplet/nwam_vpn_pref_dialog.c: (nwam_vpn_pref_dialog_finalize):
	* capplet/nwam_wireless_chooser.c:
	(nwam_wireless_chooser_finalize):
	* common/libnwamui.c: (nwamui_util_get_network_security_icon),
	(nwamui_util_get_wireless_strength_icon),
	(marshal_VOID__INT_POINTER), (marshal_VOID__OBJECT_OBJECT),
	(marshal_VOID__INT_OBJECT_POINTER):
	* common/libnwamui.h:
	* common/nwamui_daemon.c: (nwamui_daemon_init),
	(nwamui_daemon_wifi_start_scan), (nwam_events_callback),
	(nwamui_event_new), (nwamui_event_free),
	(nwamui_daemon_emit_info_message):
	* common/nwamui_daemon.h:
	* common/nwamui_enm.c: (nwamui_enm_set_property),
	(nwamui_enm_get_property), (nwamui_enm_new_with_handle),
	(nwamui_enm_commit):
	* common/nwamui_env.c: (nwamui_env_set_property),
	(nwamui_env_get_property), (nwamui_env_new_with_handle),
	(nwamui_env_svc_add), (nwamui_env_svc_add_full),
	(nwamui_env_svc_commit), (nwamui_env_commit),
	(nwam_loc_svc_walker_cb), (nwam_loc_sys_svc_walker_cb):
	* common/nwamui_env.h:
	* common/nwamui_ncp.c: (nwamui_ncp_init):
	* common/nwamui_prof.c: (nwamui_prof_class_init),
	(nwamui_prof_set_property), (nwamui_prof_get_property),
	(nwamui_prof_finalize), (gconf_notify_cb),
	(nwamui_prof_get_active_interface),
	(nwamui_prof_set_active_interface),
	(nwamui_prof_get_notification_default_timeout),
	(nwamui_prof_set_notification_default_timeout):
	* common/nwamui_prof.h:
	* common/nwamui_svc.c: (nwamui_svc_get_property),
	(nwamui_svc_finalize), (nwamui_svc_new):
	* common/nwamui_svc.h:
	* common/nwamui_wifi_net.c: (nwamui_wifi_net_class_init),
	(nwamui_wifi_net_init), (nwamui_wifi_net_set_property),
	(nwamui_wifi_net_get_property), (nwamui_wifi_net_finalize),
	(nwamui_wifi_net_new), (nwamui_wifi_net_connect),
	(nwamui_wifi_net_set_ncu), (nwamui_wifi_net_get_ncu),
	(nwamui_wifi_net_get_display_string),
	(nwamui_wifi_net_get_unique_name), (nwamui_wifi_net_set_status),
	(nwamui_wifi_net_get_status), (nwamui_wifi_net_get_bss_type),
	(nwamui_wifi_net_security_map), (nwamui_wifi_net_strength_map),
	(nwamui_wifi_net_bss_type_map):
	* common/nwamui_wifi_net.h:
	* configure.in:
	* daemon/Makefile.am:
	* daemon/main.c: (update_tooltip), (on_trigger_network_changed),
	(event_daemon_status_changed),
	(ncu_is_higher_priority_than_active_ncu), (event_daemon_info),
	(on_status_activate_wifi_key_needed), (event_wifi_key_needed),
	(event_wifi_selection_needed), (event_ncu_up), (event_ncu_down),
	(ncp_activate_ncu), (ncp_deactivate_ncu),
	(on_notifyaction_wifi_key_need), (on_notifyaction_popup_menus),
	(activate_cb), (join_wifi_not_in_fav), (join_any_fav_wifi),
	(add_any_new_wifi_to_fav), (action_on_no_fav_networks),
	(find_wireless_interface), (join_wireless), (manage_known_ap),
	(change_ncu_priority), (default_log_handler),
	(user_has_autoconf_auth), (on_ncp_notify_cb), (main):
	* daemon/notify.c: (nwam_notification_msg_new),
	(nwam_notification_msg_free),
	(on_prof_notification_default_timeout), (on_notification_closed),
	(get_notification), (notify_notification_adjust_nth),
	(notify_notification_adjust_first), (nwam_notification_hide_cb),
	(nwam_notification_show_nth_message),
	(nwam_notification_show_message_cb),
	(nwam_notification_show_message),
	(nwam_notification_show_message_with_action),
	(nwam_notification_get_status_msg), (set_last_message):
	* daemon/notify.h:
	* daemon/nwam-action.c:
	* daemon/nwam-action.h:
	* daemon/nwam-enm-action.c: (nwam_obj_proxy_init),
	(nwam_enm_action_class_init), (nwam_enm_action_init),
	(nwam_enm_action_new), (nwam_enm_action_finalize),
	(nwam_enm_action_set_property), (nwam_enm_action_get_property),
	(connect_enm_net_signals), (disconnect_enm_net_signals),
	(on_nwam_enm_toggled), (on_nwam_enm_notify),
	(nwam_enm_action_set_label), (get_proxy),
	(nwam_enm_action_get_enm), (nwam_enm_action_set_enm):
	* daemon/nwam-enm-action.h:
	* daemon/nwam-enm-group.c: (nwam_enm_group_class_init),
	(nwam_enm_group_init), (nwam_enm_group_finalize),
	(nwam_enm_group_get_item_by_name),
	(nwam_enm_group_get_item_by_proxy), (nwam_enm_group_add_item),
	(nwam_enm_group_remove_item), (nwam_enm_group_attach),
	(nwam_enm_group_detach), (nwam_enm_group_new):
	* daemon/nwam-enm-group.h:
	* daemon/nwam-env-action.c: (nwam_obj_proxy_init),
	(nwam_env_action_class_init), (nwam_env_action_init),
	(nwam_env_action_new), (nwam_env_action_finalize),
	(nwam_env_action_set_property), (nwam_env_action_get_property),
	(connect_env_net_signals), (disconnect_env_net_signals),
	(on_nwam_env_toggled), (on_nwam_env_notify),
	(nwam_env_action_set_label), (get_proxy),
	(nwam_env_action_get_env), (nwam_env_action_set_env):
	* daemon/nwam-env-action.h:
	* daemon/nwam-env-group.c: (nwam_env_group_class_init),
	(nwam_env_group_init), (nwam_env_group_finalize),
	(nwam_env_group_get_item_by_name),
	(nwam_env_group_get_item_by_proxy), (nwam_env_group_add_item),
	(nwam_env_group_remove_item), (nwam_env_group_attach),
	(nwam_env_group_detach), (nwam_env_group_new):
	* daemon/nwam-env-group.h:
	* daemon/nwam-manager.desktop.in:
	* daemon/nwam-manager.schemas.in:
	* daemon/nwam-menu-action-group.c:
	(nwam_menu_action_group_class_init),
	(nwam_menu_action_group_set_property),
	(nwam_menu_action_group_get_property),
	(nwam_menu_action_group_init), (nwam_menu_action_group_finalize),
	(nwam_menu_action_group_get_item_by_name),
	(nwam_menu_action_group_get_item_by_proxy),
	(nwam_menu_action_group_add_item),
	(nwam_menu_action_group_remove_item),
	(nwam_menu_action_group_attach), (nwam_menu_action_group_detach),
	(nwam_menu_action_group_new):
	* daemon/nwam-menu-action-group.h:
	* daemon/nwam-menu-group.c: (nwam_menu_group_class_init),
	(nwam_menu_group_constructor), (nwam_menu_group_finalize),
	(nwam_menu_group_set_property), (nwam_menu_group_get_property),
	(nwam_menu_group_init), (nwam_menu_group_attach),
	(nwam_menu_group_detach), (nwam_menu_group_add_item),
	(nwam_menu_group_remove_item), (nwam_menu_group_get_item_by_name),
	(nwam_menu_group_get_item_by_proxy):
	* daemon/nwam-menu-group.h:
	* daemon/nwam-menu-radio-action-group.c:
	(nwam_menu_radio_action_group_class_init),
	(nwam_menu_radio_action_group_init),
	(nwam_menu_radio_action_group_finalize),
	(nwam_menu_radio_action_group_add_item):
	* daemon/nwam-menu-radio-action-group.h:
	* daemon/nwam-menu.c: (nwam_menu_init), (nwam_menu_finalize),
	(menus_set_automatic_label), (menus_get_menuitem),
	(menus_set_action_visible), (menus_set_action_sensitive),
	(menus_set_toggle_action_active), (nwam_menu_group_recreate),
	(nwam_menu_delete_wifi_menuitems),
	(nwam_menu_recreate_wifi_menuitems),
	(nwam_menu_delete_ncu_menuitems),
	(nwam_menu_recreate_ncu_menuitems),
	(nwam_menu_create_static_menuitems), (nwam_exec),
	(on_activate_static_menuitems), (on_nwam_ncu_toggled),
	(on_nwam_ncu_notify_cb), (on_ncp_notify_cb), (event_ncu_down),
	(event_active_env_changed), (event_add_wifi_fav),
	(connect_daemon_signals), (disconnect_daemon_signals),
	(event_daemon_status_changed), (event_daemon_info),
	(nwam_menu_create_ncu_menuitems),
	(nwam_menu_create_wifi_menuitems), (connect_ncp_signals),
	(disconnect_ncp_signals), (nwam_menu_create_env_menuitems),
	(nwam_menu_create_vpn_menuitems), (nwam_menu_get_statusicon_menu):
	* daemon/nwam-menuitem.c: (nwam_menu_item_class_init),
	(nwam_menu_item_init), (nwam_menu_item_new_with_label),
	(nwam_menu_item_finalize), (nwam_menu_item_draw_indicator),
	(nwam_menu_item_activate):
	* daemon/nwam-menuitem.h:
	* daemon/nwam-obj-proxy-iface.c: (nwam_obj_proxy_iface_base_init),
	(nwam_obj_proxy_iface_class_init), (nwam_obj_proxy_iface_get_type),
	(nwam_obj_proxy_get_proxy), (nwam_obj_proxy_delete_notify):
	* daemon/nwam-obj-proxy-iface.h:
	* daemon/nwam-ui.xml:
	* daemon/nwam-wifi-action.c: (nwam_obj_proxy_init),
	(nwam_wifi_action_class_init), (nwam_wifi_action_init),
	(nwam_wifi_action_new), (create_menu_item),
	(nwam_wifi_action_finalize), (nwam_wifi_action_set_property),
	(nwam_wifi_action_get_property), (connect_proxy),
	(disconnect_proxy), (on_nwam_wifi_toggled),
	(nwam_wifi_action_set_label), (get_proxy),
	(nwam_wifi_action_set_widget), (nwam_action_get_widget),
	(nwam_action_get_wifi), (nwam_action_set_wifi):
	* daemon/nwam-wifi-action.h:
	* daemon/nwam-wifi-group.c: (nwam_wifi_group_class_init),
	(nwam_wifi_group_init), (nwam_wifi_group_finalize),
	(nwam_wifi_group_new):
	* daemon/nwam-wifi-group.h:
	* daemon/status_icon.c: (nwam_status_icon_set_activate_callback),
	(nwam_status_icon_set_status), (nwam_status_icon_set_visible),
	(nwam_status_icon_get_visible), (nwam_status_icon_refresh_tooltip),
	(nwam_status_icon_set_tooltip), (nwam_status_icon_show_menu),
	(status_icon_popup_cb), (status_icon_activate_cb):
	* daemon/status_icon.h:
	Merged phase0.5 and LN new interfaces. Refactor menus. Trunk isn't
	buildable.

2008-10-24  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	Update to match latest draft of UI spec in trunk.

2008-10-20  Takao Fujiwara  <takao.fujiwara@sun.com>

	* capplet/nwam-manager-properties.glade: Updated to remove translatable tag.
	* daemon/nwam-menu.c: Updated to remove gettext of URL.

2008-08-01  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/Makefile.am:
	* daemon/nwam-menu.c: (nwam_menu_init): back out some parts of
	my last modification.
	* daemon/nwam-ui-picea.xml: removed.

2008-07-31  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/Makefile.am:
	* daemon/nwam-menu.c: (nwam_menu_init),
	(nwam_menu_recreate_menuitem_group),
	(nwam_menu_recreate_wifi_menuitems),
	(nwam_menu_recreate_if_menuitems), (nwam_menu_create_static_part),
	(on_activate_if_prior), (event_active_env_changed),
	(nwam_menu_create_if_menuitems), (nwam_menu_create_wifi_menuitems),
	(nwam_menu_create_env_menuitems), (nwam_menu_create_vpn_menuitems),
	(nwam_menu_get_statusicon_menu):
	* daemon/nwam-ui-picea.xml:
	Some code for Picea notification menus without building test.
	* daemon/nwam-ui.xml:
	* daemon/status_icon.h:
	* daemon/notify.c: (get_notification):
	* daemon/notify.h:
	Some code cleaning.

2008-06-03  Darren Kenny  <darren.kenny@sun.com>

	* scripts/link_icons.sh:
	  Fix the patching, just copy a working version over.

2008-06-03  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: (nwamui_daemon_set_property):
	  Set the active_env all of the time, regardless of nwam_loc API right
	  now. Will need to remove this later.

2008-06-03  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_net_conf_panel.c: 
	  Add reference to active profile combobox, and set to Custom by default.
	  (Should be set from ncp, but isn't right now).
	* common/nwamui_enm.c: 
	  Fix NULL Pointer crash, on clicking OK in VPN dialog.

2008-06-02  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c: (main): Use GOptionContext to parse options.
	* capplet/nwam-manager-properties.glade: Enable match_all|any_rbtn by
	default.
	* capplet/nwam_conn_conf_ip_panel.c: (show_changed_cb): Ipv6 lable uses
	mnemonic.
	* common/nwamui_daemon.c: Removed the very long essid.

2008-05-28  Darren Kenny  <darren.kenny@sun.com>

	* capplet/Makefile.am, daemon/Makefile.am:
	  Add NWAM_LIBS to link flags.
	* configure.in:
	  Add libnwam and -lnsl to link flags.
	* help/legal.xml, help/nwam-manager.xml:
	  Add template help docs (but need to install still).
	* capplet/main.c: (main):
	  Call gnome_program_init() to correctly start program to stop crashing
	  when GNOME Help called.
	* common/nwamui_daemon.c, common/nwamui_env.c,
	  common/nwamui_env.h, common/nwamui_svc.c,
	  common/nwamui_svc.h:
	  Fix references to enable build with newer libnwam impl.

2008-05-09  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	s/Name/Profile on connection status page.

2008-05-01  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:

	First stab at network services tab.

2008-04-29  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam_pref_dialog.c: (show_changed_cb),
	(show_combo_cell_cb):

	s/Network Configuration/Network Profile in GUI.

2008-04-28  Calum Benson <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade

	Add controls for showing/selecting NCP, of which we'll now 
	have two in Phase I. (Work in progress, may require 
	further tweaking.)

2008-04-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_env_pref_dialog.c: (_cu_cond_combo_filter_value),
	(condition_field_op_changed_cb), (condition_value_changed_cb),
	(_cu_cond_combo_cell_cb), (_cu_cond_combo_filter_visible_cb),
	(_cu_cond_combo_new), (table_one_line_state), (table_lines_init),
	(table_conditon_new): Fix some parts of conditions, need more work.
	* common/nwamui_cond.c: (nwamui_cond_op_to_str): Some strings should
	changed according to the spec.
	* common/nwamui_env.c: (nwamui_env_get_condition_subject),
	(nwamui_env_get_condition_predicate): Use integer tree model.

2008-03-27  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.glade: Enable "rules hint" on all
	tree views.

2008-03-27  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.glade: P8, add a mnemonic "Ru_les".
	* capplet/nwam_conn_conf_ip_panel.c:
	(nwam_compose_multi_ip_tree_view), (nwam_conf_ip_panel_init),
	(show_changed_cb), (nwam_conn_multi_ip_cell_cb),
	(nwam_conn_multi_ip_cell_edited_cb): P10 ~ P12
	Remove "(None)" from ipv6 expander label; Remove "Hostname" column;
	Change "Prefix" to "Prefix Length".
	* capplet/nwam_conn_stat_panel.c: (nwam_compose_tree_view):
	P7 Use different colors for even/odd row.
	* capplet/nwam_net_conf_panel.c: (nwam_net_conf_panel_class_init),
	(net_conf_set_property), (net_conf_get_property),
	(nwam_compose_tree_view), (nwam_net_conf_panel_init),
	(nwam_net_conf_panel_finalize),
	(nwam_net_conf_update_status_cell_cb),
	(nwam_net_pref_connection_enabled_toggled_cb),
	(vanity_name_editing_started),
	(nwam_net_pref_connection_view_row_activated_cb),
	(update_rules_from_ncu),
	(nwam_net_pref_connection_view_row_selected_cb),
	(conditions_connected_toggled_cb), (ncu_notify_cb): P8, 9
	Support "indeterminate" state, remove "Connection Status" column,
	double-clicking checkbox only affect checkbox, display MAC address,
	"set status of $inf" is auto-updated.
	* common/nwamui_ncp.c: (nwamui_ncp_init):
	Test code supports MAC address.
	* common/nwamui_ncu.c: (nwamui_ncu_class_init),
	(nwamui_ncu_set_property), (nwamui_ncu_get_property),
	(nwamui_ncu_new), (nwamui_ncu_get_phy_address),
	(nwamui_ncu_set_phy_address):
	* common/nwamui_ncu.h:
	Add api for MAC address.

2008-01-09  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am: Add nwam_wireless_chooser.[hc].
	* capplet/main.c: (main):
	Add options for Wireless Network Chooser dialog.
	* capplet/nwam_wireless_chooser.c: (nwam_pref_init),
	(nwam_wireless_chooser_class_init),
	(nwam_compose_wifi_chooser_view), (nwam_wireless_chooser_init),
	(populate_panel), (wifi_add), (wifi_remove), (nwam_rescan_wifi),
	(nwam_wireless_chooser_new), (nwam_wireless_chooser_run),
	(refresh), (apply), (help), (nwam_wireless_chooser_finalize),
	(nwam_wifi_chooser_comp_cb), (object_notify_cb),
	(nwam_wifi_chooser_cell_cb), (nwam_create_wifi_cb):
	* capplet/nwam_wireless_chooser.h:
	Basic code.
	* daemon/main.c: (main): Initially read wifi settings first.

2008-01-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_conf_ip_panel.c: (populate_panel), (apply):
	Finished ui for nwamui preference.
	* common/libnwamui.h:
	Map "if no favorite networks found" combo index here (v1.5 P13).
	And store the index to GConf.
	* common/nwamui_prof.c: (nwamui_prof_class_init),
	(nwamui_prof_init), (nwamui_prof_set_property),
	(nwamui_prof_get_property), (nwamui_prof_finalize),
	(gconf_notify_cb):
	Finished GConf related code.
	* daemon/main.c: (join_wifi_not_in_fav), (join_any_fav_wifi),
	(add_any_new_wifi_to_fav), (action_on_no_fav_networks), (main):
	
	Need more work for nwamui preference logic. And NCU specific setting.

2008-01-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_conf_ip_panel.c: (nwam_pref_init),
	(nwam_conf_ip_panel_init), (populate_panel), (apply):
	According to P14 of v1.5. Added code for wireless settings like "join
	an open network that is not in your favorites list" etc.
	* common/Makefile.am:
	* common/libnwamui.h:
	Add nwamui_prof.[hc]
	* common/nwamui_prof.c: (nwamui_prof_class_init),
	(nwamui_prof_init), (nwamui_prof_set_property),
	(nwamui_prof_get_property), (nwamui_prof_finalize),
	(gconf_notify_cb), (nwamui_prof_get_instance),
	(nwamui_prof_notify_begin), (object_notify_cb):
	* common/nwamui_prof.h:
	Currently use GConf to get/set wireless settings. Use g_object signals
	to get the notification if any settings are changed rather than GConf
	notifications.
	* daemon/nwam-manager.schemas.in:
	Updated to add those gconf key value.

2008-01-02  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c: (process_enm): Correct typo FMRI.
	* capplet/nwam-manager-properties.glade: Changed help/OK butten names.
	* capplet/nwam_conn_stat_panel.c: (nwam_conn_status_panel_init),
	(nwam_conn_status_panel_refresh), (repair_clicked_cb),
	(on_nwam_env_notify_cb):
	Add code for repair button due to v1.5. Fix the unactive env.
	* capplet/nwam_env_pref_dialog.c: (nwam_pref_init),
	(nwam_env_pref_dialog_init), (nwam_env_pref_dialog_run),
	(response_cb), (apply), (help):
	Add code for applying Changes and help.
	* capplet/nwam_vpn_pref_dialog.c: (nwam_update_obj), (response_cb),
	(nwam_vpn_cell_cb), (nwam_vpn_selection_changed):
	Added code for applying changes.
	* common/nwamui_daemon.c: (nwamui_daemon_class_init),
	(nwamui_daemon_init), (nwamui_daemon_set_property),
	(nwamui_daemon_finalize), (nwamui_daemon_get_active_env_name),
	(nwamui_daemon_add_wifi_fav), (nwam_events_callback),
	(default_daemon_info_signal_handler),
	(default_add_wifi_fav_signal_handler),
	(default_remove_wifi_fav_signal_handler), (nwam_env_walker_cb),
	(nwam_enm_walker_cb):
	* common/nwamui_daemon.h:
	New signals "daemon_info, add_wifi_fav, remove_wifi_fav". Daemon info
	is used to deliver the unsolved/uninterested libnwam msg to upper
	level. Add libnwam event call back to process the libnwam events. We
	cancel the event call back thread in nwamuidaemon finalize func and
	wait for its return code.
	* common/nwamui_enm.c: (nwamui_enm_class_init), (nwamui_enm_init),
	(nwamui_enm_set_property), (nwamui_enm_get_property),
	(nwamui_enm_new), (nwamui_enm_new_with_handle),
	(nwamui_enm_set_smf_fmri), (nwamui_enm_get_smf_fmri),
	(nwamui_enm_commit), (nwamui_enm_finalize):
	* common/nwamui_enm.h:
	Correct typo FMRI. Add libnwam code in set/get property.
	* common/nwamui_env.c: (nwamui_env_class_init), (nwamui_env_init),
	(nwamui_env_set_property), (nwamui_env_get_property),
	(nwamui_env_new), (nwamui_env_new_with_handle), (nwamui_env_clone),
	(nwamui_env_get_svc), (nwamui_env_svc_foreach),
	(nwamui_env_svc_insert), (nwamui_env_svc_delete),
	(nwamui_env_svc_add), (nwamui_env_svc_add_full),
	(nwamui_env_svc_commit), (nwamui_env_activate),
	(nwamui_env_commit), (nwamui_env_finalize),
	(svc_row_inserted_or_changed_cb), (svc_row_deleted_cb),
	(nwam_env_svc_walker_cb), (nwam_env_sys_svc_walker_cb):
	* common/nwamui_env.h:
	Add libnwam code in set/get property. Add nwamui_env_activate,
	nwamui_env_commit and nwamui_env_svc_commit.
	* common/nwamui_svc.c: (nwamui_svc_class_init),
	(nwamui_svc_set_property), (nwamui_svc_get_property),
	(nwamui_svc_finalize), (nwamui_svc_new):
	* common/nwamui_svc.h:
	Add libnwam code in set/get property.
	* common/nwamui_wifi_net.c: (nwamui_wifi_net_security_map),
	(nwamui_wifi_net_strength_map):
	* common/nwamui_wifi_net.h:
	Add libnwam code in set/get property. Add two maps to map libnwam data
	to nwamuiwifi.
	* daemon/main.c: (on_trigger_network_changed), (main):
	Currently the active env may be null, so fix it. Remove
	nwam_notification_connect since nwamuidaemon signals are processed in
	nwam-menu.c.
	* daemon/notify.c: (nwam_notification_show_message),
	(nwam_notification_show_message_with_action),
	(nwam_notification_init):
	* daemon/notify.h:
	Remove nwam_notification_connect. Add function to show messages with
	actions.
	* daemon/nwam-menu.c: (nwam_menu_init),
	(nwam_menu_recreate_menuitems), (nwam_menu_create_static_part),
	(on_activate_joinwireless), (event_ncu_up), (event_ncu_down),
	(event_active_env_changed), (event_add_wifi_fav),
	(event_daemon_info), (notification_joinwireless_cb),
	(notification_listwireless_cb), (nwam_menu_create_wifi_menuitems):
	Update some notifications due to v1.5, and process nwamuidaemon signals
	here. Updated scan wifi and construct wifi menuitems code.

2007-12-14  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Change the response if for the "Refresh" button.
	* capplet/nwam_pref_dialog.c: 
	  Modify response_cb to only stop emission of response given specific
	  conditions. Also link the Refresh Button.
	* common/nwamui_ip.h, common/nwamui_ip.c: 
	  Link the NwamuiIp with a specific NwamuiNcu, and sent events to
	  NwamuiNcu if the NwamuiIp changes.
	* common/libnwamui.h:
	  Move NwamuiIp to below NwamuiNcu to fix references.
	* common/nwamui_ncu.c: 
	  Chain row insert/delete/change events to notify signal.
	* capplet/nwam_conn_conf_ip_panel.h, capplet/nwam_conn_conf_ip_panel.c:
	  Correctly link the multiple IP address case with the NCU treestores.

2007-12-11  Lin Ma  <Lin.Ma@Sun.COM>

	* Makefile.am, configure.in, tests/Makefile.am, tests/main.c: (main):
	Added tests source directory to test libnwam.

2007-12-10  Lin Ma  <Lin.Ma@Sun.COM>

	* common/libdladm.h: Added this to build the ui with libnwam.

2007-12-10  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwamui_svc.c: (nwamui_svc_class_init), (nwamui_svc_init),
	(nwamui_svc_set_property), (nwamui_svc_get_property),
	(nwamui_svc_finalize), (nwamui_svc_new),
	(nwamui_svc_get_description), (nwamui_svc_set_status),
	(nwamui_svc_get_status), (nwamui_svc_get_name),
	(nwamui_svc_set_default), (nwamui_svc_is_default),
	(object_notify_cb):
	* common/nwamui_svc.h: Forgot committing these new files.

2007-12-03  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/main.c: (detect_and_set_singleton), (cleanup_and_exit),
	(main):
	Enable singleton window.
	* daemon/nwam-menuitem.c: (nwam_menu_item_size_request),
	(nwam_menu_item_size_allocate):
	Fixed the position of the last icon.

2007-11-30  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_env_pref_dialog.c: (default_svc_status_cb),
	(default_svc_toggled_cb), (additional_svc_toggled_cb),
	(default_netservices_vfunc), (additional_netservices_vfunc):
	Turn to nwamui_svc.
	* common/Makefile.am:
	* common/libnwamui.h:
	* common/nwamui_env.c: (nwamui_env_init), (nwamui_env_get_svc),
	(nwamui_env_find_svc), (nwamui_env_svc_add),
	(nwamui_env_svc_add_full):
	* common/nwamui_env.h:
	Added a new SVC object to store service information.
	* configure.in:
	Enabled libnwam.

2007-11-29  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/main.c: (main): Disable singleton window.
	* scripts/link_icons.sh: Fixed a nit.

2007-11-27  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ip.c: 
	  Fix typo in property name.
	* common/nwamui_ncu.c:
	  Change storage of addresses and subnets to use gtk_list_store for
	  existing APIs.

2007-11-27  Darren Kenny  <darren.kenny@sun.com>

	* common/Makefile.am, common/libnwamui.h,
	  common/nwamui_ip.c, common/nwamui_ip.h,
	  common/nwamui_ncu.c, common/nwamui_ncu.h:
	  Add a new IP object to store an ip address and subnet/prefix.
	  Add two GtkListStore for v4 and v6 addresses to NCU object, IP objects
	  will be stored in here - not done yet.

2007-11-26  Darren Kenny  <darren.kenny@sun.com>

	* common/Makefile.am, common/nwam_ui_icons.c, common/nwam_ui_icons.h:
	  Removed need for this icon factory, all icons should be retrieved using
	  utility functions in libnwamui.c
	* common/libnwamui.h, common/libnwamui.c: 
	  (get_pixbuf),
	  (nwamui_util_get_env_status_icon),
	  (nwamui_util_get_network_type_icon),
	  (nwamui_util_get_network_security_icon),
	  (nwamui_util_get_network_status_icon),
	  (nwamui_util_get_wireless_strength_icon):
	  Use standard icon functions, and get icons using enums rather than
	  names.
	* daemon/nwam-menu.c, daemon/status_icon.c, 
	  capplet/nwam_conn_stat_panel.c, capplet/nwam_wireless_dialog.c:
	  Update to use new icon functions.
	* capplet/nwam_env_pref_dialog.c,
	  capplet/main.c, capplet/nwam-manager-properties.glade:
	  Replace all strings referencing "Environment" to be "Location".
	  Also added some conditional sensitivity to location buttons.
	* common/nwamui_env.h:
	  Add NWAMUI_ENV_STATUS_* enums - currently missing abilty to get the
	  actualy status, but is used to obtain icon for displaying.
	* common/nwamui_daemon.c, common/nwamui_ncp.c,
	  common/nwamui_wifi_net.c, common/nwamui_wifi_net.h:
	  Update with new signal strength enums.
	* scripts/link_icons.sh:
	  Utility script to help during development if installing icons normally
	  to non-/usr dir (e.g. /opt).

2007-11-26  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init),
	(nwam_compose_tree_view), (populate_panels_from_env),
	(default_svc_status_cb), (default_svc_toggled_cb),
	(additional_svc_status_cb), (additional_svc_toggled_cb),
	(default_netservices_vfunc), (additional_netservices_vfunc):
	Finished glue code for Netservices default list and additional list.
	* common/nwamui_daemon.c:
	Changed one test data.
	* common/nwamui_env.c: (nwamui_env_class_init), (nwamui_env_init),
	(nwamui_env_get_property), (nwamui_env_new), (nwamui_env_get_svcs),
	(nwamui_env_find_svc), (nwamui_env_svc_remove),
	(nwamui_env_svc_add), (nwamui_env_svc_set_default),
	(nwamui_env_svc_add_full), (nwamui_env_svc_is_default),
	(nwamui_env_svc_set_status), (nwamui_env_svc_get_status),
	(nwamui_env_svc_get_name):
	* common/nwamui_env.h:
	Services api. Need more work.
	* daemon/main.c: (detect_and_set_singleton), (clear_singleton),
	(cleanup_and_exit), (main):
	Test code for the singlonten instance by using X/GDK atom.

2007-11-16  Darren Kenny  <darren.kenny@sun.com>

	* configure.in:
	* pixmaps/Makefile.am:
	* pixmaps/16x16/Makefile.am:
	* pixmaps/16x16/status/Makefile.am:
	* pixmaps/16x16/status/network-secure.png:
	* pixmaps/16x16/status/network-wired-connected.png:
	* pixmaps/16x16/status/network-wired-error.png:
	* pixmaps/16x16/status/network-wired-warning.png:
	* pixmaps/16x16/status/network-wireless-connected.png:
	* pixmaps/16x16/status/network-wireless-error.png:
	* pixmaps/16x16/status/network-wireless-signal-fair.png:
	* pixmaps/16x16/status/network-wireless-signal-good.png:
	* pixmaps/16x16/status/network-wireless-signal-none.png:
	* pixmaps/16x16/status/network-wireless-signal-poor.png:
	* pixmaps/16x16/status/network-wireless-warning.png:
	* pixmaps/24x24/Makefile.am:
	* pixmaps/24x24/apps/Makefile.am:
	* pixmaps/24x24/apps/network-location.png:
	* pixmaps/24x24/status/Makefile.am:
	* pixmaps/24x24/status/network-location-connected.png:
	* pixmaps/24x24/status/network-location-error.png:
	* pixmaps/24x24/status/network-location-warning.png:
	* pixmaps/24x24/status/network-secure.png:
	* pixmaps/24x24/status/network-wired-connected.png:
	* pixmaps/24x24/status/network-wired-error.png:
	* pixmaps/24x24/status/network-wired-warning.png:
	* pixmaps/24x24/status/network-wireless-connected.png:
	* pixmaps/24x24/status/network-wireless-error.png:
	* pixmaps/24x24/status/network-wireless-warning.png:
	* pixmaps/32x32/Makefile.am:
	* pixmaps/32x32/apps/Makefile.am:
	* pixmaps/32x32/apps/network-location.png:
	* pixmaps/32x32/status/Makefile.am:
	* pixmaps/32x32/status/network-location-connected.png:
	* pixmaps/32x32/status/network-location-error.png:
	* pixmaps/32x32/status/network-location-warning.png:
	* pixmaps/32x32/status/network-wired-connected.png:
	* pixmaps/32x32/status/network-wired-error.png:
	* pixmaps/32x32/status/network-wired-warning.png:
	* pixmaps/32x32/status/network-wireless-connected.png:
	* pixmaps/32x32/status/network-wireless-error.png:
	* pixmaps/32x32/status/network-wireless-warning.png:
	* pixmaps/48x48/Makefile.am:
	* pixmaps/48x48/apps/Makefile.am:
	* pixmaps/48x48/apps/network-location.png:
	* pixmaps/48x48/status/Makefile.am:
	* pixmaps/48x48/status/network-location-connected.png:
	* pixmaps/48x48/status/network-location-error.png:
	* pixmaps/48x48/status/network-location-warning.png:
	* pixmaps/48x48/status/network-secure.png:
	* pixmaps/48x48/status/network-wired-connected.png:
	* pixmaps/48x48/status/network-wired-error.png:
	* pixmaps/48x48/status/network-wired-warning.png:
	* pixmaps/48x48/status/network-wireless-connected.png:
	* pixmaps/48x48/status/network-wireless-error.png:
	* pixmaps/48x48/status/network-wireless-warning.png:
	Import new icons into SVN, not integrated yet though... 

2007-11-14  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncu.h, common/nwamui_ncu.c,
	  capplet/nwam_net_conf_panel.c: 
	  Add rules handling to the network conf panel and NCU.
	* daemon/status_icon.c: 
	  Fix a small compilation warning.

2007-11-12  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Fix order of "Show XXX Dropdown"

2007-11-14  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwam_ui_icons.h:
	Moved the blank icon to here. Maybe we dont really need a blank icon.
	* common/nwamui_daemon.c: (nwamui_daemon_wifi_start_scan):
	Moved the position of testing code to the beginning for conveniently
	adding/removing code.
	* daemon/main.c: (get_state):
	Fixed a memory leak bug.
	* daemon/nwam-menuitem.c: (nwam_menu_item_class_init),
	(nwam_menu_item_init), (nwam_menu_item_set_property),
	(nwam_menu_item_get_property), (nwam_menu_item_forall),
	(nwam_menu_item_remove), (nwam_menu_item_new),
	(nwam_menu_item_new_with_label), (nwam_menu_item_set_widget),
	(nwam_menu_item_get_widget), (nwam_menu_item_finalize),
	(nwam_menu_item_toggle_size_request),
	(nwam_menu_item_size_request), (nwam_menu_item_size_allocate),
	(nwam_menu_item_draw_indicator):
	* daemon/nwam-menuitem.h:
	Inherit GtkRadioMenuItem due to GUI v1.5. Added some debug code.
	* daemon/nwam-action.c: (create_menu_item), (connect_proxy),
	(disconnect_proxy):
	* daemon/nwam-action.h:
	Inherit GtkRadioAction due to GUI v1.5. Added some debug code.
	* daemon/nwam-menu.c: (nwam_menu_init), (nwam_menu_finalize),
	(nwam_display_name_to_menuitem), (nwam_menu_connect),
	(nwam_menu_recreate_menuitems), (nwam_menu_create_static_part),
	(on_activate_pref), (on_nwam_wifi_enable), (on_nwam_ncu_notify_cb),
	(on_nwam_wifi_notify_cb), (on_nwam_enm_notify_cb), (on_ncu_up),
	(on_ncu_down), (on_active_env_changed),
	(nwam_menu_menuitem_postfix), (nwam_menu_create_wifi_menuitems),
	(nwam_menu_create_vpn_menuitems):
	* daemon/nwam-ui.xml:
	Reuse nwam-ui.xml to compose the static menuitems, because GUI design
	maybe changes many time in the future, it's more convenient to use XML
	file. Compose wifi menuitems during run-time. Added some singal
	handlers.

2007-11-06  Calum Benson  <calum.benson@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Update for v1.5 of UI spec.
	* capplet/nwam_conn_conf_ip_panel.c: (nwam_conf_ip_panel_init):
	  Comment out Renew Lease button code as button is no longer
	  present; Darren/Lin can dispose of this code properly :)

2007-11-09  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_conf_ip_panel.c: (nwam_pref_init),
	(populate_panel), (help), (nwam_conn_multi_ip_cell_cb):
	Implemeted the inteface "help". Fixed memory leak.
	* capplet/nwam_conn_stat_panel.c: (nwam_pref_init), (help):
	* capplet/nwam_vpn_pref_dialog.c: (nwam_pref_init), (help),
	(response_cb):
	Implemeted the inteface "help".
	* capplet/nwam_net_conf_panel.c: (nwam_pref_init),
	(nwam_compose_tree_view), (nnwam_net_conf_panel_set_ncp),
	(nwam_net_conf_panel_init), (nwam_net_conf_panel_refresh), (help),
	(nwam_net_conf_update_status_cell_cb),
	(nwam_net_pref_connection_view_selection_changed),
	(expander_activate_callback), (conditions_filter_visible_callback):
	Implemeted the inteface "help".
	Some basic work on "Wireless Sub Panel".
	* capplet/nwam_pref_dialog.c: (nwam_pref_init), (refresh), (apply),
	(help), (response_cb), (show_changed_cb), (refresh_clicked_cb),
	(add_ncu_element):
	Implemeted the inteface "help". Top level invoke "apply, refresh, help"
	for each child panel. Fixed memory leak.
	* capplet/nwam_pref_iface.c: (nwam_pref_iface_class_init),
	(nwam_pref_apply), (nwam_pref_help):
	* capplet/nwam_pref_iface.h:
	Added new interface for "help". Fixed the copy/paste nit "apply".
	* capplet/nwam_wireless_dialog.c: (add_essid_list_item_to_essid_liststore)
	* common/nwamui_daemon.c: (default_wifi_scan_result_signal_handler)
	* common/nwamui_ncu.c: (nwamui_ncu_get_display_name)
	Fixed memory leak.
	* daemon/nwam-menu.c: (nwam_menu_init), (nwam_menu_connect),
	(on_activate_help), (on_nwam_wifi_enable), (on_nwam_ncu_notify_cb),
	(on_ncu_up), (on_ncu_down), (on_active_env_changed),
	(nwam_menu_create_favorwifi_menuitems),
	(nwam_menu_create_wifi_menuitems):
	Linked to the existing daemon signals. Added those signal callbacks.

2007-10-30  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwamui_ncp.c: (nwamui_ncp_init):
	* common/nwamui_ncu.c: (nwamui_ncu_class_init), (nwamui_ncu_init),
	(nwamui_ncu_set_property), (nwamui_ncu_get_property),
	(nwamui_ncu_new), (nwamui_ncu_set_speed), (nwamui_ncu_get_speed):
	* common/nwamui_ncu.h:
	Copy speed function to ncu.
	* daemon/main.c: (main):
	* daemon/notify.c: (on_ncu_up), (on_ncu_down),
	(on_active_env_changed), (nwam_notification_init),
	(nwam_notification_connect):
	* daemon/notify.h:
	Notification connects to the signals of daemon.
	* daemon/nwam-menu.c: (on_nwam_wifi_enable),
	(nwam_menu_create_favorwifi_menuitems):
	Callback for enabling a Wifi.

2007-10-26  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Add dialog for Proxy Username/Password.
	  NOTE: This glade file is using *glade-3* now.
	* capplet/Makefile.am, capplet/nwam_proxy_password_dialog.h,
	  capplet/nwam_proxy_password_dialog.c:
	  Add new object for handling the proxy username/password
	  dialog.
	* common/nwamui_env.h, common/nwamui_env.c: 
	  Add proxy username and password properties.
	* capplet/nwam_env_pref_dialog.c: 
	  Add code to use the new proxy password dialog, and link changes made
	  there with the currently selected environment.

2007-10-25  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c, capplet/nwam_conn_stat_panel.c, 
	  capplet/nwam_conn_stat_panel.h, capplet/nwam_net_conf_panel.c, 
	  common/libnwamui.c, common/nwamui_env.c, common/nwamui_env.h,
	  common/nwamui_ncp.c, common/nwamui_ncp.h, daemon/main.c: 
	  Change the NCP list of NCUs from being a GList to being a GtkListStore.

2007-10-19  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam_env_pref_dialog.c: 
	  Fix a bug w.r.t. where the rules were being "unset" on an environment
	  change.

2007-10-18  Darren Kenny  <darren.kenny@sun.com>

	* TODO.txt:
	  Some updates on things done.
	* capplet/nwam_env_pref_dialog.c: 
	  Add Conditions
	* common/Makefile.am, common/libnwamui.c, common/libnwamui.h,
	  common/nwamui_cond.c, common/nwamui_cond.h:
	  Add New API for Conditions Objects
	* common/nwamui_enm.c:
	  Remove unneeded instance variable.
	* common/nwamui_env.c, common/nwamui_env.h:
	  Add Conditions support

2007-08-31  Darren Kenny  <darren.kenny@sun.com>

	* daemon/nwam-menu.c: (on_activate_about):
	  Show the about dialog.

2007-08-31  Darren Kenny  <darren.kenny@sun.com>

	* pixmaps/earth-info.png, pixmaps/earth-normal.png:
	  Upated icons to version based off the Nimbus theme.

2007-08-24  Lin Ma  <Lin.Ma@Sun.COM>

	* TODO.txt: updated
	* capplet/nwam_conn_stat_panel.c: (nwam_conn_status_panel_init),
	(nwam_conn_status_panel_refresh), (nwam_conn_status_add),
	(nwam_conn_status_update_status_cell_cb), (on_nwam_enm_notify_cb),
	(on_nwam_ncu_notify_cb): connect ncu notify signal to update
	tree view. fixed some memory leaks.
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_init),
	(change_show_combo_model), (nwam_capplet_dialog_select_ncu):
	the model of show_combo is updated to contain G_TYPE_POINTER,
	because the content comes from daemon. maybe later fix will make
	daemon returns a tree list model which is more reasonable. make
	sure ref/unref is correctly handled which doesn't do right now,
	but the more correctly ref/unref should be handled in
	nwam_conn_status_panel rather than here.

2007-08-23  Lin Ma  <Lin.Ma@Sun.COM>

	* Makefile.am: add *.spec to extra_dist
	* SUNWnwam-manager.spec: add session start file
	* TODO.txt: updated
	* capplet/nwam_conn_stat_panel.c:
	(nwam_conn_status_panel_class_init), (nwam_conn_status_panel_init),
	(nwam_conn_status_panel_finalize), (on_nwam_env_notify_cb),
	(on_nwam_enm_notify_cb): code for update env/vpn labels
	* capplet/nwam_env_pref_dialog.c: (env_selection_changed_cb):
	remove g_assert, because each time run nwam_env_pref_dialog, 
	combobox will be refilled, so gtk_combo_box_get_active_iter will
	return FALSE when all entries are removed.
	* capplet/nwam_vpn_pref_dialog.c: (nwam_vpn_add), (populate_panel),
	(vpn_pref_clicked_cb), (nwam_vpn_selection_changed),
	(on_nwam_enm_notify_cb): code for update start/stop button and enm
	status on the tree view.
	* daemon/Makefile.am: fixed nwam-manager.desktop issue.
	* daemon/nwam-manager.desktop.in: fixed application name.
	* daemon/nwam-menu.c: (on_nwam_wifi_notify_cb),
	(on_nwam_env_notify_cb), (nwam_menu_menuitem_postfix):
	code for refresh wifi menu items when the wifi changes.

2007-08-23  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwamui_env.c: (nwamui_env_class_init), (nwamui_env_init),
	(nwamui_env_get_property), (nwamui_env_svc_new),
	(nwamui_env_svc_free), (nwamui_env_has_svc), (nwamui_env_svc_add),
	(nwamui_env_svc_remove), (nwamui_env_finalize):
	Add some api
	* daemon/main.c: (main): Make daemon singleton
	* daemon/nwam-menu.c: (on_activate_pref), (on_activate_enm),
	(on_nwam_wifi_notify_cb), (on_nwam_env_notify_cb),
	(on_nwam_enm_notify_cb), (nwam_menu_menuitem_postfix),
	(nwam_menu_create_favorwifi_menuitems),
	(nwam_menu_create_wifi_menuitems),
	(nwam_menu_create_env_menuitems), (nwam_menu_create_vpn_menuitems):
	Connect Nwam object notify signal.

2007-08-17  Lin Ma  <Lin.Ma@Sun.COM>

	* TODO.txt: Updated.
	* capplet/nwam_env_pref_dialog.c:
	(nwam_env_pref_dialog_class_init), (table_lines_new),
	(table_conditon_new), (table_add_condition_cb),
	(table_delete_condition_cb),
	(default_condition_add_signal_handler),
	(default_condition_remove_signal_handler): Add signals. Move condition
	subject and predicate to comman lib.
	* capplet/nwam_env_pref_dialog.h:
	* common/nwamui_daemon.c: No change.
	* common/nwamui_daemon.h: Define api default svc.
	* common/nwamui_env.c: (nwamui_env_get_condition_subject),
	(nwamui_env_get_condition_predicate):
	* common/nwamui_env.h: Define apis for condition and svc.

2007-08-16  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_env_pref_dialog.c: (table_lines_new),
	(table_lines_init), (table_conditon_new),
	(table_line_cache_all_cb), (table_condition_insert),
	(table_condition_delete), (table_add_condition_cb),
	(table_delete_condition_cb):
	Re-work, make func like tree model func.
	* common/nwamui_env.h:
	Add condition related APIs.

2007-08-16  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.glade: Change properties of scrollwin
	which contains conditions_vbox. conditions_vbox is removed, will be
	added at runtime.
	* capplet/nwam_env_pref_dialog.c: (nwam_env_pref_dialog_init),
	(nwam_env_pref_dialog_finalize), (table_lines_new),
	(table_lines_init), (table_lines_free), (table_line_new),
	(table_line_cache_all_cb), (table_add_condition_cb),
	(table_delete_condition_cb): Add a cache for condition hbox.
	finished the +/- functions.
	* common/libnwamui.c: (get_glade_xml): fix double free glade file name.

2007-08-15  Lin Ma  <Lin.Ma@Sun.COM>

	* TODO.txt: Updated
	* capplet/Makefile.am: Fixed make dist
	* capplet/nwam-manager-properties.glade: change to vbox from table in
	Rule tab page.
	* capplet/nwam_env_pref_dialog.c:
	(nwam_env_pref_dialog_class_init), (nwam_env_pref_dialog_init),
	(nwam_env_pref_dialog_finalize), (populate_panels_from_env),
	(table_model_init), (table_lines_init), (table_line_new),
	(table_initialize_line_cb), (table_add_condition_cb),
	(table_delete_condition_cb): some code for +/-
	* capplet/nwam_vpn_pref_dialog.c:
	(nwam_vpn_pref_dialog_class_init), (nwam_vpn_pref_dialog_init),
	(nwam_vpn_pref_dialog_finalize), (nwam_update_obj),
	(nwam_vpn_clear), (response_cb), (vpn_pref_clicked_cb),
	(nwam_vpn_cell_edited_cb), (nwam_vpn_selection_changed): Updated for
	add/remove ENM.
	* common/nwamui_daemon.c: (nwamui_daemon_class_init),
	(default_ncu_create_signal_handler),
	(default_ncu_destroy_signal_handler),
	(default_ncu_up_signal_handler), (default_ncu_down_signal_handler):
	Add more signals for daemon.
	* common/nwamui_daemon.h:
	* common/nwamui_env.h:
	* daemon/Makefile.am:
	* daemon/main.c: (main): code for gnome-session
	* daemon/nwam-manager.desktop.in: add default session for nwam-manager
	* daemon/nwam-menu.c: (nwam_menu_lower_part), (on_activate_about),
	(on_activate_help):
	added new menuitems for about/help.

2007-08-10  Darren Kenny  <darren.kenny@sun.com>

	* TODO.txt:
	  - A list of things that still need to be done.
	* nbproject/Makefile-capplet.mk, nbproject/Makefile-daemon.mk, 
	  nbproject/configurations.xml:
	  Remove generated file config.h from project files.

2007-08-09  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/main.c: (get_state), (on_trigger_network_changed), (main):
	Added a callback for signal "active_env_changed" of nwam daemon to
	recontruct tooltip. Need further work.
	* daemon/notify.c: (nwam_notification_show_message): No change.
	* daemon/nwam-menu.c: (on_activate_env),
	(nwam_menu_menuitem_postfix), (nwam_menu_create_env_menuitems):
	* nbproject/configurations.xml: Support switch env on menu.

2007-08-08  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/nwam-menu.c: (nwam_menu_menuitem_postfix):
	* pixmaps/Makefile.am:
	* pixmaps/wireless-fragile.png:
	Add a transparent icon to fix menuitem alignment problem.

2007-08-07  Darren Kenny  <darren.kenny@sun.com>

	* Makefile.am, capplet/Makefile.am,
	 capplet/nwam-manager-properties.glade,
	 common/Makefile.am, daemon/Makefile.am,
	 daemon/nwam-manager-daemon.glade, pixmaps/Makefile.am:
	 Add CDDL Header

2007-08-07  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c, capplet/nwam_conn_conf_ip_panel.c,
	 capplet/nwam_conn_conf_ip_panel.h, capplet/nwam_conn_stat_panel.c,
	 capplet/nwam_conn_stat_panel.h, capplet/nwam_env_pref_dialog.c,
	 capplet/nwam_env_pref_dialog.h, capplet/nwam_env_svc.c,
	 capplet/nwam_env_svc.h, capplet/nwam_net_conf_panel.c,
	 capplet/nwam_net_conf_panel.h, capplet/nwam_pref_dialog.c,
	 capplet/nwam_pref_dialog.h, capplet/nwam_pref_iface.c,
	 capplet/nwam_pref_iface.h, capplet/nwam_vpn_pref_dialog.c,
	 capplet/nwam_vpn_pref_dialog.h, capplet/nwam_wireless_dialog.c,
	 capplet/nwam_wireless_dialog.h, common/libnwamui.c,
	 common/libnwamui.h, common/nwam_ui_icons.c,
	 common/nwam_ui_icons.h, common/nwamui_daemon.c,
	 common/nwamui_daemon.h, common/nwamui_enm.c,
	 common/nwamui_enm.h, common/nwamui_env.c,
	 common/nwamui_env.h, common/nwamui_ncp.c,
	 common/nwamui_ncp.h, common/nwamui_ncu.c,
	 common/nwamui_ncu.h, common/nwamui_wifi_net.c,
	 common/nwamui_wifi_net.h, daemon/main.c,
	 daemon/notify.c, daemon/notify.h,
	 daemon/nwam-action.c, daemon/nwam-action.h,
	 daemon/nwam-menu.c, daemon/nwam-menu.h,
	 daemon/nwam-menuitem.c, daemon/nwam-menuitem.h,
	 daemon/status_icon.c, daemon/status_icon.h:
	 Fix the CDDL to match that of ON.

2007-08-07  Darren Kenny  <darren.kenny@sun.com>

	* capplet/Makefile.am, capplet/callbacks.c, capplet/callbacks.h:
	  Remove unneeded file callbacks.c
	* capplet/main.c, capplet/nwam_conn_conf_ip_panel.c,
	  capplet/nwam_conn_conf_ip_panel.h, capplet/nwam_conn_stat_panel.c,
	  capplet/nwam_conn_stat_panel.h, capplet/nwam_env_pref_dialog.c,
	  capplet/nwam_env_pref_dialog.h, capplet/nwam_env_svc.c,
	  capplet/nwam_env_svc.h, capplet/nwam_net_conf_panel.c,
	  capplet/nwam_net_conf_panel.h, capplet/nwam_pref_dialog.c,
	  capplet/nwam_pref_dialog.h, capplet/nwam_pref_iface.c,
	  capplet/nwam_pref_iface.h, capplet/nwam_vpn_pref_dialog.c,
	  capplet/nwam_vpn_pref_dialog.h, capplet/nwam_wireless_dialog.c,
	  capplet/nwam_wireless_dialog.h, common/libnwamui.c,
	  common/libnwamui.h, common/nwam_ui_icons.c,
	  common/nwam_ui_icons.h, common/nwamui_daemon.c,
	  common/nwamui_daemon.h, common/nwamui_enm.c,
	  common/nwamui_enm.h, common/nwamui_env.c,
	  common/nwamui_env.h, common/nwamui_ncp.c,
	  common/nwamui_ncp.h, common/nwamui_ncu.c,
	  common/nwamui_ncu.h, common/nwamui_wifi_net.c,
	  common/nwamui_wifi_net.h, daemon/main.c,
	  daemon/notify.c, daemon/notify.h,
	  daemon/nwam-action.c, daemon/nwam-action.h,
	  daemon/nwam-menu.c, daemon/nwam-menu.h,
	  daemon/nwam-menuitem.c, daemon/nwam-menuitem.h,
	  daemon/status_icon.c, daemon/status_icon.h:
	  Add CDDL Headers and change emacs modeline to expand tabs and use 4 as
	  the spacing. Also added vim modelne too do the same.

2007-08-06  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c: (main): Add argument '-n' for VPN preference dialog.
	* capplet/nwam_conn_conf_ip_panel.c: (multi_line_add_cb): autoselect
	the new added item of tree.
	* common/nwamui_daemon.c: (nwamui_daemon_enm_append),
	(nwamui_daemon_enm_remove):
	* common/nwamui_daemon.h:
	Added append/remove for ENM.
	* daemon/nwam-menu.c: (nwam_menu_init), (nwam_menu_upper_part),
	(nwam_exec), (on_activate_pref), (nwam_menu_menuitem_postfix),
	(nwam_menu_create_wifi_menuitems),
	(nwam_menu_create_env_menuitems), (nwam_menu_create_vpn_menuitems):
	Code for add VPN menuitems.
	* nbproject/Makefile-capplet.mk:
	* nbproject/Makefile-daemon.mk:

2007-08-03  Darren Kenny  <darren.kenny@sun.com>

	* INSTALL:
	  Updated because of automake.
	* SUNWnwam-manager.spec:
	  Update spec file due to movement of file locations to 
	  single root %{datadir}/nwam-manager
	* capplet/nwam_conn_conf_ip_panel.c: 
	  Add some functionality to the wireless favourites buttons, and add
	  drag 'n drop support to list.
	* capplet/nwam_wireless_dialog.h, capplet/nwam_wireless_dialog.c:
	  Add ability to get/set a NwamuiWifiNet object for the dialog to use as a
	  source of it's data. Should be NULL unless you're editing, before
	  calling the _run function.
	  Update the validation slightly.
	  Also allow for NULL pointers for text values (use empty string to set
	  entries).
	  Fix a bug w.r.t. the "show password" toggle, to show WPA Password too.
	* common/nwam_ui_icons.h, common/nwam_ui_icons.c,
	  common/libnwamui.h, common/libnwamui.c: 
	  New utiliy function to show message dialog - nwamui_util_show_message.
	  Update the icons functions to use the nwam_ui_icons functionality.
	  Fix search paths to glade and icons to use XDG_DATA_DIRS functionality
	  - this also helps for distributing as a relocatable tarball...
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Add ability to update the wifi_fav list.
	* daemon/status_icon.c: 
	  Fix reference to icon factory, since it's now a singleton.
	* pixmaps/Makefile.am, pixmaps/network-idle.png,
	  pixmaps/network-offline.png, pixmaps/network-wireless.png,
	  pixmaps/wireless-strength-0-24.png, pixmaps/wireless-strength-25-49.png,
	  pixmaps/wireless-strength-50-74.png, pixmaps/wireless-strength-75-100.png:
	  Create private copy of pixmaps.
	* nbproject/configurations.xml:
	  Misc file updates.

2007-08-03  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam-manager-properties.glade:
	add meaningful names of some labels.
	* capplet/nwam_vpn_pref_dialog.c: (nwam_vpn_pref_dialog_init),
	(nwam_vpn_pref_dialog_finalize), (nwam_compose_vpn_apps_view),
	(nwam_vpn_add), (nwam_vpn_clear), (populate_panel),
	(vpn_pref_clicked_cb), (nwam_vpn_cell_cb),
	(nwam_vpn_cell_edited_cb), (nwam_vpn_selection_changed):
	support all the buttons, but didn't finish commit a change of a VPN.

2007-08-01  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.c, common/libnwamui.h:
	  Move the glade functionality in to libnwamui.c since it was needed there
	  to be able to add some dialog functionality.
	  Provide two utility functions for dialogs: Ask Yes/No question and
	  Rename Env Dialog (also re-used for New Env).
	* capplet/nwam_glade.c, capplet/nwam_glade.h, capplet/Makefile.am:
	  Remove the old glade functionality.
	* common/Makefile.am:
	  Add definition for gladedir to allow above to run correctly.
	* capplet/nwam-manager-properties.glade:
	  Change the rename_environment_dialog to be a toplevel dialog not a
	  popup so that it got window decorations.
	* capplet/nwam_conn_stat_panel.c:
	  Update the environment button callback to accept the parent of the
	  dialog as a parameter to the dialog and define modality.
	* capplet/main.c, capplet/nwam_env_svc.c, capplet/nwam_net_conf_panel.c,
	  capplet/nwam_pref_dialog.c, capplet/nwam_vpn_pref_dialog.c,
	  capplet/nwam_wireless_dialog.c, capplet/nwam_conn_conf_ip_panel.c:
	  Updates to use new glade function rather than old one.
	* capplet/nwam_env_pref_dialog.c, capplet/nwam_env_pref_dialog.h:
	  Updates to use new glade function rather than old one.
	  Add parent param to the _run function. 
	  Add some callbacks for proxy panel and env add/rename/dup/delete.
	* common/nwamui_daemon.c, common/nwamui_daemon.h:
	  Add support for ability to add/remove environments.
	* common/nwamui_env.c: 
	  Just adding a TODO comment.

2007-08-01  Lin Ma  <Lin.Ma@Sun.COM>

	* SUNWnwam-manager.spec:
	* nwam-manager.spec:
	Spec files for nwam-manager.

2007-08-01  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am:
	* capplet/nwam_env_svc.c: (env_add_clicked_cb),
	(env_rem_clicked_cb):
	* common/Makefile.am:
	* common/nwam_ui_icons.c: (nwam_ui_icons_init):
	* daemon/Makefile.am:
	* daemon/nwam-menu.c: (nwam_exec):
	Basically fix some package bugs for adding SPEC files.

2007-07-31  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_env.h, common/nwamui_env.c: 
	  Add the ability to Set values, make an object unmodifiable. Daemon is
	  only thing that knowns which env is active, so removed active prop from
	  env.
	* capplet/main.c:
	  Update for removal of active property from env.
	* capplet/nwam-manager-properties.glade:
	  Provide some real names for some more widgets.
	* capplet/nwam_env_pref_dialog.c: 
	  Add some real functionality to the environment dialog.
	* capplet/nwam_net_conf_panel.c: 
	  Add some more functionality to the net conf panel, such as DnD for the
	  ordering (not complete yet, but works visually), renaming of the NCU,
	  etc.
	* common/libnwamui.h, common/libnwamui.c: (nwamui_util_show_help):
	  Provide a new utility function to show help - not used anywhere yet
	  though...
	* common/nwamui_daemon.h, common/nwamui_daemon.c: 
	  Add proper handling for the active environment, also provided a signal
	  to reflect a change.
	* common/nwamui_ncu.c: 
	  Enable the renaming of the NCU.
	* daemon/nwam-menu.c:
	  Remove hard-coded path.
	* nbproject/Makefile-capplet.mk, nbproject/Makefile-daemon.mk,
	  nbproject/configurations.xml, nbproject/private/configurations.xml:
	  Misc updates.

2007-07-31  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am: added new files nwam_vpn_pref_dialog.c
	* capplet/nwam_conn_conf_ip_panel.c:
	(nwam_compose_multi_ip_tree_view): removed some useless code.
	* capplet/nwam_conn_stat_panel.c: (vpn_clicked_cb):
	* capplet/nwam_vpn_pref_dialog.c:
	(nwam_vpn_pref_dialog_class_init), (nwam_vpn_pref_dialog_init),
	(nwam_vpn_pref_dialog_finalize), (set_property), (get_property),
	(nwam_compose_vpn_apps_view), (nwam_vpn_pref_dialog_new),
	(nwam_vpn_pref_dialog_run), (object_notify_cb), (response_cb),
	(vpn_pref_clicked_cb), (nwam_vpn_cell_cb),
	(nwam_vpn_cell_edited_cb), (nwam_vpn_cell_comp_cb):
	* capplet/nwam_vpn_pref_dialog.h: initial work for VPN panel
	* daemon/Makefile.am: fix make dist error.
	* nbproject/configurations.xml:

2007-07-25  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c: (main): --add-wireless-dialog now accepts arg.
	* capplet/nwam_conn_conf_ip_panel.c: (nwam_conf_ip_panel_init),
	(nwam_multi_ip_clear), (renew_cb), (multi_line_add_cb),
	(multi_line_del_cb):
	Add some code for those callbacks.
	* daemon/nwam-menu.c: (nwam_menu_init), (nwam_menu_lower_part),
	(nwam_exec), (on_activate_addwireless), (on_activate_pref),
	(nwam_menu_create_favorwifi_menuitems),
	(nwam_menu_create_wifi_menuitems):
	Add callback for add no-favourate wireless.
	* daemon/status_icon.c: (animation_panel_icon_timeout),
	(trigger_animation_panel_icon), (animation_panel_icon_init),
	(status_icon_activate_cb), (get_status_icon):
	Some code for gconf notification and animation.
	* nbproject/Makefile-capplet.mk:
	* nbproject/Makefile-daemon.mk:
	* nbproject/Makefile-impl.mk:
	* nbproject/configurations.xml:
	* nbproject/private/configurations.xml:

2007-07-25  Darren Kenny  <darren.kenny@sun.com>
	* capplet/nwam-manager-properties.glade:
	  Update the glade file with some proper names for the environment
	  entries. Also set Socks default to 1080 rather than 80.

2007-07-24  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c:
	* daemon/nwam-menu.c: (nwam_menu_upper_part),
	(nwam_menu_lower_part), (nwam_exec), (on_activate_pref),
	(nwam_menu_add_nwammenuitem),
	(nwam_menu_create_favorwifi_menuitems),
	(nwam_menu_create_wifi_menuitems):
	add no-fav wifi to two places.
	Note that the path of nwam-manager-properties is hard coding in the
	beginning of nwam-menu.c

2007-07-23  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/main.c: (activate_cb):
	added callback to left-click the status icon.
	* daemon/nwam-menu.c: (nwam_menu_init), (nwam_menu_finalize),
	(nwam_menu_recreate_menuitems), (nwam_menu_upper_part),
	(nwam_exec), (on_activate_envpref), (on_activate_netpref),
	(nwam_menu_add_nwammenuitem), (nwam_menu_add_menuitem),
	(nwam_menu_add_radiomenuitem),
	(nwam_menu_create_favorwifi_menuitems),
	(nwam_menu_create_wifi_menuitems),
	(nwam_menu_create_env_menuitems), (nwam_menu_get_statusicon_menu):
	* daemon/nwam-menu.h:
	add signal callback for scan-wifi.

2007-07-23  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_pref_dialog.c: (show_changed_cb):
	Merged, removed code for the seperator of show_combo.

2007-07-23  Darren Kenny  <darren.kenny@sun.com>

	* capplet/Makefile.am:
	  Add new source files for conf_panel.
	* capplet/nwam_net_conf_panel.h, capplet/nwam_net_conf_panel.c: 
	  Implement support for the network configuration panel.
	* capplet/nwam-manager-properties.glade:
	  Give some useful names to the buttons on the wireless tab.
	* capplet/nwam_conn_conf_ip_panel.h, capplet/nwam_conn_conf_ip_panel.c: 
	  Populate the wireless favourites and add some handlers for the pressing
	  of the wireless buttons.
	* capplet/nwam_conn_stat_panel.h, capplet/nwam_conn_stat_panel.c: 
	  Update the connection status table, and also add status information to
	  for the env and vpn. Add launcher for the environment dialog.
	* capplet/nwam_env_pref_dialog.h, capplet/nwam_env_pref_dialog.c: 
	  Start to populate the env_pref dialog, still needs more work.
	  Add the ability to make it modal, and also fix some issues in the
	  _run function.
	* capplet/nwam_pref_dialog.c, capplet/nwam_pref_dialog.h:
	  Merge changes made by Lin and myself to make this functional.
	* capplet/nwam_pref_iface.h, capplet/nwam_pref_iface.c:
	  Fix a minor issue in the refresh function.
	* capplet/nwam_wireless_dialog.c:
	  Fix an issue in the _run function.
	* common/libnwamui.h, common/libnwamui.c: 
	  Provide functions to get Signal Strength Icon and Status Icon and the
	  "short" string description of an APs encryption.
	* common/nwamui_daemon.c: 
	  Fix an unnecessary unref that was causing a crash.
	* common/nwamui_env.c: 
	  Add an assertion in the env_finalise, since it really should not be
	  reached (at least not for now, may need to change later).
	* common/nwamui_ncp.c: 
	  Add speed and mode information to wifi networks.
	* common/nwamui_ncu.c, common/nwamui_ncu.h:
	  Fix the name (ncp should be ncu!) on some functions. Also ass shortcut
	  function to get signal strength info from wireless network.
	* common/nwamui_wifi_net.c, common/nwamui_wifi_net.h:
	  Add speed and mode information to the wifi networks.

2007-07-11  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_conf_ip_panel.c: (nwam_pref_init),
	(nwam_conf_ip_panel_init), (refresh):
	A little to refresh the panel according to passed NCU.
	* capplet/nwam_conn_stat_panel.c: (conn_view_row_activated_cb):
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_init),
	(nwam_capplet_dialog_new), (nwam_capplet_dialog_finalize),
	(show_changed_cb), (show_combo_cell_cb), (show_combo_separator_cb),
	(show_comob_add), (change_show_comob_model),
	(update_show_combo_from_ncp),
	(nwam_capplet_dialog_select_connection):
	* capplet/nwam_pref_dialog.h:
	Change the combo box of pref dialog to be a custom combo, record the
	object of NCUs rather than the display name. So when user double click
	the tree view of conn_stat_panel, we can pass the same object to pref
	dialog to choose it.

2007-07-10  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_conn_conf_ip_panel.c:
	(nwam_conf_ip_panel_class_init), (nwam_conf_ip_panel_finalize):
	* capplet/nwam_conn_stat_panel.c:
	(nwam_connstatus_panel_class_init),
	(nwam_connstatus_panel_finalize):
	* capplet/nwam_env_pref_dialog.c:
	(nwam_env_pref_dialog_class_init), (nwam_env_pref_dialog_finalize):
	* capplet/nwam_env_svc.c: (nwam_env_svc_class_init),
	(nwam_env_svc_finalize):
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_class_init),
	(nwam_capplet_dialog_finalize):
	* common/nwam_ui_icons.c: (nwam_ui_icons_finalize):
	Remove all duplicate parent_class from above panel objects.

2007-07-10  Lin Ma  <Lin.Ma@Sun.COM>

	* common/nwam_ui_icons.c: (nwam_ui_icons_load): Fix mem corruption.
	* common/nwamui_daemon.c: (nwamui_daemon_init),
	(nwamui_daemon_get_active_env_name),
	(nwamui_daemon_get_active_env): return value should do type cast on the
	data of the list stucture.
	* daemon/Makefile.am: Add new files.
	* daemon/main.c: (main): Add code for statusicon menu.
	* daemon/nwam-action.c: (nwam_action_class_init),
	(nwam_action_init), (nwam_action_new), (create_menu_item),
	(connect_proxy), (disconnect_proxy):
	* daemon/nwam-action.h: New gtkobject for gtk ui manager usage.
	* daemon/nwam-menu.c: (nwam_menu_class_init), (nwam_menu_init),
	(nwam_menu_finalize), (nwam_menu_upper_part),
	(nwam_menu_lower_part), (on_activate_addwireless),
	(on_activate_createwireless), (on_activate_editenv),
	(on_activate_pref), (nwam_menu_add_nwammenuitem),
	(nwam_menu_add_menuitem), (nwam_menu_add_radiomenuitem),
	(nwam_menu_remove_merge_id), (nwam_menu_menuitem_postfix),
	(nwam_menu_create_favorwifi_menuitems),
	(nwam_menu_create_wifi_menuitems),
	(nwam_menu_create_env_menuitems), (get_nwam_menu_instance),
	(nwam_menu_get_statusicon_menu), (get_status_icon_menu):
	Changes for creating the popup menu of the statusicon.
	* daemon/nwam-menu.h:
	* daemon/nwam-menuitem.c: (nwam_menu_item_class_init),
	(nwam_menu_item_init), (nwam_menu_item_set_property),
	(nwam_menu_item_get_property), (nwam_menu_item_forall),
	(nwam_menu_item_set_widget), (nwam_menu_item_get_widget),
	(nwam_menu_item_finalize), (nwam_menu_item_draw_indicator):
	* daemon/nwam-menuitem.h:
	Updated due to nwam-action and GUI v1.4 changes.
	* daemon/status_icon.c: (status_icon_show_menu):
	Updated according to the new code.

2007-07-09  Darren Kenny  <darren.kenny@sun.com>

	* common/libnwamui.h, common/libnwamui.c: 
	  (nwamui_util_free_obj_list):
	  Add new function to simplify freeing of a GList of GObjects.
	* common/nwamui_ncp.h, common/nwamui_ncp.c: 
	  (nwamui_ncp_foreach_ncu):
	  Add a new function to "walk" each ncu in the NCP and do something with
	  it.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  (nwamui_ncu_get_display_name):
	  Function to generate a display name in the format "vanity (dev)"
	* capplet/main.c: (main):
	  Change the startup order of things. To see "All Widgets" in the glade
	  file, you need to use the "-a" option now.
	  Now this will automatically run the NWAM Preferences Dialog by default.
	* capplet/nwam_conn_conf_ip_panel.h, capplet/nwam_conn_conf_ip_panel.c: 
	  (nwam_conf_ip_panel_init):
	  Update init function to look at current widget set.
	* capplet/nwam_conn_stat_panel.h, capplet/nwam_conn_stat_panel.c: 
	  (nwam_compose_tree_view), (nwam_connstatus_panel_init),
	  (add_ncu_element), (nwam_connstatus_panel_new), (nwam_conn_add),
	  (nwam_conn_update_status_cell_cb):
	  Start to link this panel object with the NCP/NCU.
	* capplet/nwam_glade.c: (nwam_glade_get_widget):
	  Have the function report any widgets it fails to get, not just assert.
	* capplet/nwam_pref_dialog.c: 
	  (nwam_capplet_dialog_init), (nwam_capplet_dialog_finalize),
	  (refresh_clicked_cb), (change_show_comob_model),
	  (update_show_combo_from_ncp):
	  Start link the connection menu to the NCP/NCU.
	* capplet/nwam_wireless_dialog.h, capplet/nwam_wireless_dialog.c: 
	  (nwam_wireless_dialog_show), (nwam_wireless_dialog_hide):
	  New functions to simply show/hide the dialog.

2007-07-06  Darren Kenny  <darren.kenny@sun.com>

	* common/Makefile.am:
	  Add new nwamui_enm.c file to sources.
	* common/nwamui_enm.c, common/nwamui_enm.h:
	  Added a new GObject for ENMs.
	* common/libnwamui.h:
	  Added ENM header to common include file.
	* common/nwamui_daemon.c: (nwamui_daemon_init),
	(nwamui_daemon_get_active_env_name),
	(nwamui_daemon_get_active_env), (nwamui_daemon_get_env_list),
	(nwamui_daemon_get_enm_list):
	* common/nwamui_env.c: (nwamui_env_new):
	  Fix a bug where the env_new call was always returning an empty object.
	* common/nwamui_ncu.h, common/nwamui_ncu.c: 
	  (nwamui_ncu_class_init), (nwamui_ncu_init),
	  (nwamui_ncu_set_property), (nwamui_ncu_get_property),
	  (nwamui_ncu_new), (nwamui_ncu_set_ncu_type),
	  (nwamui_ncu_get_ncu_type):
	  Correct the prefix for some functions from nwamu_ to nwamui_.
	  Add missing function nwamui_ncu_get_ncu_type (had to put 2nd _ncu_ in
	  there to avoid conflict with GObject type function).
	* capplet/main.c: 
	  (main), (process_ncu), (process_env),
	  (test_env_gobject), (process_enm), (test_enm_gobject):
	  Fill-out the tests for NCU, Env and ENM. 
	  Tests are only run now if the DO_TESTS environment variable is set.

2007-07-05  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_daemon.c: (nwamui_daemon_init),
	(nwamui_daemon_finalize), (nwamui_daemon_get_active_env_name),
	(nwamui_daemon_get_active_env), (nwamui_daemon_get_env_list):
	Update to be able to get the name of the active environment, a pointer to
	the active environment, and a list of the active environments.
	* common/nwamui_env.c: (nwamui_env_class_init), (nwamui_env_init),
	(nwamui_env_set_property), (nwamui_env_get_property),
	(nwamui_env_new), (nwamui_env_set_name), (nwamui_env_get_name),
	(nwamui_env_set_active), (nwamui_env_get_active),
	(nwamui_env_set_proxy_type), (nwamui_env_get_proxy_type),
	(nwamui_env_set_proxy_pac_file), (nwamui_env_get_proxy_pac_file),
	(nwamui_env_set_proxy_http_server),
	(nwamui_env_get_proxy_http_server),
	(nwamui_env_set_proxy_https_server),
	(nwamui_env_get_proxy_https_server),
	(nwamui_env_set_proxy_ftp_server),
	(nwamui_env_get_proxy_ftp_server), (nwamui_env_set_proxy_gopher),
	(nwamui_env_get_proxy_gopher), (nwamui_env_set_proxy_socks),
	(nwamui_env_get_proxy_socks), (nwamui_env_set_proxy_bypass_list),
	(nwamui_env_get_proxy_bypass_list), (nwamui_env_finalize):
	* common/nwamui_env.h:
	Fill out some possible properties of the environments and provide accessor
	functions.
	* common/nwamui_ncu.c: (nwamui_ncu_class_init), (nwamui_ncu_init),
	(nwamui_ncu_set_property), (nwamui_ncu_get_property),
	(nwamui_ncu_new), (nwamui_ncu_set_vanity_name),
	(nwamui_ncu_set_device_name), (nwamui_ncu_get_active),
	(nwamui_ncu_set_active), (nwamui_ncu_set_ipv4_auto_conf),
	(nwamui_ncu_get_ipv4_auto_conf), (nwamui_ncu_set_ipv4_address),
	(nwamui_ncu_get_ipv4_address), (nwamui_ncu_set_ipv4_subnet),
	(nwamui_ncu_get_ipv4_subnet), (nwamui_ncu_set_ipv4_gateway),
	(nwamui_ncu_get_ipv4_gateway), (nwamui_ncu_set_ipv6_active),
	(nwamui_ncu_get_ipv6_active), (nwamui_ncu_set_ipv6_auto_conf),
	(nwamui_ncu_get_ipv6_auto_conf), (nwamui_ncu_set_ipv6_address),
	(nwamui_ncu_get_ipv6_address), (nwamui_ncu_set_ipv6_prefix),
	(nwamui_ncu_get_ipv6_prefix):
	* common/nwamui_ncu.h:
	Fill out some possible properties of the NCU and provide accessor
	functions.

2007-07-04  Lin Ma  <Lin.Ma@Sun.COM>

	* Makefile.am: Add directory "pixmaps".
	* capplet/nwam_conn_conf_ip_panel.c: (nwam_pref_init):
	* capplet/nwam_conn_stat_panel.c: (nwam_pref_init):
	* capplet/nwam_env_svc.c: (nwam_pref_init),
	(nwam_compose_tree_view), (svc_toggle_cb):
	* capplet/nwam_pref_dialog.c: (nwam_pref_init),
	(nwam_capplet_dialog_finalize), (refresh), (apply), (response_cb),
	(refresh_clicked_cb): All implement interface nwam_pref_iface.
	* common/nwam_ui_icons.c: (nwam_ui_icons_load_filename),
	(nwam_ui_icons_load), (nwam_ui_icons_init):
	* common/nwam_ui_icons.h: Icon factory for nwam stock-ids. Need more
	work because the icon factory seems need iterate each default icon dir
	in /usr/share/icons and search each nwam icons.
	* configure.in: Add pixmaps/Makefile
	* daemon/Makefile.am: Fix a TAB nit.
	* daemon/main.c: (main): Fix according to nwam_ui_icons.
	* daemon/notify.c: (get_notification): Fix according to nwam_ui_icons.
	* daemon/status_icon.c: (nwam_status_icon_get_widget),
	(nwam_status_icon_set_tooltip), (status_icon_activate_cb),
	(get_status_icon): Fix according to nwam_ui_icons. Add some sample
	code. So we can implement what P2/3 define in NWAM gui v1.4. Still need
	more work, and change to Gobject seems to make sense.
	* daemon/status_icon.h: Add new function for showing a tooltip.
	* pixmaps/Makefile.am:
	* pixmaps/earth-info.png:
	* pixmaps/earth-normal.png:

2007-07-03  Darren Kenny  <darren.kenny@sun.com>

	* common/nwamui_ncp.c, common/nwamui_ncu.c, common/nwamui_ncu.h:
	  Added wireless information to the NCU.

2007-07-02  Darren Kenny  <darren.kenny@sun.com>

	* capplet/Makefile.am:
	  Add more source files
	* capplet/main.c: 
	  Add an additional flag for the enironment dialog. Also added some extra
	  tests for new objects, and updated some code to newer API.
	* capplet/nwam_env_pref_dialog.c, capplet/nwam_env_pref_dialog.h:
	  Rough implementation of this dialog, needs more work.
	* capplet/nwam_wireless_dialog.c:
	  Updates to use new GObjects.
	* common/Makefile.am:
	  Added more source files.
	* common/libnwamui.c: 
	  Some refactoring, renaming to use nwamui_util prefix, and also removing
	  some API that's been replaced in the GObjects.
	* common/libnwamui.h:
	  Changed this to be a "single source" header file for all of the code in
	  the common directoy, mainly to avoid looping inclusions, etc, so other
	  headerfiles in the common dir will report an error if included on their
	  own.
	* common/nwamui_daemon.c, common/nwamui_daemon.h:
	  Create a GObject representaion for the NWAM Daemon - this is a
	  singleton, and is the "root" of the API. Provides access to the active
	  elements of the Daemon (e.g. active NCP). It also is the place to
	  register for daemon events - currently the only event in there is a wifi
	  scan result - but ther will be more. You can also initiate a scan for
	  wifi networks from here, and the result will be via signals.
	* common/nwamui_env.c, common/nwamui_env.h:
	  Skeleton of the GObject for the Environment, needs to still be fleshed
	  out.
	* common/nwamui_ncp.c, common/nwamui_ncp.h:
	  GObject implementation of the NCP. It's quite basic, and is currently a
	  singleton for Phase 1. At the moment an NCP hasn't much of a role until
	  Phase 2 other than to provide a list of NCUs in NWAM.
	* common/nwamui_ncu.c, common/nwamui_ncu.h:
	  GObject implementation of the NCU. At the moment, while it can be
	  created with several properties, only the vanity name and device name
	  have getter functions, no setters yet. 
	* common/nwamui_wifi_net.c, common/nwamui_wifi_net.h:
	  GObject representation of a Wireless Network. It's got multiple uses, in
	  holding the information for the faviourites list, as well as being the
	  information wrapper for the results of a scan.
	* configure.in:
	  Add "ALL_LINGUAS" variable, which should be used when l10n starts.
	* daemon/nwam-menu.c: 
	  Fix compilation error (a char was being passed instead of a string).
	  Also corrected the call to gtk_action_remove_action to use the action
	  rather than the name. 
	* daemon/status_icon.c: 
	  Put in some needed casts for check menu items.

2007-06-15   Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Minor wording fixes re Mike's comments.
	Remove hostname/domain/router controls re Kacheong's comments,
	until we've figured out interaction with Duckwater
	naming services project.

2007-06-13   Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Rework IPv6 section per Michael's comments.

2007-06-11  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am: Add new files.
	* capplet/nwam_env_svc.c: (nwam_env_svc_class_init),
	(nwam_compose_tree_view), (nwam_env_svc_init), (nwam_env_svc_new),
	(nwam_env_svc_finalize), (nwam_env_svc_comp_cb),
	(nwam_env_svc_view_cb), (env_add_clicked_cb), (env_rem_clicked_cb),
	(object_notify_cb):
	* capplet/nwam_env_svc.h: Basic code for "Network Services" panel.

2007-06-08   Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Remove Renew Lease button from IPv6 DHCP section.

2007-06-08   Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Add proxies tab and Apply button to environment dialog.
	Layout and label tweaks in Connection Status view.
	Label tweaks in Network Config view.
	TCP/IP -> IP Address on tab label.
	Insert Add button on multiple IPV4 and IPV6 address panes.
	Add Rename Environment dialog.
	Update security types/fields in wireless dialog re Quaker's mail.
	s/SSID/ESSID in wireless dialog.

2007-06-07  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am: Added nwam_conn_conf_ip_panel.[hc],
	nwam_pref_iface.[hc]
	* capplet/nwam_conn_conf_ip_panel.c:
	(nwam_conf_ip_panel_class_init), (nwam_compose_tree_model),
	(nwam_compose_tree_view), (nwam_conf_ip_panel_init),
	(nwam_connstatus_elements_init), (nwam_conf_ip_panel_new),
	(nwam_conf_ip_panel_refresh), (nwam_multi_ip_add),
	(nwam_multi_ip_clear), (nwam_conf_ip_panel_finalize),
	(nwam_conn_multi_ip_comp_cb), (renew_cb), (multi_line_del_cb),
	(object_notify_cb), (show_changed_cb), (ok_clicked_cb),
	(nwam_conn_multi_ip_cell_cb), (nwam_conn_multi_ip_cell_edited_cb):
	* capplet/nwam_conn_conf_ip_panel.h:
	Used for TCP/IP panel
	* capplet/nwam_conn_stat_panel.c: Fixed some nits.
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_new),
	(show_changed_cb):
	* capplet/nwam_pref_dialog.h:
	Preferences dialog should be a singleton.
	* capplet/nwam_pref_iface.c: (nwam_pref_iface_base_init),
	(nwam_pref_iface_class_init), (nwam_pref_iface_get_type),
	(nwam_pref_refresh), (nwam_pref_apply):
	* capplet/nwam_pref_iface.h:
	Added preference interface for all the panel instances for refreshing
	and applying.
	* common/nwamui_ncp.h:
	* common/nwamui_ncu.c: (nwamui_ncu_class_init),
	(nwamui_ncu_set_property), (nwamui_ncu_get_property):
	* common/nwamui_ncu.h:
	* missing: Auto-gen, removed.
	* mkinstalldirs: Auto-gen, removed.

2007-06-06  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/main.c: (main): Add new argument for "Network Preferences"
	cappplet dialog.
	* capplet/nwam_conn_stat_panel.c: (nwam_connstatus_panel_init):
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_class_init),
	(nwam_capplet_dialog_init), (nwam_capplet_dialog_new),
	(nwam_capplet_dialog_run), (nwam_capplet_dialog_refresh),
	(nwam_capplet_dialog_finalize), (response_cb), (show_changed_cb),
	(object_notify_cb), (refresh_clicked_cb):
	Move the callback of refresh_button from nwam_conn_stat_panel.c to
	nwam_pref_dialog.c

2007-06-01  Darren Kenny  <darren.kenny@sun.com>

	* common/Makefile.am, common/nwamui_env.c, common/nwamui_env.h,
	  common/nwamui_ncp.c, common/nwamui_ncp.h, common/nwamui_ncu.c, 
	  common/nwamui_ncu.h:
	  Add basic GObject files for NCU, NCP and ENV wrapping, not usable
	  currently, since there is not even the basic stubbing done.
	  Will need to move to using these instead of the pointer already in
	  libnwamui.c, when stubbing is done.

2007-05-29  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am: Added capplet/nwam_conn_stat_panel.c
	* capplet/nwam_conn_stat_panel.c:
	(nwam_connstatus_panel_class_init), (nwam_compose_tree_view),
	(nwam_connstatus_panel_init), (nwam_connstatus_panel_new),
	(nwam_connstatus_panel_refresh), (nwam_conn_add),
	(nwam_conn_clear), (nwam_connstatus_panel_finalize),
	(nwam_connection_comp_cb), (nwam_conn_update_status_cell_cb),
	(conn_view_row_activated_cb), (env_clicked_cb), (vpn_clicked_cb),
	(refresh_clicked_cb), (object_notify_cb):
	* capplet/nwam_conn_stat_panel.h:
	Added connection status panel.
	* common/libnwamui.c: (nwamui_wifi_signal_strength):
	* common/libnwamui.h:
	New function for get strength for a wireless connection.
	* common/nwam_ui_icons.c: (nwam_ui_icons_load_filename):
	Use glib function to get icon filename, but maybe need extra fix to
	remove the file ext name before using it.

2007-05-28  Darren Kenny  <darren.kenny@sun.com>

	* capplet/Makefile.am, daemon/Makefile.am:
	  Add common/libnwamui.la to link line.
	* capplet/nwam_wireless_dialog.h:
	* common/libnwamui.h, common/libnwamui.c: 
	  (nwamui_wifi_essid_new), (nwamui_wifi_essid_free), (nwamui_wifi_scan),
	  (nwamui_wifi_sec_to_string), (nwamui_wifi_wpa_config_to_string):
	  Move some  functions from nwam_wireless_dialog.c. Also then added a
	  function to performa a wifi scan for a given ncu. Currently this is
	  only a stub.
	* capplet/nwam_wireless_dialog.c:
	  (nwam_wireless_dialog_class_init), (nwam_wireless_dialog_init),
	  (change_essid_cbentry_model),
	  (add_essid_list_item_to_essid_liststore), (populate_essid_combo),
	  (nwam_wireless_dialog_set_property),
	  (nwam_wireless_dialog_set_security),
	  (nwam_wireless_dialog_get_security),
	  (nwam_wireless_dialog_set_wpa_config_type),
	  (nwam_wireless_dialog_get_wpa_config_type),
	  (security_selection_cb), (essid_changed_cb), (object_notify_cb):
	  Refactor some code given changes made, and some renaming of macros to
	  use NWAMUI_ prefix. Also handle the case where the selection of an entry
	  from the ESSID combobox would result in changing the encryption combobox
	  to match the selected ESSID.
	* capplet/main.c: (test_nwam_wireless_dialog):
	  Update tests to reflect changes made in API.
	* nbproject/configurations.xml:
	  Add common dir to project, and remove nonexistant entries for
	  nwam_capplet.[ch].

2007-05-28  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/nwam_pref_dialog.c: Removed useless lines.
	* common/Makefile.am:
	* common/nwam_ui_icons.c: (nwam_ui_icons_class_init),
	(nwam_ui_icons_load_filename), (nwam_ui_icons_load),
	(nwam_ui_icons_init), (nwam_ui_icons_new),
	(nwam_ui_icons_finalize):
	* common/nwam_ui_icons.h:
	Added sources to load icon files and convert to gtk stocks.

2007-05-23  Darren Kenny  <darren.kenny@sun.com>

	* capplet/nwam-manager-properties.glade:
	  Remove Translatable for ssid_combo_entry to stop glade creating a string
	  model for it - want to override the model in code to allow for an icon
	  to be included on it.
	* capplet/nwam_wireless_dialog.c: 
	  Add the ability to scan for a wireless network, and populate the
	  drop-down list if ESSIDs with an icon to show whether it's open or
	  encrypted. (Doesn't really scan yet though).
	* common/libnwamui.h: Empty header file, placeholder.
	* nbproject/configurations.xml:
	  Add common dir files to project.

2007-05-23  Darren Kenny  <darren.kenny@sun.com>

	* capplet/main.c: 
	  Add tests for new properties.
	* capplet/nwam_wireless_dialog.h, capplet/nwam_wireless_dialog.c:
	  Add updates to support new dialog fields and pages as added by Calum
	  in glade file.
	* configure.in, common/Makefile.am, common/libnwamui.c, Makefile.am:
	  New common directory, intended to provide staticly linked methods that
	  will wrap the libnwam calls - initially will be stubbed, but will
	  eventually link with libnwam. Currently the .c file is empty.
	* nbproject/Makefile-Default.mk, nbproject/Makefile-impl.mk,
	   nbproject/Makefile-capplet.mk, nbproject/Makefile-daemon.mk,
	  nbproject/configurations.xml, nbproject/private/configurations.xml:
	  Add new files to project. Also created "configurations" to allow for the
	  running/debugging of the capplet or daemon depending on the
	  configuration we're working on.

2007-05-21  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am: Added capplet/nwam_pref_dialog.[hc]
	* capplet/nwam_pref_dialog.c: (nwam_capplet_dialog_class_init),
	(nwam_capplet_dialog_init), (nwam_capplet_dialog_new),
	(nwam_capplet_dialog_run), (nwam_capplet_dialog_refresh),
	(nwam_capplet_dialog_finalize), (response_cb), (show_changed_cb),
	(object_notify_cb): Initiale code for NWAM Preferences Dialog.
	* capplet/nwam_pref_dialog.h: Initiale code for NWAM Preferences
	Dialog.
	* nbproject/configurations.xml: Added files.

2007-05-18  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Add different security types to Add Wireless Network dialog
	Make SSID entry field an editable combo instead

2007-05-18  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:
	Add Refresh button to capplet
	Add Environments button to Connection Status tab
	Add Up/Down/Rename buttons to Network Config tab
	Change title of Environment Dialog
	Add 'None' option to IPv4 and IPv6 combos
	Add Router field to IPv6 section
	Add "Show Password" checkbox to Add Network dialog

        Add VPN bits.
2007-05-18  Darren Kenny <darren.kenny@sun.com>
	* capplet/main.c, capplet/nwam-manager-properties.glade:
	Change Glade file to not always show dialogs, instead do this using code
	in main.c - any new dialogs should be added to the list here if you want
	to be able to see them.

2007-05-18  Lin Ma  <Lin.Ma@Sun.COM>

	* capplet/Makefile.am: Fixed the error 'cant find 
	nwam-manager-properties.glade file'.
	* capplet/nwam_glade.c: ditto.

2007-05-16  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	  Add VPN bits.

2007-05-16  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Rejig wireless tab layout-- combo box now has different options.

2007-05-16  Darren Kenny <darren.kenny@sun.com>

	* capplet/Makefile.am:
	Add new files to Makefile
	* capplet/nwam_glade.c, capplet/nwam_glade.h:
	Move handling of glade file to a single location, to avoid multiple
	loading of the XML file.
	* capplet/callbacks.c, capplet/callbacks.h:
	Rename the nwam_properties_init_callbacks() function to
	nwam_init_callbacks().
	* capplet/nwam_wireless_dialog.c, capplet/nwam_wireless_dialog.h:
	Wrap the "add_wireless_network" dialog in a GObject.
	* capplet/main.c:
	Modified to use new nwam_glade functions, and also handle some
	command-line params to either show only the add_wireless_dialog or to
	simply show all dialogs (the default so Calum can see them easily).
	* nbproject/configurations.xml:
	Add some more files to the nbproject.
	* po/.cvsignore:
	Ignore some more generated files.

2007-05-11  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Layout tweaks and fix some resize behaviour.

2007-05-11  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Label tweaks, and add column headers to wireless
	network selection dialog.
	
2007-05-10  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Add "select a wireless network" dialog.

2007-05-08  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Re-jig the environment dialog again with a more
	compact design.

2007-05-04  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Name controls sensibly this time.

2007-05-04  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Add the Environment dialog.

2007-05-04  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Add Connection Status and Network Config panes.

2007-05-04  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Relocate hostname/domain fields on TCP/IP tab; didn't
	make sense where they were.

2007-05-04  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Simplify options on wireless tab, makes it a bit
	more compact.

2007-05-04  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	Fill out TCP/IP tab.

2007-05-04  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	First pass at Add Wireless Network dialog; might need
	a little more work to support multiple security types.

2007-05-03  Calum Benson <Calum.Benson@Sun.COM>

	* capplet/nwam-manager-properties.glade:

	First putback; mostly just the Wireless tab so far :/
	
2007-04-26  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/Makefile.am: removed header files
	* daemon/nwam-menuitem.c: (nwam_menu_item_init),
	(nwam_menu_item_set_property), (nwam_menu_item_get_property),
	(nwam_menu_item_finalize): fixed warnings.
	* daemon/nwam-menuitem.h:
	* daemon/status_icon.c: included nwam-menuitem.h

2007-04-19  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/nwam-manager.schemas.in: Merged, few template code.

2007-04-19  Lin Ma  <Lin.Ma@Sun.COM>

	* daemon/Makefile.am: Added nwam-menuitem.[hc]
	* daemon/nwam-menuitem.c: (nwam_menu_item_class_init),
	(nwam_menu_item_init), (nwam_menu_item_set_property),
	(nwam_menu_item_get_property), (nwam_menu_item_forall),
	(nwam_menu_item_new), (nwam_menu_item_new_with_label),
	(nwam_menu_item_set_image), (nwam_menu_item_get_image),
	(nwam_menu_item_finalize):
	* daemon/nwam-menuitem.h: For wireless menu item.
	* daemon/status_icon.c: (status_icon_show_menu): Added testing code.

2007-04-13  Darren Kenny  <darren.kenny@sun.com>

	* Makefile.am:  put back capplet
	* daemon/.cvsignore, capplet/.cvsignore:   
	  Ignore some generated files
	* capplet/Makefile.am:  add c files and remove schemas
	* capplet/callbacks.h, capplet/callbacks.c: 
	  (nwam_properties_init_callbacks), (do_exit):
	  Add some basic functions
	* capplet/main.c: (main):
	  Load glade file and show dialog (although it's 
	  only a close button now).
	* capplet/nwam-manager-properties.glade:
	  Skeleton glade file
	* daemon/nwam-manager.schemas.in:
	  Skeleton schemas file (no schemas right now).
	* nbproject/configurations.xml:
	  Updated project file, to reflect new files.

2007-04-13  Darren Kenny <darren.kenny@sun.com>

	* daemon/Makefile.am: change ref to ospm to nwam-manager

2007-04-13  Lin Ma  <Lin.Ma@Sun.COM>

	* Makefile.am: top makefile, temporarily disable building capplet.
	* daemon/Makefile.am: fixed a nit.
	* daemon/nwam-menu.c: (on_activate_addwireless),
	(on_activate_createwireless), (on_activate_editenv),
	(on_activate_pref), (get_status_icon_menu),
	(add_netent_tmenuitem_ontop), (del_netent_tmenuitem): create a basic
	regular pop up menu for nwam status icon.
	* daemon/nwam-menu.h:
	* daemon/nwam-ui.xml: pop up menu ui file.
	* daemon/status_icon.c:
	* nbproject/configurations.xml:

2007-04-11  Darren Kenny <darren.kenny@sun.com>

	* Initial checkin.
	

vim: noexpandtab :
